(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Ovxu:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),r=function(){return function(){}}(),a=t("NcP4"),u=t("pMnS"),i=t("ZYCi"),o=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),s=e.qb({encapsulation:0,styles:[[""]],data:{}});function c(n){return e.Mb(0,[(n()(),e.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.rb(1,212992,null,0,i.p,[i.c,e.R,e.j,[8,null],e.h],null,null)],function(n,l){n(l,1,0)},null)}function d(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-main",[],null,null,null,c,s)),e.rb(1,114688,null,0,o,[],null,null)],function(n,l){n(l,1,0)},null)}var f=e.ob("app-main",o,d,{},{},[]),h=t("BHnd"),p=t("y4qS"),g=t("Ip0R"),b=t("Fzqc"),m=t("Wf4p"),v=t("dWZg"),_=e.qb({encapsulation:2,styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-footer-row,mat-row{min-height:48px}mat-footer-row,mat-header-row,mat-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-footer-row::after,mat-header-row::after,mat-row::after{display:inline-block;min-height:inherit;content:''}mat-cell:first-of-type,mat-footer-cell:first-of-type,mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-footer-cell:last-of-type,mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-footer-cell,mat-header-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-footer-row,tr.mat-row{height:48px}th.mat-header-cell{text-align:left}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type,th.mat-header-cell:first-of-type{padding-left:24px}td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type,th.mat-header-cell:last-of-type{padding-right:24px}"],data:{}});function y(n){return e.Mb(2,[e.Ib(402653184,1,{_rowOutlet:0}),e.Ib(402653184,2,{_headerRowOutlet:0}),e.Ib(402653184,3,{_footerRowOutlet:0}),(n()(),e.sb(3,16777216,null,null,1,null,null,null,null,null,null,null)),e.rb(4,16384,[[2,4]],0,p.s,[e.R,e.k],null,null),(n()(),e.sb(5,16777216,null,null,1,null,null,null,null,null,null,null)),e.rb(6,16384,[[1,4]],0,p.q,[e.R,e.k],null,null),(n()(),e.sb(7,16777216,null,null,1,null,null,null,null,null,null,null)),e.rb(8,16384,[[3,4]],0,p.r,[e.R,e.k],null,null)],null,null)}var x=e.qb({encapsulation:2,styles:[],data:{}});function A(n){return e.Mb(2,[(n()(),e.sb(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.rb(1,147456,null,0,p.c,[e.R],null,null)],null,null)}var w=e.qb({encapsulation:2,styles:[],data:{}});function k(n){return e.Mb(2,[(n()(),e.sb(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.rb(1,147456,null,0,p.c,[e.R],null,null)],null,null)}var C=t("4epT"),D=t("eDkP"),M=t("M2Lx"),L=t("uGex"),S=t("v9Dh"),R=t("UodH"),O=t("4c35"),E=t("qAlS"),F=t("seP3"),T=t("lLAP"),B=t("MlvX"),G=t("dJrM"),N=t("wFw1"),P=t("Azqq"),I=t("gIcY"),H=t("bujt"),K=e.qb({encapsulation:2,styles:[".mat-paginator{display:block}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center;min-height:48px}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}"],data:{}});function z(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,l,t){var r=!0;return"click"===l&&(r=!1!==e.Cb(n,1)._selectViaInteraction()&&r),"keydown"===l&&(r=!1!==e.Cb(n,1)._handleKeydown(t)&&r),r},B.c,B.a)),e.rb(1,8568832,[[8,4]],0,m.q,[e.k,e.h,[2,m.j],[2,m.p]],{value:[0,"value"]},null),(n()(),e.Kb(2,0,["",""]))],function(n,l){n(l,1,0,l.context.$implicit)},function(n,l){n(l,0,0,e.Cb(l,1)._getTabIndex(),e.Cb(l,1).selected,e.Cb(l,1).multiple,e.Cb(l,1).active,e.Cb(l,1).id,e.Cb(l,1).selected.toString(),e.Cb(l,1).disabled.toString(),e.Cb(l,1).disabled),n(l,2,0,l.context.$implicit)})}function j(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,17,"mat-form-field",[["class","mat-paginator-page-size-select mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,G.b,G.a)),e.rb(1,7389184,null,7,F.b,[e.k,e.h,[2,m.h],[2,b.b],[2,F.a],v.a,e.B,[2,N.a]],null,null),e.Ib(335544320,1,{_control:0}),e.Ib(335544320,2,{_placeholderChild:0}),e.Ib(335544320,3,{_labelChild:0}),e.Ib(603979776,4,{_errorChildren:1}),e.Ib(603979776,5,{_hintChildren:1}),e.Ib(603979776,6,{_prefixChildren:1}),e.Ib(603979776,7,{_suffixChildren:1}),(n()(),e.sb(9,0,null,1,8,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(n,l,t){var r=!0,a=n.component;return"keydown"===l&&(r=!1!==e.Cb(n,11)._handleKeydown(t)&&r),"focus"===l&&(r=!1!==e.Cb(n,11)._onFocus()&&r),"blur"===l&&(r=!1!==e.Cb(n,11)._onBlur()&&r),"selectionChange"===l&&(r=!1!==a._changePageSize(t.value)&&r),r},P.b,P.a)),e.Hb(6144,null,m.j,null,[L.c]),e.rb(11,2080768,null,3,L.c,[E.e,e.h,e.B,m.d,e.k,[2,b.b],[2,I.k],[2,I.d],[2,F.b],[8,null],[8,null],L.a],{value:[0,"value"],ariaLabel:[1,"ariaLabel"]},{selectionChange:"selectionChange"}),e.Ib(603979776,8,{options:1}),e.Ib(603979776,9,{optionGroups:1}),e.Ib(335544320,10,{customTrigger:0}),e.Hb(2048,[[1,4]],F.c,null,[L.c]),(n()(),e.jb(16777216,null,1,1,null,z)),e.rb(17,278528,null,0,g.k,[e.R,e.O,e.u],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,11,0,t.pageSize,t._intl.itemsPerPageLabel),n(l,17,0,t._displayedPageSizeOptions)},function(n,l){n(l,0,1,["standard"==e.Cb(l,1).appearance,"fill"==e.Cb(l,1).appearance,"outline"==e.Cb(l,1).appearance,"legacy"==e.Cb(l,1).appearance,e.Cb(l,1)._control.errorState,e.Cb(l,1)._canLabelFloat,e.Cb(l,1)._shouldLabelFloat(),e.Cb(l,1)._hideControlPlaceholder(),e.Cb(l,1)._control.disabled,e.Cb(l,1)._control.autofilled,e.Cb(l,1)._control.focused,"accent"==e.Cb(l,1).color,"warn"==e.Cb(l,1).color,e.Cb(l,1)._shouldForward("untouched"),e.Cb(l,1)._shouldForward("touched"),e.Cb(l,1)._shouldForward("pristine"),e.Cb(l,1)._shouldForward("dirty"),e.Cb(l,1)._shouldForward("valid"),e.Cb(l,1)._shouldForward("invalid"),e.Cb(l,1)._shouldForward("pending"),!e.Cb(l,1)._animationsEnabled]),n(l,9,1,[e.Cb(l,11).id,e.Cb(l,11).tabIndex,e.Cb(l,11)._getAriaLabel(),e.Cb(l,11)._getAriaLabelledby(),e.Cb(l,11).required.toString(),e.Cb(l,11).disabled.toString(),e.Cb(l,11).errorState,e.Cb(l,11).panelOpen?e.Cb(l,11)._optionIds:null,e.Cb(l,11).multiple,e.Cb(l,11)._ariaDescribedby||null,e.Cb(l,11)._getAriaActiveDescendant(),e.Cb(l,11).disabled,e.Cb(l,11).errorState,e.Cb(l,11).required])})}function Y(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Kb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.pageSize)})}function U(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,6,"div",[["class","mat-paginator-page-size"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,1,"div",[["class","mat-paginator-page-size-label"]],null,null,null,null,null)),(n()(),e.Kb(2,null,["",""])),(n()(),e.jb(16777216,null,null,1,null,j)),e.rb(4,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,null,1,null,Y)),e.rb(6,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,4,0,t._displayedPageSizeOptions.length>1),n(l,6,0,t._displayedPageSizeOptions.length<=1)},function(n,l){n(l,2,0,l.component._intl.itemsPerPageLabel)})}function V(n){return e.Mb(0,[(n()(),e.sb(0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-first"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,t){var r=!0,a=n.component;return"longpress"===l&&(r=!1!==e.Cb(n,2).show()&&r),"keydown"===l&&(r=!1!==e.Cb(n,2)._handleKeydown(t)&&r),"touchend"===l&&(r=!1!==e.Cb(n,2)._handleTouchend()&&r),"click"===l&&(r=!1!==a.firstPage()&&r),r},H.b,H.a)),e.rb(1,180224,null,0,R.b,[e.k,v.a,T.f,[2,N.a]],{disabled:[0,"disabled"]},null),e.rb(2,147456,null,0,S.d,[D.c,e.k,E.c,e.R,e.B,v.a,T.c,T.f,S.b,[2,b.b],[2,S.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),e.sb(3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,0,":svg:path",[["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"]],null,null,null,null,null)),(n()(),e.jb(0,null,null,0))],function(n,l){var t=l.component;n(l,1,0,!t.hasPreviousPage()),n(l,2,0,"above",!t.hasPreviousPage(),t._intl.firstPageLabel)},function(n,l){n(l,0,0,l.component._intl.firstPageLabel,e.Cb(l,1).disabled||null,"NoopAnimations"===e.Cb(l,1)._animationMode)})}function q(n){return e.Mb(0,[(n()(),e.sb(0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-last"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,t){var r=!0,a=n.component;return"longpress"===l&&(r=!1!==e.Cb(n,2).show()&&r),"keydown"===l&&(r=!1!==e.Cb(n,2)._handleKeydown(t)&&r),"touchend"===l&&(r=!1!==e.Cb(n,2)._handleTouchend()&&r),"click"===l&&(r=!1!==a.lastPage()&&r),r},H.b,H.a)),e.rb(1,180224,null,0,R.b,[e.k,v.a,T.f,[2,N.a]],{disabled:[0,"disabled"]},null),e.rb(2,147456,null,0,S.d,[D.c,e.k,E.c,e.R,e.B,v.a,T.c,T.f,S.b,[2,b.b],[2,S.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),e.sb(3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,0,":svg:path",[["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],null,null,null,null,null)),(n()(),e.jb(0,null,null,0))],function(n,l){var t=l.component;n(l,1,0,!t.hasNextPage()),n(l,2,0,"above",!t.hasNextPage(),t._intl.lastPageLabel)},function(n,l){n(l,0,0,l.component._intl.lastPageLabel,e.Cb(l,1).disabled||null,"NoopAnimations"===e.Cb(l,1)._animationMode)})}function X(n){return e.Mb(2,[(n()(),e.sb(0,0,null,null,19,"div",[["class","mat-paginator-container"]],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,U)),e.rb(2,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(3,0,null,null,16,"div",[["class","mat-paginator-range-actions"]],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,1,"div",[["class","mat-paginator-range-label"]],null,null,null,null,null)),(n()(),e.Kb(5,null,["",""])),(n()(),e.jb(16777216,null,null,1,null,V)),e.rb(7,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(8,16777216,null,null,4,"button",[["class","mat-paginator-navigation-previous"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,t){var r=!0,a=n.component;return"longpress"===l&&(r=!1!==e.Cb(n,10).show()&&r),"keydown"===l&&(r=!1!==e.Cb(n,10)._handleKeydown(t)&&r),"touchend"===l&&(r=!1!==e.Cb(n,10)._handleTouchend()&&r),"click"===l&&(r=!1!==a.previousPage()&&r),r},H.b,H.a)),e.rb(9,180224,null,0,R.b,[e.k,v.a,T.f,[2,N.a]],{disabled:[0,"disabled"]},null),e.rb(10,147456,null,0,S.d,[D.c,e.k,E.c,e.R,e.B,v.a,T.c,T.f,S.b,[2,b.b],[2,S.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),e.sb(11,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),e.sb(12,0,null,null,0,":svg:path",[["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"]],null,null,null,null,null)),(n()(),e.sb(13,16777216,null,null,4,"button",[["class","mat-paginator-navigation-next"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(n,l,t){var r=!0,a=n.component;return"longpress"===l&&(r=!1!==e.Cb(n,15).show()&&r),"keydown"===l&&(r=!1!==e.Cb(n,15)._handleKeydown(t)&&r),"touchend"===l&&(r=!1!==e.Cb(n,15)._handleTouchend()&&r),"click"===l&&(r=!1!==a.nextPage()&&r),r},H.b,H.a)),e.rb(14,180224,null,0,R.b,[e.k,v.a,T.f,[2,N.a]],{disabled:[0,"disabled"]},null),e.rb(15,147456,null,0,S.d,[D.c,e.k,E.c,e.R,e.B,v.a,T.c,T.f,S.b,[2,b.b],[2,S.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(n()(),e.sb(16,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(n()(),e.sb(17,0,null,null,0,":svg:path",[["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,q)),e.rb(19,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,2,0,!t.hidePageSize),n(l,7,0,t.showFirstLastButtons),n(l,9,0,!t.hasPreviousPage()),n(l,10,0,"above",!t.hasPreviousPage(),t._intl.previousPageLabel),n(l,14,0,!t.hasNextPage()),n(l,15,0,"above",!t.hasNextPage(),t._intl.nextPageLabel),n(l,19,0,t.showFirstLastButtons)},function(n,l){var t=l.component;n(l,5,0,t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)),n(l,8,0,t._intl.previousPageLabel,e.Cb(l,9).disabled||null,"NoopAnimations"===e.Cb(l,9)._animationMode),n(l,13,0,t._intl.nextPageLabel,e.Cb(l,14).disabled||null,"NoopAnimations"===e.Cb(l,14)._animationMode)})}var W=t("VphZ"),Z=t("iAOh"),J=t("cL9I"),$=t("e3D4"),Q=t("YYQq"),nn=t("56+L"),ln=t("9eVe"),tn=t("ZRdh"),en=function(){function n(n,l,t,e,r){this.crudService=n,this.plantillaGraficos=l,this.utilesService=t,this.d3FormatLocalService=e,this.progressLoadingService=r,this.meta=new tn.a,this.total_venta_last_week_now=0,this.total_venta_last_week_previus=0,this.count_pedidos_last_week_now=0,this.por_signo_week_now=0,this.por_venta_now_vs_previus_week=0,this.dif_venta_now_vs_previus_week=0,this.dias_paso_meta_week="",this.dia_week_mas_venta="",this.total_venta_last_mes_now=0,this.total_venta_last_mes_previus=0,this.count_pedidos_last_mes_now=0,this.por_signo_mes_now=0,this.por_venta_now_vs_previus_mes=0,this.dif_venta_now_vs_previus_mes=0,this.mes_paso_meta_mes="",this.mes_mas_venta="",this.tasa_clientes_nuevos=0,this.tasa_clientes_nuevos_count=0,this.tasa_clientes_nuevos_signo=0,this.tasa_clientes_nuevos_mes_anterior=0,this.tasa_clientes_retencion=0,this.tasa_clientes_retencion_count=0,this.tasa_clientes_retencion_signo=0,this.tasa_clientes_retencion_mes_anterior=0,this.tasa_clientes_desercion=0,this.tasa_clientes_desercion_count=0,this.tasa_clientes_desercion_signo=!1,this.tasa_clientes_desercion_mes_anterior=0,this.tasa_clientes_tiket_promedio=0,this.tasa_clientes_tiket_promedio_signo=0,this.tasa_clientes_tiket_promedio_mes_anterior=0,this.horas_punta="",this.horas_libres="",this.data_cliente_consumo=new h.l,this.displayedColumns=["Cliente","tp","Visitas","Frecuencia","Ultima Visita","Consumo Promedio","Consumo Total"],this.datos_ventas=[],this.fecha_actual=""}return n.prototype.ngOnInit=function(){this.progressLoadingService.setLoading(!0),this.data_cliente_consumo.paginator=this.paginator,W.timeFormatDefaultLocale(this.d3FormatLocalService.formatoLocal()),this.format_money=W.format("(,.2f"),this.getDataMeta()},n.prototype.getDataMeta=function(){var n=this;this.crudService.getAll("estadistica","getMetaSede",!1,!1).subscribe(function(l){if(l.success){if(0===l.data.length)return n.meta.diaria=0,n.meta.mensual=0,void(n.meta.anual=0);n.meta.diaria=l.data[0].diaria,n.meta.mensual=l.data[0].mensual,n.meta.anual=l.data[0].anual,n.xGetFechaActual()}else console.log(l)})},n.prototype.xTasa_clientes=function(n,l){var t={};t._num_mes=l;var e=n.length;t._count_clie_periodo=e;var r=n.filter(function(n){return n.value.num_mes_registro==l}).length;t._count_clie_new=r;var a=Math.round(r/e*100);t._tasa_clie_news=a;var u=l-1,i=n.filter(function(n){return parseFloat(n.value.num_mes_ultima_visita)<=u}).length,o=Math.round(i/e*100);t._tasa__desercion_count=i,t._tasa__desercion=o;var s=n.filter(function(n){return n.value.num_mes_ultima_visita==l&&n.value.count>1}).length;t._tasa_retencion=100-o,t._tasa_retencion_count=s;var c=n.filter(function(n){return n.value.num_mes_int==l}).map(function(n){return n.value.ticket_promedio}).reduce(function(n,l){return n+l},0),d=Math.round(c/r);return t._ticket_promedio_clie=this.format_money(d),t},n.prototype.xGetFechaActual=function(){var n=this;this.crudService.getTimeNow().subscribe(function(l){n.fecha_actual=l.data.f_actual,n.xAsignarPlantillaGraficos(),n.xGenerarGraficos()})},n.prototype.xGenerarGraficos=function(){var n=this;this.crudService.getAll("estadistica","getVentas",!1,!1).subscribe(function(l){n.datos_ventas=n.d3FormatLocalService.setearDataTimeDimension(l.data,"fecha",n.fecha_actual);var t=W.timeFormat("%Y-%m-%d"),e=W.timeParse("%d/%m/%Y"),r=W.timeFormat("%A"),a=W.timeFormat("%B"),u=W.timeFormat("%m"),i=Z(n.datos_ventas),o=i.dimension(function(n){return n.yy}),s=i.dimension(function(n){return n.mmyy}),c=i.dimension(function(n){return n.dd}),d=i.dimension(function(n){return n.hora24}),f=i.dimension(function(n){return n.idcliente}),h=n.meta.diaria,p=n.meta.mensual,g=n.meta.anual,b=d.group().reduce(function(n,l,t){return n.count+=1,n.xtotal+=parseFloat(l.total),n.descripcion=l.hora12,n.hora24=l.hora24,n},function(n,l,t){return n.count-=1,n.xtotal-=parseFloat(l.total),n.descripcion=l.hora12,n.hora24=l.hora24,n},function(){return{count:0,xtotal:0,descripcion:"",hora24:0}}).order(function(n){return n.hora24}).all().filter(function(n){return n.value.count>10});n.horas_punta=b.map(function(n){return n}).sort(function(n,l){return l.value.count-n.value.count}).slice(0,2).reverse().map(function(n){return n.value.descripcion}).join(" - "),n.horas_libres=b.map(function(n){return n}).sort(function(n,l){return n.value.count-l.value.count}).slice(0,4).sort(function(n,l){return n.value.hora24-l.value.hora24}).map(function(n){return n.value.descripcion}).join(" - ");var m=("x,"+b.map(function(n){return n.key}).join(",")).split(","),v=("Hora punta,"+b.map(function(n){return n.value.count}).join(",")).split(",");n.chart_hora_punta.load({columns:[m,v]});var _=c.group().reduce(function(n,l,t){return n.count+=1,n.xtotal+=parseFloat(l.total),n.paso_meta=n.xtotal>n.meta,n.f=l.dd,n.descripcion=l.nom_dia,n.num_week=l.num_week,n},function(n,l,t){return n.count-=1,n.xtotal-=parseFloat(l.total),n.paso_meta=n.xtotal>n.meta,n.f=l.dd,n.descripcion=l.nom_dia,n.num_week=l.num_week,n},function(){return{count:0,xtotal:0,f:"",descripcion:"",num_week:0,meta:h,paso_meta:!1,hora:""}}).order(function(n){return n.f}).top(20),y=0;_.slice(0,3).map(function(l,t){0===t&&(y=l.value.num_week),l.value.porcentaje=Math.round(l.value.xtotal/h*100).toFixed(0),n.chart_meta_dia.load({columns:[[l.value.descripcion,l.value.porcentaje]]})});var x=_.filter(function(n){return n.value.num_week==y}),A=x.map(function(n){return n}).sort(function(n,l){return l.value.xtotal-n.value.xtotal})[0];n.dia_week_mas_venta="El "+r(A.value.f)+" es el d\xeda que m\xe1s se vendio.";var w=x.filter(function(n){return n.value.paso_meta}).map(function(n){return r(n.value.f)}).reverse().join(", ");n.dias_paso_meta_week=w.length>0?"Los dias "+w+" se paso la meta diaria.":"";var k=x.reduce(function(n,l){return n.total=n.total?n.total:n.value.xtotal||0,n.total+=l.value.xtotal,n.count=n.count?n.count:n.value.count,n.count+=l.value.count,n});k.total=k.total?k.total:k.value.xtotal,k.count=k.count?k.count:k.value.count;var C=k.total;n.count_pedidos_last_week_now=k.count;var D=y-1<0?0:y-1,M=_.filter(function(n){return n.value.num_week==D}),L=(0===_.length?0:M.reduce(function(n,l){return n.total=n.total?n.total:n.value.xtotal||0,n.total+=l.value.xtotal,n.count=n.count?n.count:n.value.count,n.count+=l.value.count,n})).total||0;n.total_venta_last_week_now=n.format_money(Math.round(C)),n.total_venta_last_week_previus=n.format_money(Math.round(L)),n.por_venta_now_vs_previus_week=Math.round(C/L*100)-100,n.dif_venta_now_vs_previus_week=n.format_money(C-L),n.por_signo_week_now=n.por_venta_now_vs_previus_week>0?0:1;var S=("x,"+x.map(function(n){return t(n.key)}).join(",")).split(","),R=("Semana Actual,"+x.map(function(n){return n.value.xtotal}).join(",")).split(",");function O(n){return n.f}n.chart_last_sem.load({columns:[S,R]}),n.chart_last_sem.ygrids.add({value:h,text:"META "+h});var E=s.group().reduce(function(n,l){return++n.count,n.xtotal+=parseFloat(l.total),n.f=l.mm,n.descripcion=l.nom_mes,n.num_mes=l.num_mes,n.num_mes_int=l.num_mes_int,n.paso_meta=n.xtotal>n.meta,n},function(n,l){return--n.count,n.xtotal-=parseFloat(l.total),n.f=l.mm,n.descripcion=l.nom_mes,n.num_mes=l.num_mes,n.num_mes_int=l.num_mes_int,n.paso_meta=n.xtotal>n.meta,n},function(){return{f:"",count:0,xtotal:0,descripcion:"",num_mes:0,num_mes_int:0,meta:p,paso_meta:!1}}).order(O).top(12),F=0;E.slice(0,3).map(function(l,t){0===t&&(F=l.value.num_mes_int),l.value.porcentaje=Math.round(l.value.xtotal/p*100).toFixed(0),n.chart_meta_mes.load({columns:[[l.value.descripcion,l.value.porcentaje]]})});var T=E.filter(function(n){return n.value.num_mes_int==F}),B=E.map(function(n){return n}).sort(function(n,l){return l.value.xtotal-n.value.xtotal})[0];n.mes_mas_venta="En "+a(B.value.f)+" es el mes que m\xe1s se vendio.";var G=E.filter(function(n){return n.value.paso_meta}).map(function(n){return a(n.value.f)}).reverse().join(", ");n.mes_paso_meta_mes=G.length>0?"Los meses: "+G+" se paso la meta mensual.":"No hay mes que haya pasado la meta.";var N=T[0].value.xtotal;n.count_pedidos_last_mes_now=T[0].value.count;var P=F-1<0?0:F-1,I=E.filter(function(n){return n.value.num_mes_int==P}),H=I[0]?I[0].value.xtotal:0;n.total_venta_last_mes_now=n.format_money(Math.round(N)),n.total_venta_last_mes_previus=n.format_money(Math.round(H)),n.por_venta_now_vs_previus_mes=Math.round(N/H*100)-100,n.dif_venta_now_vs_previus_mes=n.format_money(N-H),n.por_signo_mes_now=n.por_venta_now_vs_previus_mes>0?0:1;var K=("x,"+E.map(function(n){return t(n.key)}).join(",")).split(","),z=("Meses,"+E.map(function(n){return n.value.xtotal}).join(",")).split(",");n.chart_last_meses.load({columns:[K,z]}),n.chart_last_meses.ygrids.add({value:p,text:"META "+p}),o.group().reduce(function(n,l){return++n.count,n.xtotal+=parseFloat(l.total),n.f=l.yy,n.descripcion=l.yy,n},function(n,l){return--n.count,n.xtotal-=parseFloat(l.total),n.f=l.yy,n.descripcion=l.yy,n},function(){return{f:"",count:0,xtotal:0,descripcion:""}}).order(O).top(3).map(function(l){l.value.porcentaje=Math.round(l.value.xtotal/g*100).toFixed(0),n.chart_meta_yy.load({columns:[[l.value.descripcion,l.value.porcentaje]]})}),setTimeout(function(){n.chart_meta_yy.resize()},5);var j=f.group().reduce(function(n,l,t){switch(n.count+=1,n.xtotal+=parseFloat(l.total),n.nombres=""===l.nombres||null===l.nombres?"PUBLICO EN GENERAL":l.nombres,0!=l.idcliente&&(n.calc_frecuencia=0===n.calc_fecha_frecuencia?0:n.calc_frecuencia+W.timeDay.count(l.dd,n.calc_fecha_frecuencia),n.f_ultima_visita=0===n.calc_fecha_frecuencia?l.dd:n.f_ultima_visita,n.dias_ultima_visita=W.timeDay.count(n.f_ultima_visita,l.f_actual),n.calc_fecha_frecuencia=l.dd,n.frecuencia_visitas=Math.round(n.calc_frecuencia/n.count),n.frecuencia_visitas=0===n.frecuencia_visitas?1:n.frecuencia_visitas,n.ticket_promedio=Math.round(n.xtotal/n.count),n.f_nac=l.f_nac,n.num_mes_registro=u(e(l.f_registro.split(" ")[0])),n.num_mes_ultima_visita=u(n.f_ultima_visita),n.num_mes=l.num_mes,n.num_mes_int=l.num_mes_int),n.tipo_cliente=""===l.ruc||null===l.ruc?0:l.ruc.length<11?1:2,n.tipo_cliente){case 0:n.tipo_cliente_des="PUBLICO EN GENERAL",n.tipo_cliente_abr="PG";break;case 1:n.tipo_cliente_des="PERSONA NATURAL",n.tipo_cliente_abr="PN";break;case 2:n.tipo_cliente_des="PERSONA JURIDICA",n.tipo_cliente_abr="PJ"}return n},function(n,l,t){switch(n.count-=1,n.xtotal-=parseFloat(l.total),n.nombres=""===l.nombres||null===l.nombres?"PUBLICO EN GENERAL":l.nombres,0!=l.idcliente&&(n.calc_frecuencia=0===n.calc_fecha_frecuencia?0:n.calc_frecuencia-W.timeDay.count(l.dd,n.calc_fecha_frecuencia),n.f_ultima_visita=0===n.calc_fecha_frecuencia?l.dd:n.f_ultima_visita,n.dias_ultima_visita=W.timeDay.count(n.f_ultima_visita,l.f_actual),n.calc_fecha_frecuencia=l.dd,n.frecuencia_visitas=Math.round(n.calc_frecuencia/n.count),n.frecuencia_visitas=0===n.frecuencia_visitas?1:n.frecuencia_visitas,n.ticket_promedio=Math.round(n.xtotal/n.count),n.f_nac=l.f_nac,n.num_mes_registro=u(e(l.f_registro)),n.num_mes_ultima_visita=u(n.f_ultima_visita),n.num_mes=l.num_mes,n.num_mes_int=l.num_mes_int),n.tipo_cliente=""===l.ruc||null===l.ruc?0:l.ruc.length<11?1:2,n.tipo_cliente){case 0:n.tipo_cliente_des="PUBLICO EN GENERAL",n.tipo_cliente_abr="PG";break;case 1:n.tipo_cliente_des="PERSONA NATURAL",n.tipo_cliente_abr="PN";break;case 2:n.tipo_cliente_des="PERSONA JURIDICA",n.tipo_cliente_abr="PJ"}return n},function(){return{count:0,xtotal:0,nombres:"",calc_fecha_frecuencia:0,calc_frecuencia:0,frecuencia_visitas:0,ticket_promedio:0,f_ultima_visita:"",dias_ultima_visita:0,f_nac:"",tipo_cliente:0,tipo_cliente_des:"",tipo_cliente_abr:"",num_mes_registro:0,num_mes_ultima_visita:0,num_mes:0,num_mes_int:0}}).all();n.data_cliente_consumo.data=j.sort(function(n,l){return l.value.xtotal-n.value.xtotal}),n.data_cliente_consumo.paginator=n.paginator;var Y=n.utilesService.ReduceGroupAndSum(j.map(function(n){return n.value}),"tipo_cliente_des"),U={},V=[];Y.map(function(n){V.push(n.tipo_cliente_des),U[n.tipo_cliente_des]=n.count}),n.chart_clie_tpc.load({json:[U],keys:{value:V}});var q=j.filter(function(n){return 0!=n.key}),X=F,J=q.filter(function(n){return n.value.num_mes_int<=X-1}),$=q.filter(function(n){return n.value.num_mes_int<=X}),Q=n.xTasa_clientes(J,X-1),nn=n.xTasa_clientes($,X);n.tasa_clientes_nuevos=nn._tasa_clie_news,n.tasa_clientes_nuevos_mes_anterior=n.tasa_clientes_nuevos-Q._tasa_clie_news,n.tasa_clientes_nuevos_signo=n.tasa_clientes_nuevos_mes_anterior<0?1:0,n.tasa_clientes_nuevos_count=nn._count_clie_new,n.tasa_clientes_desercion=nn._tasa__desercion,n.tasa_clientes_desercion_mes_anterior=n.tasa_clientes_desercion-Q._tasa__desercion,n.tasa_clientes_desercion_count=nn._tasa__desercion_count,n.tasa_clientes_desercion_signo=n.tasa_clientes_desercion_mes_anterior<0,n.tasa_clientes_retencion=nn._tasa_retencion,n.tasa_clientes_retencion_mes_anterior=nn._tasa_retencion_count-Q._tasa_retencion_count,n.tasa_clientes_retencion_signo=n.tasa_clientes_retencion_mes_anterior<0?1:0,n.tasa_clientes_retencion_count=nn._tasa_retencion_count,n.tasa_clientes_tiket_promedio=nn._ticket_promedio_clie,n.tasa_clientes_tiket_promedio_mes_anterior=n.tasa_clientes_tiket_promedio-Q._ticket_promedio_clie,n.tasa_clientes_tiket_promedio_signo=n.tasa_clientes_tiket_promedio_mes_anterior<0?1:0,n.tasa_clientes_tiket_promedio_mes_anterior=n.format_money(n.tasa_clientes_tiket_promedio_mes_anterior),n.progressLoadingService.setLoading(!1)})},n.prototype.xAsignarPlantillaGraficos=function(){this.chart_meta_dia=this.plantillaGraficos.plantillaGraficoGauge("chart_m_dia"),this.chart_meta_mes=this.plantillaGraficos.plantillaGraficoGauge("chart_m_mes"),this.chart_meta_yy=this.plantillaGraficos.plantillaGraficoGauge("chart_m_yy"),this.chart_last_sem=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_last_sem","area-spline","%a"),this.chart_last_meses=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_last_meses","bar","%b"),this.chart_hora_punta=this.plantillaGraficos.plantillaGraficoLineYFalsexFormat("chart_hora_punta","area-spline","%I %p","%H"),this.chart_clie_tpc=this.plantillaGraficos.plantillaGraficoDonut("chart_clie_tpc","Tipo de clientes")},n}(),rn=e.qb({encapsulation:0,styles:[[".c3-target-Tablet[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{color:green}.c3-ygrid-line.grid800[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:green}"]],data:{}});function an(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(n()(),e.Kb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.dia_week_mas_venta)})}function un(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(n()(),e.Kb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.dias_paso_meta_week)})}function on(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(n()(),e.Kb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.mes_mas_venta)})}function sn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(n()(),e.Kb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.component.mes_paso_meta_mes)})}function cn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.e,[p.d,e.k],null,null),(n()(),e.Kb(-1,null,[" Cliente "]))],null,null)}function dn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"],["style","width: 45%"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.a,[p.d,e.k],null,null),(n()(),e.Kb(2,null,[" "," "]))],null,function(n,l){n(l,2,0,l.context.$implicit.value.nombres)})}function fn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.e,[p.d,e.k],null,null),(n()(),e.Kb(-1,null,[" Tipo "]))],null,null)}function hn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.a,[p.d,e.k],null,null),(n()(),e.Kb(2,null,[" "," "]))],null,function(n,l){n(l,2,0,l.context.$implicit.value.tipo_cliente_abr)})}function pn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.e,[p.d,e.k],null,null),(n()(),e.Kb(-1,null,[" Visitas "]))],null,null)}function gn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.a,[p.d,e.k],null,null),(n()(),e.Kb(2,null,[" "," "]))],null,function(n,l){n(l,2,0,l.context.$implicit.value.count)})}function bn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.e,[p.d,e.k],null,null),(n()(),e.Kb(-1,null,[" Frecuencia "]))],null,null)}function mn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.a,[p.d,e.k],null,null),(n()(),e.Kb(2,null,[" "," dias"]))],null,function(n,l){n(l,2,0,l.context.$implicit.value.frecuencia_visitas)})}function vn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.e,[p.d,e.k],null,null),(n()(),e.Kb(-1,null,[" Ultima Visita "]))],null,null)}function _n(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.a,[p.d,e.k],null,null),(n()(),e.Kb(2,null,[" Hace "," dias"]))],null,function(n,l){n(l,2,0,l.context.$implicit.value.dias_ultima_visita)})}function yn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"th",[["class","text-right mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.e,[p.d,e.k],null,null),(n()(),e.Kb(-1,null,[" Consumo Promedio "]))],null,null)}function xn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,3,"td",[["class","text-right mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.a,[p.d,e.k],null,null),(n()(),e.Kb(2,null,[" ",""])),e.Gb(3,2)],null,function(n,l){var t=e.Lb(l,2,0,n(l,3,0,e.Cb(l.parent,0),l.context.$implicit.value.ticket_promedio,"0.2"));n(l,2,0,t)})}function An(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"th",[["class","text-right mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.e,[p.d,e.k],null,null),(n()(),e.Kb(-1,null,[" Consumo Total "]))],null,null)}function wn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,3,"td",[["class","text-right mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.rb(1,16384,null,0,h.a,[p.d,e.k],null,null),(n()(),e.Kb(2,null,[" ",""])),e.Gb(3,2)],null,function(n,l){var t=e.Lb(l,2,0,n(l,3,0,e.Cb(l.parent,0),l.context.$implicit.value.xtotal,"0.2"));n(l,2,0,t)})}function kn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"tr",[["class","mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,A,x)),e.Hb(6144,null,p.k,null,[h.g]),e.rb(2,49152,null,0,h.g,[],null,null)],null,null)}function Cn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,k,w)),e.Hb(6144,null,p.m,null,[h.i]),e.rb(2,49152,null,0,h.i,[],null,null)],null,null)}function Dn(n){return e.Mb(0,[e.Eb(0,g.e,[e.w]),e.Ib(402653184,1,{paginator:0}),(n()(),e.sb(2,0,null,null,30,"div",[["class","row animated fadeIn"]],null,null,null,null,null)),(n()(),e.sb(3,0,null,null,9,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(5,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(6,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(7,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(8,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(9,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Meta Diaria"])),(n()(),e.sb(11,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(12,0,null,null,0,"div",[["id","chart_m_dia"]],null,null,null,null,null)),(n()(),e.sb(13,0,null,null,9,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(n()(),e.sb(14,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(15,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(16,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(17,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(18,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(19,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Meta Mensual"])),(n()(),e.sb(21,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(22,0,null,null,0,"div",[["id","chart_m_mes"]],null,null,null,null,null)),(n()(),e.sb(23,0,null,null,9,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(n()(),e.sb(24,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(25,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(26,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(27,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(28,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(29,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Meta Anual"])),(n()(),e.sb(31,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(32,0,null,null,0,"div",[["id","chart_m_yy"]],null,null,null,null,null)),(n()(),e.sb(33,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(34,0,null,null,80,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.sb(35,0,null,null,39,"div",[["class","col-md-6 text-center"]],null,null,null,null,null)),(n()(),e.sb(36,0,null,null,38,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(37,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(38,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(39,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(40,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(41,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Como van las ventas esta semana?"])),(n()(),e.sb(43,0,null,null,31,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(44,0,null,null,29,"div",[["class","row text-center"]],null,null,null,null,null)),(n()(),e.sb(45,0,null,null,16,"div",[["class","col-sm-6 text-center border-de-dotted"]],null,null,null,null,null)),(n()(),e.sb(46,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),e.sb(47,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(48,null,["",""])),(n()(),e.sb(49,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Total en ventas"])),(n()(),e.sb(51,0,null,null,10,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(52,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.rb(53,278528,null,0,g.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.Kb(54,null,["","%"])),(n()(),e.sb(55,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(56,null,[" ",""])),(n()(),e.sb(57,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" mas"])),(n()(),e.sb(59,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" menos"])),(n()(),e.Kb(-1,null,[" que la semana pasada "])),(n()(),e.sb(62,0,null,null,5,"div",[["class","col-sm-6 text-center"]],null,null,null,null,null)),(n()(),e.sb(63,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.sb(64,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(65,null,["",""])),(n()(),e.sb(66,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Pedidos atendidos"])),(n()(),e.sb(68,0,null,null,5,"div",[["class","col-sm-12 text-center"]],null,null,null,null,null)),(n()(),e.sb(69,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,an)),e.rb(71,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,null,1,null,un)),e.rb(73,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(74,0,null,null,0,"div",[["id","chart_last_sem"]],null,null,null,null,null)),(n()(),e.sb(75,0,null,null,39,"div",[["class","col-md-6 text-center"]],null,null,null,null,null)),(n()(),e.sb(76,0,null,null,38,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(77,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(78,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(79,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(80,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(81,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Como van las ventas en este mes?"])),(n()(),e.sb(83,0,null,null,31,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(84,0,null,null,29,"div",[["class","row text-center"]],null,null,null,null,null)),(n()(),e.sb(85,0,null,null,16,"div",[["class","col-sm-6 text-center border-de-dotted"]],null,null,null,null,null)),(n()(),e.sb(86,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),e.sb(87,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(88,null,["",""])),(n()(),e.sb(89,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Total en ventas"])),(n()(),e.sb(91,0,null,null,10,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(92,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.rb(93,278528,null,0,g.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.Kb(94,null,["","%"])),(n()(),e.sb(95,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(96,null,[" ",""])),(n()(),e.sb(97,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" mas"])),(n()(),e.sb(99,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" menos"])),(n()(),e.Kb(-1,null,[" que el mes pasado. "])),(n()(),e.sb(102,0,null,null,5,"div",[["class","col-sm-6 text-center"]],null,null,null,null,null)),(n()(),e.sb(103,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.sb(104,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(105,null,["",""])),(n()(),e.sb(106,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Pedidos atendidos"])),(n()(),e.sb(108,0,null,null,5,"div",[["class","col-sm-12 text-center"]],null,null,null,null,null)),(n()(),e.sb(109,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.jb(16777216,null,null,1,null,on)),e.rb(111,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.jb(16777216,null,null,1,null,sn)),e.rb(113,16384,null,0,g.l,[e.R,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.sb(114,0,null,null,0,"div",[["id","chart_last_meses"]],null,null,null,null,null)),(n()(),e.sb(115,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(116,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.sb(117,0,null,null,22,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),e.sb(118,0,null,null,21,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(119,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(120,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(121,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(122,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(123,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Que hora hay mas afluencia de clientes?"])),(n()(),e.sb(125,0,null,null,14,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(126,0,null,null,12,"div",[["class","row text-center"]],null,null,null,null,null)),(n()(),e.sb(127,0,null,null,5,"div",[["class","col-sm-6 text-center border-de-dotted"]],null,null,null,null,null)),(n()(),e.sb(128,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.sb(129,0,null,null,1,"div",[["class","label-title-chart-sm"]],null,null,null,null,null)),(n()(),e.Kb(130,null,["",""])),(n()(),e.sb(131,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Horas punta"])),(n()(),e.sb(133,0,null,null,5,"div",[["class","col-sm-6 text-center"]],null,null,null,null,null)),(n()(),e.sb(134,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.sb(135,0,null,null,1,"div",[["class","label-title-chart-sm"]],null,null,null,null,null)),(n()(),e.Kb(136,null,["",""])),(n()(),e.sb(137,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Horas mas libres"])),(n()(),e.sb(139,0,null,null,0,"div",[["id","chart_hora_punta"]],null,null,null,null,null)),(n()(),e.sb(140,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(141,0,null,null,110,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.sb(142,0,null,null,109,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),e.sb(143,0,null,null,108,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(144,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(145,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(146,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(147,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(148,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Que clientes consumen mas?"])),(n()(),e.sb(150,0,null,null,101,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(151,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(152,0,null,null,96,"table",[["class","table_sm mat-table"],["mat-table",""],["style","width: 100%"]],null,null,null,y,_)),e.rb(153,2342912,null,4,h.k,[e.u,e.h,e.k,[8,null],[2,b.b],g.d,v.a],{dataSource:[0,"dataSource"]},null),e.Ib(603979776,2,{_contentColumnDefs:1}),e.Ib(603979776,3,{_contentRowDefs:1}),e.Ib(603979776,4,{_contentHeaderRowDefs:1}),e.Ib(603979776,5,{_contentFooterRowDefs:1}),(n()(),e.sb(158,0,null,null,11,null,null,null,null,null,null,null)),e.rb(159,16384,null,3,h.c,[],{name:[0,"name"]},null),e.Ib(335544320,6,{cell:0}),e.Ib(335544320,7,{headerCell:0}),e.Ib(335544320,8,{footerCell:0}),e.Hb(2048,[[2,4]],p.d,null,[h.c]),(n()(),e.jb(0,null,null,2,null,cn)),e.rb(165,16384,null,0,h.f,[e.O],null,null),e.Hb(2048,[[7,4]],p.j,null,[h.f]),(n()(),e.jb(0,null,null,2,null,dn)),e.rb(168,16384,null,0,h.b,[e.O],null,null),e.Hb(2048,[[6,4]],p.b,null,[h.b]),(n()(),e.sb(170,0,null,null,11,null,null,null,null,null,null,null)),e.rb(171,16384,null,3,h.c,[],{name:[0,"name"]},null),e.Ib(335544320,9,{cell:0}),e.Ib(335544320,10,{headerCell:0}),e.Ib(335544320,11,{footerCell:0}),e.Hb(2048,[[2,4]],p.d,null,[h.c]),(n()(),e.jb(0,null,null,2,null,fn)),e.rb(177,16384,null,0,h.f,[e.O],null,null),e.Hb(2048,[[10,4]],p.j,null,[h.f]),(n()(),e.jb(0,null,null,2,null,hn)),e.rb(180,16384,null,0,h.b,[e.O],null,null),e.Hb(2048,[[9,4]],p.b,null,[h.b]),(n()(),e.sb(182,0,null,null,11,null,null,null,null,null,null,null)),e.rb(183,16384,null,3,h.c,[],{name:[0,"name"]},null),e.Ib(335544320,12,{cell:0}),e.Ib(335544320,13,{headerCell:0}),e.Ib(335544320,14,{footerCell:0}),e.Hb(2048,[[2,4]],p.d,null,[h.c]),(n()(),e.jb(0,null,null,2,null,pn)),e.rb(189,16384,null,0,h.f,[e.O],null,null),e.Hb(2048,[[13,4]],p.j,null,[h.f]),(n()(),e.jb(0,null,null,2,null,gn)),e.rb(192,16384,null,0,h.b,[e.O],null,null),e.Hb(2048,[[12,4]],p.b,null,[h.b]),(n()(),e.sb(194,0,null,null,11,null,null,null,null,null,null,null)),e.rb(195,16384,null,3,h.c,[],{name:[0,"name"]},null),e.Ib(335544320,15,{cell:0}),e.Ib(335544320,16,{headerCell:0}),e.Ib(335544320,17,{footerCell:0}),e.Hb(2048,[[2,4]],p.d,null,[h.c]),(n()(),e.jb(0,null,null,2,null,bn)),e.rb(201,16384,null,0,h.f,[e.O],null,null),e.Hb(2048,[[16,4]],p.j,null,[h.f]),(n()(),e.jb(0,null,null,2,null,mn)),e.rb(204,16384,null,0,h.b,[e.O],null,null),e.Hb(2048,[[15,4]],p.b,null,[h.b]),(n()(),e.sb(206,0,null,null,11,null,null,null,null,null,null,null)),e.rb(207,16384,null,3,h.c,[],{name:[0,"name"]},null),e.Ib(335544320,18,{cell:0}),e.Ib(335544320,19,{headerCell:0}),e.Ib(335544320,20,{footerCell:0}),e.Hb(2048,[[2,4]],p.d,null,[h.c]),(n()(),e.jb(0,null,null,2,null,vn)),e.rb(213,16384,null,0,h.f,[e.O],null,null),e.Hb(2048,[[19,4]],p.j,null,[h.f]),(n()(),e.jb(0,null,null,2,null,_n)),e.rb(216,16384,null,0,h.b,[e.O],null,null),e.Hb(2048,[[18,4]],p.b,null,[h.b]),(n()(),e.sb(218,0,null,null,11,null,null,null,null,null,null,null)),e.rb(219,16384,null,3,h.c,[],{name:[0,"name"]},null),e.Ib(335544320,21,{cell:0}),e.Ib(335544320,22,{headerCell:0}),e.Ib(335544320,23,{footerCell:0}),e.Hb(2048,[[2,4]],p.d,null,[h.c]),(n()(),e.jb(0,null,null,2,null,yn)),e.rb(225,16384,null,0,h.f,[e.O],null,null),e.Hb(2048,[[22,4]],p.j,null,[h.f]),(n()(),e.jb(0,null,null,2,null,xn)),e.rb(228,16384,null,0,h.b,[e.O],null,null),e.Hb(2048,[[21,4]],p.b,null,[h.b]),(n()(),e.sb(230,0,null,null,11,null,null,null,null,null,null,null)),e.rb(231,16384,null,3,h.c,[],{name:[0,"name"]},null),e.Ib(335544320,24,{cell:0}),e.Ib(335544320,25,{headerCell:0}),e.Ib(335544320,26,{footerCell:0}),e.Hb(2048,[[2,4]],p.d,null,[h.c]),(n()(),e.jb(0,null,null,2,null,An)),e.rb(237,16384,null,0,h.f,[e.O],null,null),e.Hb(2048,[[25,4]],p.j,null,[h.f]),(n()(),e.jb(0,null,null,2,null,wn)),e.rb(240,16384,null,0,h.b,[e.O],null,null),e.Hb(2048,[[24,4]],p.b,null,[h.b]),(n()(),e.sb(242,0,null,null,6,"tbody",[],null,null,null,null,null)),(n()(),e.jb(0,null,null,2,null,kn)),e.rb(244,540672,null,0,h.h,[e.O,e.u],{columns:[0,"columns"]},null),e.Hb(2048,[[4,4]],p.l,null,[h.h]),(n()(),e.jb(0,null,null,2,null,Cn)),e.rb(247,540672,null,0,h.j,[e.O,e.u],{columns:[0,"columns"]},null),e.Hb(2048,[[3,4]],p.n,null,[h.j]),(n()(),e.sb(249,0,null,null,2,"mat-paginator",[["class","mat-paginator"],["showFirstLastButtons",""]],null,null,null,X,K)),e.rb(250,245760,[[1,4]],0,C.b,[C.c,e.h],{pageSizeOptions:[0,"pageSizeOptions"],showFirstLastButtons:[1,"showFirstLastButtons"]},null),e.Db(251,3),(n()(),e.sb(252,0,null,null,103,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.sb(253,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),e.sb(254,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(255,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(256,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(257,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(258,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(259,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Tipo de clientes."])),(n()(),e.sb(261,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(262,0,null,null,0,"div",[["id","chart_clie_tpc"]],null,null,null,null,null)),(n()(),e.sb(263,0,null,null,92,"div",[["class","col-md-8"]],null,null,null,null,null)),(n()(),e.sb(264,0,null,null,91,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(265,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(266,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(267,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(268,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(269,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Cual es la tasa de participaci\xf3n de mis clientes en este \xfaltimo mes?"])),(n()(),e.sb(271,0,null,null,84,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(272,0,null,null,83,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.sb(273,0,null,null,44,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),e.sb(274,0,null,null,18,"div",[],null,null,null,null,null)),(n()(),e.sb(275,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(276,null,["","%"])),(n()(),e.sb(277,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07 font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Clientes nuevos"])),(n()(),e.sb(279,0,null,null,4,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["En este periodo se obtuvo "])),(n()(),e.sb(281,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(282,null,["",""])),(n()(),e.Kb(-1,null,[" clientes nuevos"])),(n()(),e.sb(284,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(285,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.rb(286,278528,null,0,g.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.Kb(287,null,["","%"])),(n()(),e.sb(288,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" mas"])),(n()(),e.sb(290,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" menos"])),(n()(),e.Kb(-1,null,[" que el mes pasado. "])),(n()(),e.sb(293,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(294,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.sb(295,0,null,null,22,"div",[],null,null,null,null,null)),(n()(),e.sb(296,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(297,null,["","%"])),(n()(),e.sb(298,0,null,null,4,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(299,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Tasa de retenci\xf3n"])),(n()(),e.sb(301,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,[" La retenci\xf3n de clientes supone la capacidad que tiene el negocio para retener o fidelizar a sus clientes."])),(n()(),e.sb(303,0,null,null,4,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["En este periodo "])),(n()(),e.sb(305,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(306,null,["",""])),(n()(),e.Kb(-1,null,[" clientes volvieron a consumir m\xe1s de una vez."])),(n()(),e.sb(308,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(309,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.rb(310,278528,null,0,g.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.Kb(311,null,[""," clientes "])),(n()(),e.sb(312,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" mas"])),(n()(),e.sb(314,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" menos"])),(n()(),e.Kb(-1,null,[" que el mes pasado. "])),(n()(),e.sb(317,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(318,0,null,null,37,"div",[["class","col-md-6"]],null,null,null,null,null)),(n()(),e.sb(319,0,null,null,15,"div",[],null,null,null,null,null)),(n()(),e.sb(320,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(321,null,["",""])),(n()(),e.sb(322,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07 font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Ticket Promedio."])),(n()(),e.sb(324,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Indica el gasto promedio por cada cosumo."])),(n()(),e.sb(326,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(327,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.rb(328,278528,null,0,g.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.Kb(329,null,["",""])),(n()(),e.sb(330,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" mas"])),(n()(),e.sb(332,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" menos"])),(n()(),e.Kb(-1,null,[" que el mes pasado. "])),(n()(),e.sb(335,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(336,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.sb(337,0,null,null,18,"div",[],null,null,null,null,null)),(n()(),e.sb(338,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(n()(),e.Kb(339,null,["","%"])),(n()(),e.sb(340,0,null,null,2,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(341,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Tasa de deserci\xf3n o abandono."])),(n()(),e.sb(343,0,null,null,3,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(344,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(n()(),e.Kb(345,null,[""," clientes"])),(n()(),e.Kb(-1,null,[" no volvieron a venir en este ultimo mes."])),(n()(),e.sb(347,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(n()(),e.sb(348,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.rb(349,278528,null,0,g.j,[e.u,e.v,e.k,e.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),e.Kb(350,null,["","%"])),(n()(),e.sb(351,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" mas"])),(n()(),e.sb(353,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Kb(-1,null,[" menos"])),(n()(),e.Kb(-1,null,[" que el mes pasado. "])),(n()(),e.sb(356,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(357,0,null,null,0,"br",[],null,null,null,null,null))],function(n,l){var t=l.component;n(l,53,0,"font-weight-bold",0===t.por_signo_week_now?"text-success":"text-danger"),n(l,71,0,""!=t.dia_week_mas_venta),n(l,73,0,""!=t.dias_paso_meta_week),n(l,93,0,"font-weight-bold",0===t.por_signo_mes_now?"text-success":"text-danger"),n(l,111,0,""!=t.dia_week_mas_venta),n(l,113,0,""!=t.dias_paso_meta_week),n(l,153,0,t.data_cliente_consumo),n(l,159,0,"Cliente"),n(l,171,0,"tp"),n(l,183,0,"Visitas"),n(l,195,0,"Frecuencia"),n(l,207,0,"Ultima Visita"),n(l,219,0,"Consumo Promedio"),n(l,231,0,"Consumo Total"),n(l,244,0,t.displayedColumns),n(l,247,0,t.displayedColumns);var e=n(l,251,0,5,10,20);n(l,250,0,e,""),n(l,286,0,"font-weight-bold",0===t.tasa_clientes_nuevos_signo?"text-success":"text-danger"),n(l,310,0,"font-weight-bold",0===t.tasa_clientes_retencion_signo?"text-success":"text-danger"),n(l,328,0,"font-weight-bold",0===t.tasa_clientes_tiket_promedio_signo?"text-success":"text-danger"),n(l,349,0,"font-weight-bold",t.tasa_clientes_desercion_signo?"text-success":"text-danger")},function(n,l){var t=l.component;n(l,48,0,t.total_venta_last_week_now),n(l,54,0,t.por_venta_now_vs_previus_week),n(l,56,0,t.dif_venta_now_vs_previus_week),n(l,57,0,1===t.por_signo_week_now),n(l,59,0,0===t.por_signo_week_now),n(l,65,0,t.count_pedidos_last_week_now),n(l,88,0,t.total_venta_last_mes_now),n(l,94,0,t.por_venta_now_vs_previus_mes),n(l,96,0,t.dif_venta_now_vs_previus_mes),n(l,97,0,1===t.por_signo_mes_now),n(l,99,0,0===t.por_signo_mes_now),n(l,105,0,t.count_pedidos_last_mes_now),n(l,130,0,t.horas_punta),n(l,136,0,t.horas_libres),n(l,276,0,t.tasa_clientes_nuevos),n(l,282,0,t.tasa_clientes_nuevos_count),n(l,287,0,t.tasa_clientes_nuevos_mes_anterior),n(l,288,0,1===t.tasa_clientes_nuevos_signo),n(l,290,0,0===t.tasa_clientes_nuevos_signo),n(l,297,0,t.tasa_clientes_retencion),n(l,306,0,t.tasa_clientes_retencion_count),n(l,311,0,t.tasa_clientes_retencion_mes_anterior),n(l,312,0,1===t.tasa_clientes_retencion_signo),n(l,314,0,0===t.tasa_clientes_retencion_signo),n(l,321,0,t.tasa_clientes_tiket_promedio),n(l,329,0,t.tasa_clientes_tiket_promedio_mes_anterior),n(l,330,0,1===t.tasa_clientes_tiket_promedio_signo),n(l,332,0,0===t.tasa_clientes_tiket_promedio_signo),n(l,339,0,t.tasa_clientes_desercion),n(l,345,0,t.tasa_clientes_desercion_count),n(l,350,0,t.tasa_clientes_desercion_mes_anterior),n(l,351,0,t.tasa_clientes_desercion_signo),n(l,353,0,!t.tasa_clientes_desercion_signo)})}function Mn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-indicadores",[],null,null,null,Dn,rn)),e.rb(1,114688,null,0,en,[J.a,Q.a,$.a,nn.a,ln.a],null,null)],function(n,l){n(l,1,0)},null)}var Ln=e.ob("app-indicadores",en,Mn,{},{},[]),Sn=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),Rn=e.qb({encapsulation:0,styles:[[""]],data:{}});function On(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,[" clientes works!\n"]))],null,null)}function En(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-clientes",[],null,null,null,On,Rn)),e.rb(1,114688,null,0,Sn,[],null,null)],function(n,l){n(l,1,0)},null)}var Fn=e.ob("app-clientes",Sn,En,{},{},[]),Tn=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),Bn=e.qb({encapsulation:0,styles:[[""]],data:{}});function Gn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,[" colaboradores works!\n"]))],null,null)}function Nn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-colaboradores",[],null,null,null,Gn,Bn)),e.rb(1,114688,null,0,Tn,[],null,null)],function(n,l){n(l,1,0)},null)}var Pn=e.ob("app-colaboradores",Tn,Nn,{},{},[]),In=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),Hn=e.qb({encapsulation:0,styles:[[""]],data:{}});function Kn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Kb(-1,null,[" comparativa works!\n"]))],null,null)}function zn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-comparativa",[],null,null,null,Kn,Hn)),e.rb(1,114688,null,0,In,[],null,null)],function(n,l){n(l,1,0)},null)}var jn=e.ob("app-comparativa",In,zn,{},{},[]),Yn=t("oM4G"),Un=function(){function n(n,l,t,e){this.crudService=n,this.plantillaGraficos=l,this.utilesService=t,this.d3FormatLocalService=e,this.meta=new tn.a,this.fecha_actual=""}return n.prototype.ngOnInit=function(){W.timeFormatDefaultLocale(this.d3FormatLocalService.formatoLocal()),this.getDataMeta(),window.addEventListener("resize",this.resize.bind(this))},n.prototype.getDataMeta=function(){var n=this;this.crudService.getAll("estadistica","getMetaSede",!1,!1).subscribe(function(l){if(l.success){if(0===l.data.length)return n.meta.diaria=0,n.meta.mensual=0,void(n.meta.anual=0);n.meta.diaria=l.data[0].diaria,n.meta.mensual=l.data[0].mensual,n.meta.anual=l.data[0].anual,n.xGetFechaActual()}else console.log(l)})},n.prototype.resize=function(){Yn.renderAll()},n.prototype.xDc=function(){var n=Yn.pieChart("#chart-consumo"),l=Yn.rowChart("#chart-row-spenders"),t=Z([{Name:"Mr A",Spent:40,Year:2011},{Name:"Mr B",Spent:10,Year:2011},{Name:"Mr C",Spent:40,Year:2011},{Name:"Mr A",Spent:70,Year:2012},{Name:"Mr B",Spent:20,Year:2012},{Name:"Mr B",Spent:50,Year:2013},{Name:"Mr C",Spent:30,Year:2013}]),e=t.dimension(function(n){return+n.Year}),r=t.dimension(function(n){return Math.floor(n.Spent/10)}),a=t.dimension(function(n){return n.Name}),u=e.group().reduceSum(function(n){return+n.Spent}),i=a.group().reduceSum(function(n){return+n.Spent});r.group().reduceCount(),n.width(200).height(200).slicesCap(4).externalLabels(50).dimension(e).group(u).legend(Yn.legend()).minAngleForLabel(0).drawPaths(!0).externalRadiusPadding(50).externalLabels(40).on("pretransition",function(n){n.selectAll(".dc-legend-item text").text("").append("tspan").text(function(n){return n.name}).append("tspan").attr("x",100).attr("text-anchor","end").text(function(n){return n.data})}),l.width(250).height(200).dimension(a).group(i).elasticX(!0).renderLabel(!0),Yn.renderAll()},n.prototype.xGetFechaActual=function(){var n=this;this.crudService.getTimeNow().subscribe(function(l){n.fecha_actual=l.data.f_actual,n.xGenerarGraficos()})},n.prototype.xGenerarGraficos=function(){var n=this;this.crudService.getAll("estadistica","getConsumo",!1,!1).subscribe(function(l){n.datos_consumo=n.d3FormatLocalService.setearDataTimeDimension(l.data,"fecha_hora_a",n.fecha_actual),console.log("datos consumo",n.datos_consumo),W.timeFormat("%Y-%m-%d"),W.timeParse("%d/%m/%Y");var t=W.timeFormat("%A"),e=(W.timeFormat("%B"),W.timeFormat("%m"),Z(n.datos_consumo)),r=(e.groupAll(),e.dimension(function(n){return n.yy}),e.dimension(function(n){return n.mm})),a=e.dimension(function(n){return n.dd}),u=(e.dimension(function(n){return n.num_dia_semana}),e.dimension(function(n){return n.hora24}),W.timeFormat("%B")),i=W.format("(,.2f"),o=new Date(r.bottom(1)[0].mm),s=new Date(r.top(1)[0].mm),c=Yn.compositeChart("#chart_consumo_mm_y_rentabilidad"),d=r.group().reduceCount(function(n){return n.idpedido}),f=r.group().reduceSum(function(n){return+n.total_a});c.x(W.scaleTime().domain([o.setMonth(o.getMonth()-2),s.setMonth(s.getMonth()+2)])).round(W.timeMonth.round).xUnits(W.timeMonths).legend(Yn.legend().x(80).y(20).itemHeight(13).gap(5)).renderHorizontalGridLines(!0).title(function(n){return u(n.key)+": "+i(n.value)}).yAxisPadding("10%").compose([Yn.barChart(c).dimension(r).group(f,"Importe consumidos").renderLabel(!0).centerBar(!0),Yn.lineChart(c).dimension(r).colors("red").group(d,"Cantidad productos consumidos").dashStyle([5,3]).renderDataPoints({radius:5})]).elasticY(!0).brushOn(!1),c.margins().left=50;var h=Yn.barChart("#chart_consumo_mm_y_rentabilidad_dd"),p=a.group().reduceSum(function(n){return+n.total_a});h.height(200).x(W.scaleTime().domain([o.setDate(o.getDay()-2),s.setDate(s.getDay()+2)])).round(W.timeDay.round).xUnits(W.timeDays).title(function(n){return t(n.key)+": "+i(n.value)}).yAxisPadding("10%").elasticY(!0).brushOn(!1).mouseZoomable(!0).dimension(a).group(p).centerBar(!0).controlsUseVisibility(!0);var g=Yn.pieChart("#chart_tipo_consumo"),b=e.dimension(function(n){return n.tpc_descripcion}),m=b.group().reduceSum(function(n){return+n.total_a});g.height(200).slicesCap(4).dimension(b).group(m).minAngleForLabel(0).drawPaths(!0).externalRadiusPadding(50).externalLabels(40),Yn.renderAll()})},n.prototype.xAsignarPlantillaGraficos=function(){this.chart_consumo_mm=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_consumo_mm","bar","%b"),this.chart_consumo_dd=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_consumo_dd","bar","%a")},n}(),Vn=e.qb({encapsulation:0,styles:[[".bar[_ngcontent-%COMP%]:hover{fill:#17bf3c}.tooltip[_ngcontent-%COMP%]{background:#b0c4de;border:0;border-radius:8px;font-size:12px;font-weight:700;height:20px;padding:2px;pointer-events:none;position:absolute;text-align:center;width:120p}"]],data:{}});function qn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.sb(1,0,null,null,10,"div",[["class","col-md-12"]],null,null,null,null,null)),(n()(),e.sb(2,0,null,null,9,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(3,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(4,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(5,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(6,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(7,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Cual es el consumo por meses y la rentabilidad obtenida?"])),(n()(),e.sb(9,0,null,null,2,"div",[["class","p-2"]],null,null,null,null,null)),(n()(),e.sb(10,0,null,null,0,"div",[["class","w-100"],["id","chart_consumo_mm_y_rentabilidad"]],null,null,null,null,null)),(n()(),e.sb(11,0,null,null,0,"div",[["class","w-100"],["id","chart_consumo_mm_y_rentabilidad_dd"]],null,null,null,null,null)),(n()(),e.sb(12,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.sb(13,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),e.sb(14,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(15,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(16,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(17,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(18,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(19,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Tipo de consumo"])),(n()(),e.sb(21,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(22,0,null,null,0,"div",[["id","chart_tipo_consumo"]],null,null,null,null,null)),(n()(),e.sb(23,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),e.sb(24,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(25,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(26,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(27,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(28,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(29,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["D\xeda de m\xe1s consumo?"])),(n()(),e.sb(31,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(32,0,null,null,0,"div",[["id","chart_dia_consumo"]],null,null,null,null,null)),(n()(),e.sb(33,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(n()(),e.sb(34,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(n()(),e.sb(35,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(n()(),e.sb(36,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(n()(),e.sb(37,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(n()(),e.sb(38,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(n()(),e.sb(39,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(n()(),e.Kb(-1,null,["Carta de m\xe1s consumo?"])),(n()(),e.sb(41,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(n()(),e.sb(42,0,null,null,0,"div",[["id","chart_carta_consumo"]],null,null,null,null,null)),(n()(),e.sb(43,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(44,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(45,0,null,null,0,"div",[["id","chart-row-spenders"]],null,null,null,null,null)),(n()(),e.sb(46,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(47,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.sb(48,0,null,null,0,"div",[["id","chart-compositeChart"]],null,null,null,null,null))],null,null)}function Xn(n){return e.Mb(0,[(n()(),e.sb(0,0,null,null,1,"app-consumo",[],null,null,null,qn,Vn)),e.rb(1,114688,null,0,Un,[J.a,Q.a,$.a,nn.a],null,null)],function(n,l){n(l,1,0)},null)}var Wn=e.ob("app-consumo",Un,Xn,{},{},[]),Zn=t("OkvK"),Jn=t("t/Na"),$n=t("FVSy"),Qn=t("SMsm"),nl=t("/VYK"),ll=t("b716"),tl=t("La40"),el=t("jAig"),rl={titulo:"Ventas"},al={titulo:"Ventas: Indicadores Globales"},ul={titulo:"Ventas: Clientes"},il={titulo:"Ventas: Colaboradores"},ol={titulo:"Ventas: Comparativa"},sl={titulo:"Ventas: Consumo"},cl=function(){return function(){}}();t.d(l,"VentasModuleNgFactory",function(){return dl});var dl=e.pb(r,[],function(n){return e.zb([e.Ab(512,e.j,e.eb,[[8,[a.a,u.a,f,Ln,Fn,Pn,jn,Wn]],[3,e.j],e.z]),e.Ab(4608,g.n,g.m,[e.w,[2,g.z]]),e.Ab(4608,M.c,M.c,[]),e.Ab(4608,m.d,m.d,[]),e.Ab(5120,Zn.b,Zn.a,[[3,Zn.b]]),e.Ab(4608,D.c,D.c,[D.i,D.e,e.j,D.h,D.f,e.s,e.B,g.d,b.b]),e.Ab(5120,D.j,D.k,[D.c]),e.Ab(5120,L.a,L.b,[D.c]),e.Ab(5120,S.b,S.c,[D.c]),e.Ab(5120,C.c,C.a,[[3,C.c]]),e.Ab(4608,Jn.j,Jn.p,[g.d,e.D,Jn.n]),e.Ab(4608,Jn.q,Jn.q,[Jn.j,Jn.o]),e.Ab(5120,Jn.a,function(n){return[n]},[Jn.q]),e.Ab(4608,Jn.m,Jn.m,[]),e.Ab(6144,Jn.k,null,[Jn.m]),e.Ab(4608,Jn.i,Jn.i,[Jn.k]),e.Ab(6144,Jn.b,null,[Jn.i]),e.Ab(4608,Jn.f,Jn.l,[Jn.b,e.s]),e.Ab(4608,Jn.c,Jn.c,[Jn.f]),e.Ab(1073742336,g.c,g.c,[]),e.Ab(1073742336,b.a,b.a,[]),e.Ab(1073742336,m.l,m.l,[[2,m.e]]),e.Ab(1073742336,$n.a,$n.a,[]),e.Ab(1073742336,v.b,v.b,[]),e.Ab(1073742336,m.v,m.v,[]),e.Ab(1073742336,R.c,R.c,[]),e.Ab(1073742336,Qn.a,Qn.a,[]),e.Ab(1073742336,nl.c,nl.c,[]),e.Ab(1073742336,M.d,M.d,[]),e.Ab(1073742336,F.d,F.d,[]),e.Ab(1073742336,ll.b,ll.b,[]),e.Ab(1073742336,Zn.c,Zn.c,[]),e.Ab(1073742336,O.g,O.g,[]),e.Ab(1073742336,E.b,E.b,[]),e.Ab(1073742336,D.g,D.g,[]),e.Ab(1073742336,m.t,m.t,[]),e.Ab(1073742336,m.r,m.r,[]),e.Ab(1073742336,L.d,L.d,[]),e.Ab(1073742336,T.a,T.a,[]),e.Ab(1073742336,S.e,S.e,[]),e.Ab(1073742336,C.d,C.d,[]),e.Ab(1073742336,p.p,p.p,[]),e.Ab(1073742336,h.m,h.m,[]),e.Ab(1073742336,tl.i,tl.i,[]),e.Ab(1073742336,el.a,el.a,[]),e.Ab(1073742336,Jn.e,Jn.e,[]),e.Ab(1073742336,Jn.d,Jn.d,[]),e.Ab(1073742336,i.o,i.o,[[2,i.u],[2,i.m]]),e.Ab(1073742336,cl,cl,[]),e.Ab(1073742336,r,r,[]),e.Ab(256,Jn.n,"XSRF-TOKEN",[]),e.Ab(256,Jn.o,"X-XSRF-TOKEN",[]),e.Ab(1024,i.k,function(){return[[{path:"",component:o,data:rl,children:[{path:"",redirectTo:"indicadores"},{path:"indicadores",component:en,data:al},{path:"clientes",component:Sn,data:ul},{path:"colaboradores",component:Tn,data:il},{path:"comparativa",component:In,data:ol},{path:"consumo",component:Un,data:sl}]}]]},[])])})},oM4G:function(n,l,t){var e,r,a;r=[t("VphZ"),t("iAOh")],void 0===(a="function"==typeof(e=function(n,l){"use strict";var t={version:"3.1.0",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};t.chartRegistry=function(){var n={};function l(l){return l||(l=t.constants.DEFAULT_CHART_GROUP),n[l]||(n[l]=[]),l}return{has:function(l){for(var t in n)if(n[t].indexOf(l)>=0)return!0;return!1},register:function(t,e){e=l(e),n[e].push(t)},deregister:function(t,e){e=l(e);for(var r=0;r<n[e].length;r++)if(n[e][r].anchorName()===t.anchorName()){n[e].splice(r,1);break}},clear:function(l){l?delete n[l]:n={}},list:function(t){return t=l(t),n[t]}}}(),t.registerChart=function(n,l){t.chartRegistry.register(n,l)},t.deregisterChart=function(n,l){t.chartRegistry.deregister(n,l)},t.hasChart=function(n){return t.chartRegistry.has(n)},t.deregisterAllCharts=function(n){t.chartRegistry.clear(n)},t.filterAll=function(n){for(var l=t.chartRegistry.list(n),e=0;e<l.length;++e)l[e].filterAll()},t.refocusAll=function(n){for(var l=t.chartRegistry.list(n),e=0;e<l.length;++e)l[e].focus&&l[e].focus()},t.renderAll=function(n){for(var l=t.chartRegistry.list(n),e=0;e<l.length;++e)l[e].render();null!==t._renderlet&&t._renderlet(n)},t.redrawAll=function(n){for(var l=t.chartRegistry.list(n),e=0;e<l.length;++e)l[e].redraw();null!==t._renderlet&&t._renderlet(n)},t.disableTransitions=!1,t.transition=function(n,l,e,r){if(t.disableTransitions||l<=0)return n;var a=n.transition(r);return(l>=0||void 0!==l)&&(a=a.duration(l)),(e>=0||void 0!==e)&&(a=a.delay(e)),a},t.optionalTransition=function(n,l,e,r){return n?function(n){return t.transition(n,l,e,r)}:function(n){return n}},t.afterTransition=function(n,l){if(n.empty()||!n.duration)l.call(n);else{var t=0;n.each(function(){++t}).on("end",function(){--t||l.call(n)})}},t.units={},t.units.integers=function(n,l){return Math.abs(l-n)},t.units.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},t.units.fp={},t.units.fp.precision=function(n){var l=function(n,e){var r=Math.abs((e-n)/l.resolution);return t.utils.isNegligible(r-Math.floor(r))?Math.floor(r):Math.ceil(r)};return l.resolution=n,l},t.round={},t.round.floor=function(n){return Math.floor(n)},t.round.ceil=function(n){return Math.ceil(n)},t.round.round=function(n){return Math.round(n)},t.override=function(n,l,t){n["_"+l]=n[l],n[l]=t},t.renderlet=function(n){return arguments.length?(t._renderlet=n,t):t._renderlet},t.instanceOfChart=function(n){return n instanceof Object&&n.__dcFlag__&&!0},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){var l=(this.document||this.ownerDocument).querySelectorAll(n),t=l.length;do{--t}while(t>=0&&l.item(t)!==this);return t>-1}),t.errors={},t.errors.Exception=function(n){var l=n||"Unexpected internal error";this.message=l,this.toString=function(){return l},this.stack=(new Error).stack},t.errors.Exception.prototype=Object.create(Error.prototype),t.errors.Exception.prototype.constructor=t.errors.Exception,t.errors.InvalidStateException=function(){t.errors.Exception.apply(this,arguments)},t.errors.InvalidStateException.prototype=Object.create(t.errors.Exception.prototype),t.errors.InvalidStateException.prototype.constructor=t.errors.InvalidStateException,t.errors.BadArgumentException=function(){t.errors.Exception.apply(this,arguments)},t.errors.BadArgumentException.prototype=Object.create(t.errors.Exception.prototype),t.errors.BadArgumentException.prototype.constructor=t.errors.BadArgumentException,t.dateFormat=n.timeFormat("%m/%d/%Y"),t.printers={},t.printers.filters=function(n){for(var l="",e=0;e<n.length;++e)e>0&&(l+=", "),l+=t.printers.filter(n[e]);return l},t.printers.filter=function(n){var l="";return null!=n&&(n instanceof Array?n.length>=2?l="["+n.map(function(n){return t.utils.printSingleValue(n)}).join(" -> ")+"]":n.length>=1&&(l=t.utils.printSingleValue(n[0])):l=t.utils.printSingleValue(n)),l},t.pluck=function(n,l){return l?function(t,e){return l.call(t,t[n],e)}:function(l){return l[n]}},t.utils={},t.utils.printSingleValue=function(n){var l=""+n;return n instanceof Date?l=t.dateFormat(n):"string"==typeof n?l=n:t.utils.isFloat(n)?l=t.utils.printSingleValue.fformat(n):t.utils.isInteger(n)&&(l=Math.round(n)),l},t.utils.printSingleValue.fformat=n.format(".2f"),t.utils.toTimeFunc=function(n){return"time"+n.charAt(0).toUpperCase()+n.slice(1)},t.utils.add=function(l,e,r){if("string"==typeof e&&(e=e.replace("%","")),l instanceof Date)return"string"==typeof e&&(e=+e),"millis"===r?new Date(l.getTime()+e):("function"!=typeof(r=r||n.timeDay)&&(r=n[t.utils.toTimeFunc(r)]),r.offset(l,e));if("string"==typeof e){var a=+e/100;return l>0?l*(1+a):l*(1-a)}return l+e},t.utils.subtract=function(l,e,r){if("string"==typeof e&&(e=e.replace("%","")),l instanceof Date)return"string"==typeof e&&(e=+e),"millis"===r?new Date(l.getTime()-e):("function"!=typeof(r=r||n.timeDay)&&(r=n[t.utils.toTimeFunc(r)]),r.offset(l,-e));if("string"==typeof e){var a=+e/100;return l<0?l*(1+a):l*(1-a)}return l-e},t.utils.isNumber=function(n){return n===+n},t.utils.isFloat=function(n){return n===+n&&n!==(0|n)},t.utils.isInteger=function(n){return n===+n&&n===(0|n)},t.utils.isNegligible=function(n){return!t.utils.isNumber(n)||n<t.constants.NEGLIGIBLE_NUMBER&&n>-t.constants.NEGLIGIBLE_NUMBER},t.utils.clamp=function(n,l,t){return n<l?l:n>t?t:n},t.utils.constant=function(n){return function(){return n}};var e,r,a,u,i,o=0;function s(n,l){for(var t=0;t<n.length;t++)if(n[t].key===l)return n[t]}return t.utils.uniqueId=function(){return++o},t.utils.nameToId=function(n){return n.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},t.utils.appendOrSelect=function(n,l,t){t=t||l;var e=n.select(l);return e.empty()&&(e=n.append(t)),e},t.utils.safeNumber=function(n){return t.utils.isNumber(+n)?+n:0},t.utils.arraysEqual=function(n,l){return!n&&!l||!(!n||!l)&&n.length===l.length&&n.every(function(n,t){return n.valueOf()===l[t].valueOf()})},t.utils.allChildren=function(n){var l=[];if(l.push(n.path),console.log("currentNode",n),n.children)for(var e=0;e<n.children.length;e++)l=l.concat(t.utils.allChildren(n.children[e]));return l},t.utils.toHierarchy=function(n,l){for(var t={key:"root",children:[]},e=0;e<n.length;e++)for(var r=n[e],a=r.key,u=l(r),i=t,o=0;o<a.length;o++){var c,d=a.slice(0,o+1),f=i.children,h=a[o];o+1<a.length?(void 0===(c=s(f,h))&&f.push(c={key:h,children:[],path:d}),i=c):f.push(c={key:h,value:u,data:r,path:d})}return t},t.utils.getAncestors=function(n){for(var l=[],t=n;t.parent;)l.unshift(t.name),t=t.parent;return l},t.utils.arraysIdentical=function(n,l){var t=n.length;if(t!==l.length)return!1;for(;t--;)if(n[t]!==l[t])return!1;return!0},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(n,l){if(null===n)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),e=1;e<arguments.length;e++){var r=arguments[e];if(null!==r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},writable:!0,configurable:!0}),t.logger=(r={},(e={enableDebugLog:!1,warn:function(n){return console&&(console.warn?console.warn(n):console.log&&console.log(n)),e}}).warnOnce=function(n){return r[n]||(r[n]=!0,t.logger.warn(n)),e},e.debug=function(n){return e.enableDebugLog&&console&&(console.debug?console.debug(n):console.log&&console.log(n)),e},e.deprecate=function(n,l){var t=!1;return function(){return t||(e.warn(l),t=!0),n.apply(this,arguments)}},e.annotate=function(n,l){var t=!1;return function(){return t||(console.groupCollapsed(l),console.trace(),console.groupEnd(),t=!0),n.apply(this,arguments)}},e),t.config=(i=u=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],(a={}).defaultColors=function(n){return arguments.length?(i=n,a):(i===u&&t.logger.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),i)},a),t.events={current:null},t.events.trigger=function(n,l){l?(t.events.current=n,setTimeout(function(){n===t.events.current&&n()},l)):n()},t.filters={},t.filters.RangedFilter=function(n,l){var t=new Array(n,l);return t.isFiltered=function(n){return n>=this[0]&&n<this[1]},t.filterType="RangedFilter",t},t.filters.TwoDimensionalFilter=function(n){if(null===n)return null;var l=n;return l.isFiltered=function(n){return n.length&&n.length===l.length&&n[0]===l[0]&&n[1]===l[1]},l.filterType="TwoDimensionalFilter",l},t.filters.RangedTwoDimensionalFilter=function(n){if(null===n)return null;var l,t=n;return l=t[0]instanceof Array?[[Math.min(n[0][0],n[1][0]),Math.min(n[0][1],n[1][1])],[Math.max(n[0][0],n[1][0]),Math.max(n[0][1],n[1][1])]]:[[n[0],-1/0],[n[1],1/0]],t.isFiltered=function(n){var t,e;return n instanceof Array?(t=n[0],e=n[1]):(t=n,e=l[0][1]),t>=l[0][0]&&t<l[1][0]&&e>=l[0][1]&&e<l[1][1]},t.filterType="RangedTwoDimensionalFilter",t},t.filters.HierarchyFilter=function(n){if(null===n)return null;var l=n.slice(0);return l.isFiltered=function(n){if(!(l.length&&n&&n.length&&n.length>=l.length))return!1;for(var t=0;t<l.length;t++)if(n[t]!==l[t])return!1;return!0},l},t.baseMixin=function(e){var r,a,u,i,o,s;e.__dcFlag__=t.utils.uniqueId();var c,d,f,h,p,g=200,b=function(n){var l=n&&n.getBoundingClientRect&&n.getBoundingClientRect().width;return l&&l>g?l:g},m=b,v=200,_=function(n){var l=n&&n.getBoundingClientRect&&n.getBoundingClientRect().height;return l&&l>v?l:v},y=_,x=!1,A=t.pluck("key"),w=t.pluck("value"),k=t.pluck("key"),C=t.pluck("key"),D=!1,M=function(n){return e.keyAccessor()(n)+": "+e.valueAccessor()(n)},L=!0,S=!1,R=750,O=0,E=t.printers.filters,F=["dimension","group"],T=t.constants.DEFAULT_CHART_GROUP,B=n.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),G=[],N=function(n,l){return 0===l.length?n.filter(null):1!==l.length||l[0].isFiltered?1===l.length&&"RangedFilter"===l[0].filterType?n.filterRange(l[0]):n.filterFunction(function(n){for(var t=0;t<l.length;t++){var e=l[t];if(e.isFiltered&&e.isFiltered(n))return!0;if(e<=n&&e>=n)return!0}return!1}):n.filterExact(l[0]),l},P=function(n){return n.all()};function I(){o&&(x?o.attr("viewBox")||o.attr("viewBox","0 0 "+e.width()+" "+e.height()):o.attr("width",e.width()).attr("height",e.height()))}function H(n){if(!e[n]||!e[n]())throw new t.errors.InvalidStateException("Mandatory attribute chart."+n+" is missing on chart[#"+e.anchorName()+"]")}e.height=function(n){return arguments.length?(y=n?"function"==typeof n?n:t.utils.constant(n):_,d=void 0,e):(t.utils.isNumber(d)||(d=y(i.node())),d)},e.width=function(n){return arguments.length?(m=n?"function"==typeof n?n:t.utils.constant(n):b,c=void 0,e):(t.utils.isNumber(c)||(c=m(i.node())),c)},e.minWidth=function(n){return arguments.length?(g=n,e):g},e.minHeight=function(n){return arguments.length?(v=n,e):v},e.useViewBoxResizing=function(n){return arguments.length?(x=n,e):x},e.dimension=function(n){return arguments.length?(r=n,e.expireCache(),e):r},e.data=function(n){return arguments.length?(P="function"==typeof n?n:t.utils.constant(n),e.expireCache(),e):P.call(e,a)},e.group=function(n,l){return arguments.length?(a=n,e._groupName=l,e.expireCache(),e):a},e.ordering=function(n){return arguments.length?(f=l.quicksort.by(C=n),e.expireCache(),e):C},e._computeOrderedGroups=function(n){var t=n.slice(0);return t.length<=1?t:(f||(f=l.quicksort.by(C)),f(t,0,t.length))},e.filterAll=function(){return e.filter(null)},e.select=function(n){return i.select(n)},e.selectAll=function(n){return i?i.selectAll(n):null},e.anchor=function(l,r){if(!arguments.length)return u;if(t.instanceOfChart(l))(u=l.anchor()).children&&(u="#"+l.anchorName()),i=l.root(),s=!0;else{if(!l)throw new t.errors.BadArgumentException("parent must be defined");u=l.select&&l.classed?l.node():l,(i=n.select(u)).classed(t.constants.CHART_CLASS,!0),t.registerChart(e,r),s=!1}return T=r,e},e.anchorName=function(){var n=e.anchor();return n&&n.id?n.id:n&&n.replace?n.replace("#",""):"dc-chart"+e.chartID()},e.root=function(n){return arguments.length?(i=n,e):i},e.svg=function(n){return arguments.length?(o=n,e):o},e.resetSvg=function(){return e.select("svg").remove(),o=e.root().append("svg"),I(),o},e.filterPrinter=function(n){return arguments.length?(E=n,e):E},e.controlsUseVisibility=function(n){return arguments.length?(S=n,e):S},e.turnOnControls=function(){if(i){var n=e.controlsUseVisibility()?"visibility":"display";e.selectAll(".reset").style(n,null),e.selectAll(".filter").text(E(e.filters())).style(n,null)}return e},e.turnOffControls=function(){if(i){var n=e.controlsUseVisibility()?"visibility":"display",l=e.controlsUseVisibility()?"hidden":"none";e.selectAll(".reset").style(n,l),e.selectAll(".filter").style(n,l).text(e.filter())}return e},e.transitionDuration=function(n){return arguments.length?(R=n,e):R},e.transitionDelay=function(n){return arguments.length?(O=n,e):O},e._mandatoryAttributes=function(n){return arguments.length?(F=n,e):F},e.render=function(){d=c=void 0,B.call("preRender",e,e),F&&F.forEach(H);var n=e._doRender();return h&&h.render(),e._activateRenderlets("postRender"),n},e._activateRenderlets=function(n){B.call("pretransition",e,e),e.transitionDuration()>0&&o?o.transition().duration(e.transitionDuration()).delay(e.transitionDelay()).on("end",function(){B.call("renderlet",e,e),n&&B.call(n,e,e)}):(B.call("renderlet",e,e),n&&B.call(n,e,e))},e.redraw=function(){I(),B.call("preRedraw",e,e);var n=e._doRedraw();return h&&h.render(),e._activateRenderlets("postRedraw"),n},e.commitHandler=function(n){return arguments.length?(p=n,e):p},e.redrawGroup=function(){return p?p(!1,function(n,l){n?console.log(n):t.redrawAll(e.chartGroup())}):t.redrawAll(e.chartGroup()),e},e.renderGroup=function(){return p?p(!1,function(n,l){n?console.log(n):t.renderAll(e.chartGroup())}):t.renderAll(e.chartGroup()),e},e._invokeFilteredListener=function(n){void 0!==n&&B.call("filtered",e,e,n)},e._invokeZoomedListener=function(){B.call("zoomed",e,e)};var K=function(n,l){return null==l?n.length>0:n.some(function(n){return l<=n&&l>=n})};e.hasFilterHandler=function(n){return arguments.length?(K=n,e):K},e.hasFilter=function(n){return K(G,n)};var z=function(n,l){for(var t=0;t<n.length;t++)if(n[t]<=l&&n[t]>=l){n.splice(t,1);break}return n};e.removeFilterHandler=function(n){return arguments.length?(z=n,e):z};var j=function(n,l){return n.push(l),n};e.addFilterHandler=function(n){return arguments.length?(j=n,e):j};var Y=function(n){return[]};return e.resetFilterHandler=function(n){return arguments.length?(Y=n,e):Y},e.replaceFilter=function(n){return G=Y(G),e.filter(n),e},e.filter=function(n){if(!arguments.length)return G.length>0?G[0]:null;var l=G;return n instanceof Array&&n[0]instanceof Array&&!n.isFiltered?n[0].forEach(function(n){l=K(l,n)?z(l,n):j(l,n)}):l=null===n?Y(l):K(l,n)?z(l,n):j(l,n),G=function(n){if(e.dimension()&&e.dimension().filter){var l=N(e.dimension(),n);l&&(n=l)}return n}(l),e._invokeFilteredListener(n),null!==i&&e.hasFilter()?e.turnOnControls():e.turnOffControls(),e},e.filters=function(){return G},e.highlightSelected=function(l){n.select(l).classed(t.constants.SELECTED_CLASS,!0),n.select(l).classed(t.constants.DESELECTED_CLASS,!1)},e.fadeDeselected=function(l){n.select(l).classed(t.constants.SELECTED_CLASS,!1),n.select(l).classed(t.constants.DESELECTED_CLASS,!0)},e.resetHighlight=function(l){n.select(l).classed(t.constants.SELECTED_CLASS,!1),n.select(l).classed(t.constants.DESELECTED_CLASS,!1)},e.onClick=function(n){var l=e.keyAccessor()(n);t.events.trigger(function(){e.filter(l),e.redrawGroup()})},e.filterHandler=function(n){return arguments.length?(N=n,e):N},e._doRender=function(){return e},e._doRedraw=function(){return e},e.legendables=function(){return[]},e.legendHighlight=function(){},e.legendReset=function(){},e.legendToggle=function(){},e.isLegendableHidden=function(){return!1},e.keyAccessor=function(n){return arguments.length?(A=n,e):A},e.valueAccessor=function(n){return arguments.length?(w=n,e):w},e.label=function(n,l){return arguments.length?(k=n,(void 0===l||l)&&(D=!0),e):k},e.renderLabel=function(n){return arguments.length?(D=n,e):D},e.title=function(n){return arguments.length?(M=n,e):M},e.renderTitle=function(n){return arguments.length?(L=n,e):L},e.renderlet=t.logger.deprecate(function(n){return e.on("renderlet."+t.utils.uniqueId(),n),e},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),e.chartGroup=function(n){return arguments.length?(s||t.deregisterChart(e,T),T=n,s||t.registerChart(e,T),e):T},e.expireCache=function(){return e},e.legend=function(n){return arguments.length?((h=n).parent(e),e):h},e.chartID=function(){return e.__dcFlag__},e.options=function(n){var l=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var r in n)"function"==typeof e[r]?n[r]instanceof Array&&-1!==l.indexOf(r)?e[r].apply(e,n[r]):e[r].call(e,n[r]):t.logger.debug("Not a valid option setter name: "+r);return e},e.on=function(n,l){return B.on(n,l),e},e},t.marginMixin=function(n){var l={top:10,right:50,bottom:30,left:30};return n.margins=function(t){return arguments.length?(l=t,n):l},n.effectiveWidth=function(){return n.width()-n.margins().left-n.margins().right},n.effectiveHeight=function(){return n.height()-n.margins().top-n.margins().bottom},n},t.colorMixin=function(l){var e,r=n.scaleOrdinal(t.config.defaultColors()),a=!0,u=function(n){return l.keyAccessor()(n)};return l.colors=function(e){return arguments.length?(r=e instanceof Array?n.scaleQuantize().range(e):"function"==typeof e?e:t.utils.constant(e),l):r},l.ordinalColors=function(t){return l.colors(n.scaleOrdinal().range(t))},l.linearColors=function(t){return l.colors(n.scaleLinear().range(t).interpolate(n.interpolateHcl))},l.colorAccessor=function(n){return arguments.length?(u=n,a=!1,l):u},l.defaultColorAccessor=function(){return a},l.colorDomain=function(n){return arguments.length?(r.domain(n),l):r.domain()},l.calculateColorDomain=function(){var t=[n.min(l.data(),l.colorAccessor()),n.max(l.data(),l.colorAccessor())];return r.domain(t),l},l.getColor=function(n,l){return e?e.call(this,n,l):r(u.call(this,n,l))},l.colorCalculator=function(n){return arguments.length?(e=n,l):e||l.getColor},l},t.coordinateGridMixin=function(l){var e,r,a,u,i,o,s="grid-line",c="vertical";(l=t.colorMixin(t.marginMixin(t.baseMixin(l)))).colors(n.scaleOrdinal(n.schemeCategory10)),l._mandatoryAttributes().push("x");var d,f,h,p,g,b,m,v,_,y=n.axisBottom(),x=t.units.integers,A=0,w=n.timeDay,k=!1,C=0,D=null,M=0,L=!1,S=0,R=n.brushX(),O=!0,E=!1,F=!1,T=!1,B=!1,G=[1,1/0],N=!0,P=n.zoom().on("zoom",function(){if(n.event.sourceEvent&&(!n.event.sourceEvent.type||-1===["start","zoom","end"].indexOf(n.event.sourceEvent.type))){var t=n.event.transform.rescaleX(i).domain();l.focus(t,!1)}}),I=n.zoom().on("zoom",null),H=!1,K=!1,z=0,j=.5,Y=0,U=!1;function V(){return U?n.axisRight():n.axisLeft()}function q(){return l.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}function X(){var n=t.utils.appendOrSelect(e,"defs"),r=q(),a=t.utils.appendOrSelect(n,"#"+r,"clipPath").attr("id",r),u=2*z;t.utils.appendOrSelect(a,"rect").attr("width",l.xAxisLength()+u).attr("height",l.yAxisHeight()+u).attr("transform","translate(-"+z+", -"+z+")")}function W(e){l.isOrdinal()&&(O=!1),function(e,r){l.isOrdinal()?(u.bandwidth||(t.logger.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),u=n.scaleBand().domain(u.domain())),(l.elasticX()||0===u.domain().length)&&u.domain(l._ordinalXDomain())):l.elasticX()&&u.domain([l.xAxisMin(),l.xAxisMax()]);var a=u.domain();!r&&t.utils.arraysEqual(f,a)||l.rescale(),f=a,l.isOrdinal()?u.range([0,l.xAxisLength()]).paddingInner(Y).paddingOuter(l._useOuterPadding()?j:0):u.range([0,l.xAxisLength()]),y=y.scale(l.x()),function(n){var e=n.select("g."+c);if(T){e.empty()&&(e=n.insert("g",":first-child").attr("class",s+" "+c).attr("transform","translate("+l.margins().left+","+l.margins().top+")"));var r=y.tickValues()?y.tickValues():"function"==typeof u.ticks?u.ticks.apply(u,y.tickArguments()):u.domain(),a=e.selectAll("line").data(r),i=a.enter().append("line").attr("x1",function(n){return u(n)}).attr("y1",l._xAxisY()-l.margins().top).attr("x2",function(n){return u(n)}).attr("y2",0).attr("opacity",0);t.transition(i,l.transitionDuration(),l.transitionDelay()).attr("opacity",.5),t.transition(a,l.transitionDuration(),l.transitionDelay()).attr("x1",function(n){return u(n)}).attr("y1",l._xAxisY()-l.margins().top).attr("x2",function(n){return u(n)}).attr("y2",0),a.exit().remove()}else e.selectAll("line").remove()}(e)}(l.g(),e),l._prepareYAxis(l.g()),l.plotData(),(l.elasticX()||B||e)&&l.renderXAxis(l.g()),(l.elasticY()||B||e)&&l.renderYAxis(l.g()),e?l.renderBrush(l.g(),!1):l.redrawBrush(l.filter(),B),l.fadeDeselectedArea(l.filter()),B=!1}function Z(){var t,e,r,a;P&&P.transform(l.root(),(t=l.x().domain(),r=((e=o)[1]-e[0])/(t[1]-t[0]),a=-1*i(t[0]),n.zoomIdentity.scale(r).translate(a,0)))}function J(n,l){return n&&2===n.length&&l&&2===l.length?((n[0]>l[1]||n[1]<l[0])&&console.warn("Could not intersect extents, will reset"),[n[0]>l[0]?n[0]:l[0],n[1]<l[1]?n[1]:l[1]]):n}return l.rescale=function(){return m=void 0,B=!0,l},l.resizing=function(){return B},l.rangeChart=function(n){return arguments.length?((v=n).focusChart(l),l):v},l.zoomScale=function(n){return arguments.length?(G=n,l):G},l.zoomOutRestrict=function(n){return arguments.length?(N=n,l):N},l._generateG=function(n){e=void 0===n?l.svg():n;var t=window.location.href.split("#")[0];return r=e.append("g"),a=r.append("g").attr("class","chart-body").attr("transform","translate("+l.margins().left+", "+l.margins().top+")").attr("clip-path","url("+t+"#"+q()+")"),r},l.g=function(n){return arguments.length?(r=n,l):r},l.mouseZoomable=function(n){return arguments.length?(K=n,l):K},l.chartBodyG=function(n){return arguments.length?(a=n,l):a},l.x=function(n){return arguments.length?(o=(u=n).domain(),l.rescale(),l):u},l.xOriginalDomain=function(){return o},l.xUnits=function(n){return arguments.length?(x=n,l):x},l.xAxis=function(n){return arguments.length?(y=n,l):y},l.elasticX=function(n){return arguments.length?(k=n,l):k},l.xAxisPadding=function(n){return arguments.length?(A=n,l):A},l.xAxisPaddingUnit=function(n){return arguments.length?(w=n,l):w},l.xUnitCount=function(){return void 0===m&&(l.isOrdinal()?m=l.x().domain().length:(m=l.xUnits()(l.x().domain()[0],l.x().domain()[1]))instanceof Array&&(m=m.length)),m},l.useRightYAxis=function(n){return arguments.length?(U!==n&&D&&t.logger.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),U=n,l):U},l.isOrdinal=function(){return l.xUnits()===t.units.ordinal},l._useOuterPadding=function(){return!0},l._ordinalXDomain=function(){return l._computeOrderedGroups(l.data()).map(l.keyAccessor())},l.renderXAxis=function(n){var e=n.select("g.x");e.empty()&&(e=n.append("g").attr("class","axis x").attr("transform","translate("+l.margins().left+","+l._xAxisY()+")"));var r=n.select("text.x-axis-label");r.empty()&&l.xAxisLabel()&&(r=n.append("text").attr("class","x-axis-label").attr("transform","translate("+(l.margins().left+l.xAxisLength()/2)+","+(l.height()-C)+")").attr("text-anchor","middle")),l.xAxisLabel()&&r.text()!==l.xAxisLabel()&&r.text(l.xAxisLabel()),t.transition(e,l.transitionDuration(),l.transitionDelay()).attr("transform","translate("+l.margins().left+","+l._xAxisY()+")").call(y),t.transition(r,l.transitionDuration(),l.transitionDelay()).attr("transform","translate("+(l.margins().left+l.xAxisLength()/2)+","+(l.height()-C)+")")},l._xAxisY=function(){return l.height()-l.margins().bottom},l.xAxisLength=function(){return l.effectiveWidth()},l.xAxisLabel=function(n,t){return arguments.length?(d=n,l.margins().bottom-=C,C=void 0===t?12:t,l.margins().bottom+=C,l):d},l._prepareYAxis=function(t){if(void 0===h||l.elasticY()){void 0===h&&(h=n.scaleLinear());var e=l.yAxisMin()||0,r=l.yAxisMax()||0;h.domain([e,r]).rangeRound([l.yAxisHeight(),0])}h.range([l.yAxisHeight(),0]),D||(D=V()),D.scale(h),l._renderHorizontalGridLinesForAxis(t,h,D)},l.renderYAxisLabel=function(n,e,r,a){a=a||S;var u=l.g().select("text.y-axis-label."+n+"-label"),i=l.margins().top+l.yAxisHeight()/2;u.empty()&&e&&(u=l.g().append("text").attr("transform","translate("+a+","+i+"),rotate("+r+")").attr("class","y-axis-label "+n+"-label").attr("text-anchor","middle").text(e)),e&&u.text()!==e&&u.text(e),t.transition(u,l.transitionDuration(),l.transitionDelay()).attr("transform","translate("+a+","+i+"),rotate("+r+")")},l.renderYAxisAt=function(n,e,r){var a=l.g().select("g."+n);a.empty()&&(a=l.g().append("g").attr("class","axis "+n).attr("transform","translate("+r+","+l.margins().top+")")),t.transition(a,l.transitionDuration(),l.transitionDelay()).attr("transform","translate("+r+","+l.margins().top+")").call(e)},l.renderYAxis=function(){var n=U?l.width()-l.margins().right:l._yAxisX();l.renderYAxisAt("y",D,n);var t=U?l.width()-S:S,e=U?90:-90;l.renderYAxisLabel("y",l.yAxisLabel(),e,t)},l._renderHorizontalGridLinesForAxis=function(n,e,r){var a=n.select("g.horizontal");if(F){var u=r.tickValues()?r.tickValues():e.ticks?e.ticks.apply(e,r.tickArguments()):e.domain();a.empty()&&(a=n.insert("g",":first-child").attr("class",s+" horizontal").attr("transform","translate("+l.margins().left+","+l.margins().top+")"));var i=a.selectAll("line").data(u),o=i.enter().append("line").attr("x1",1).attr("y1",function(n){return e(n)}).attr("x2",l.xAxisLength()).attr("y2",function(n){return e(n)}).attr("opacity",0);t.transition(o,l.transitionDuration(),l.transitionDelay()).attr("opacity",.5),t.transition(i,l.transitionDuration(),l.transitionDelay()).attr("x1",1).attr("y1",function(n){return e(n)}).attr("x2",l.xAxisLength()).attr("y2",function(n){return e(n)}),i.exit().remove()}else a.selectAll("line").remove()},l._yAxisX=function(){return l.useRightYAxis()?l.width()-l.margins().right:l.margins().left},l.yAxisLabel=function(n,t){return arguments.length?(p=n,l.margins().left-=S,S=void 0===t?12:t,l.margins().left+=S,l):p},l.y=function(n){return arguments.length?(h=n,l.rescale(),l):h},l.yAxis=function(n){return arguments.length?(D=n,l):(D||(D=V()),D)},l.elasticY=function(n){return arguments.length?(L=n,l):L},l.renderHorizontalGridLines=function(n){return arguments.length?(F=n,l):F},l.renderVerticalGridLines=function(n){return arguments.length?(T=n,l):T},l.xAxisMin=function(){var e=n.min(l.data(),function(n){return l.keyAccessor()(n)});return t.utils.subtract(e,A,w)},l.xAxisMax=function(){var e=n.max(l.data(),function(n){return l.keyAccessor()(n)});return t.utils.add(e,A,w)},l.yAxisMin=function(){var e=n.min(l.data(),function(n){return l.valueAccessor()(n)});return t.utils.subtract(e,M)},l.yAxisMax=function(){var e=n.max(l.data(),function(n){return l.valueAccessor()(n)});return t.utils.add(e,M)},l.yAxisPadding=function(n){return arguments.length?(M=n,l):M},l.yAxisHeight=function(){return l.effectiveHeight()},l.round=function(n){return arguments.length?(b=n,l):b},l._rangeBandPadding=function(n){return arguments.length?(Y=n,l):Y},l._outerRangeBandPadding=function(n){return arguments.length?(j=n,l):j},t.override(l,"filter",function(n){return arguments.length?(l._filter(n),l.redrawBrush(n,!1),l):l._filter()}),l.brush=function(n){return arguments.length?(R=n,l):R},l.renderBrush=function(n,t){O&&(R.on("start brush end",l._brushing),g=n.append("g").attr("class","brush").attr("transform","translate("+l.margins().left+","+l.margins().top+")"),l.setBrushExtents(),l.createBrushHandlePaths(g,t),l.redrawBrush(l.filter(),t))},l.createBrushHandlePaths=function(n){var t=n.selectAll("path.custom-brush-handle").data([{type:"w"},{type:"e"}]);(t=t.enter().append("path").attr("class","custom-brush-handle").merge(t)).attr("d",l.resizeHandlePath)},l.extendBrush=function(n){return n&&l.round()&&(n[0]=l.round()(n[0]),n[1]=l.round()(n[1])),n},l.brushIsEmpty=function(n){return!n||n[1]<=n[0]},l._brushing=function(){if(n.event.sourceEvent&&(!n.event.sourceEvent.type||-1===["start","brush","end"].indexOf(n.event.sourceEvent.type))){var e=n.event.selection;e&&(e=e.map(l.x().invert)),e=l.extendBrush(e),l.redrawBrush(e,!1);var r=l.brushIsEmpty(e)?null:t.filters.RangedFilter(e[0],e[1]);t.events.trigger(function(){l.applyBrushSelection(r)},t.constants.EVENT_DELAY)}},l.applyBrushSelection=function(n){l.replaceFilter(n),l.redrawGroup()},l.setBrushExtents=function(n){R.extent([[0,0],[l.effectiveWidth(),l.effectiveHeight()]]),g.call(R)},l.redrawBrush=function(n,e){if(O&&g)if(B&&l.setBrushExtents(e),n){var r=[u(n[0]),u(n[1])],a=t.optionalTransition(e,l.transitionDuration(),l.transitionDelay())(g);a.call(R.move,r),a.selectAll("path.custom-brush-handle").attr("display",null).attr("transform",function(l,t){return"translate("+u(n[t])+", 0)"}).attr("d",l.resizeHandlePath)}else g.call(R.move,null),g.selectAll("path.custom-brush-handle").attr("display","none");l.fadeDeselectedArea(n)},l.fadeDeselectedArea=function(n){},l.resizeHandlePath=function(n){var t=+("e"===(n=n.type)),e=t?1:-1,r=l.effectiveHeight()/3;return"M"+.5*e+","+r+"A6,6 0 0 "+t+" "+6.5*e+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*e+","+2*r+"ZM"+2.5*e+","+(r+8)+"V"+(2*r-8)+"M"+4.5*e+","+(r+8)+"V"+(2*r-8)},l.clipPadding=function(n){return arguments.length?(z=n,l):z},l._preprocessData=function(){},l._doRender=function(){return l.resetSvg(),l._preprocessData(),l._generateG(),X(),W(!0),i=u.copy(),K?l._enableMouseZoom():H&&l._disableMouseZoom(),l},l._doRedraw=function(){return l._preprocessData(),W(!1),X(),l},l._enableMouseZoom=function(){H=!0;var n=[[0,0],[l.effectiveWidth(),l.effectiveHeight()]];if(P.scaleExtent(G).extent(n).duration(l.transitionDuration()),N){var t=Math.max(G[0],1);P.translateExtent(n).scaleExtent([t,G[1]])}l.root().call(P),Z()},l._disableMouseZoom=function(){l.root().call(I)},l.focus=function(n,e){N&&(n=J(n,o),v&&(n=J(n,v.x().domain()))),function(n,e){var r,a;(a=n)instanceof Array&&a.length>1?(l.x().domain(n),r=t.filters.RangedFilter(n[0],n[1])):(l.x().domain(o),r=null),l.replaceFilter(r),l.rescale(),l.redraw(),e||(v&&!t.utils.arraysEqual(l.filter(),v.filter())&&t.events.trigger(function(){v.replaceFilter(r),v.redraw()}),l._invokeZoomedListener(),t.events.trigger(function(){l.redrawGroup()},t.constants.EVENT_DELAY))}(n,e),Z()},l.refocused=function(){return!t.utils.arraysEqual(l.x().domain(),o)},l.focusChart=function(n){return arguments.length?(_=n,l.on("filtered.dcjs-range-chart",function(n){n.filter()?t.utils.arraysEqual(n.filter(),_.filter())||t.events.trigger(function(){_.focus(n.filter(),!0)}):t.events.trigger(function(){_.x().domain(_.xOriginalDomain(),!0)})}),l):_},l.brushOn=function(n){return arguments.length?(O=n,l):O},l.parentBrushOn=function(n){return arguments.length?(E=n,l):E},l.gBrush=function(){return g},l},t.stackMixin=function(l){function e(n,e){var r=n.accessor||l.valueAccessor();n.name=String(n.name||e);var a=n.group.all().map(function(t,e){return{x:l.keyAccessor()(t,e),y:n.hidden?null:r(t,e),data:t,layer:n.name,hidden:n.hidden}});n.domainValues=a.filter(function(){if(!l.x())return t.utils.constant(!0);var n=l.x().domain();return l.isOrdinal()?function(){return!0}:l.elasticX()?function(){return!0}:function(l){return l.x>=n[0]&&l.x<=n[n.length-1]}}()),n.values=l.evadeDomainFilter()?a:n.domainValues}var r=n.stack(),a=[],u={},i=!1,o=!1;function s(n){var l=a.map(t.pluck("name")).indexOf(n);return a[l]}function c(){var n=l.data().map(function(n){return n.domainValues});return Array.prototype.concat.apply([],n)}function d(n){return!n.hidden}return l.stack=function(n,t,e){if(!arguments.length)return a;arguments.length<=2&&(e=t);var r={group:n};return"string"==typeof t&&(r.name=t),"function"==typeof e&&(r.accessor=e),a.push(r),l},t.override(l,"group",function(n,t,e){return arguments.length?(a=[],u={},l.stack(n,t),e&&l.valueAccessor(e),l._group(n,t)):l._group()}),l.hidableStacks=function(n){return arguments.length?(i=n,l):i},l.hideStack=function(n){var t=s(n);return t&&(t.hidden=!0),l},l.showStack=function(n){var t=s(n);return t&&(t.hidden=!1),l},l.getValueAccessorByIndex=function(n){return a[n].accessor||l.valueAccessor()},l.yAxisMin=function(){var e=n.min(c(),function(n){return n.y<0?n.y+n.y0:n.y0});return t.utils.subtract(e,l.yAxisPadding())},l.yAxisMax=function(){var e=n.max(c(),function(n){return n.y>0?n.y+n.y0:n.y0});return t.utils.add(e,l.yAxisPadding())},l.xAxisMin=function(){var e=n.min(c(),t.pluck("x"));return t.utils.subtract(e,l.xAxisPadding(),l.xAxisPaddingUnit())},l.xAxisMax=function(){var e=n.max(c(),t.pluck("x"));return t.utils.add(e,l.xAxisPadding(),l.xAxisPaddingUnit())},t.override(l,"title",function(n,t){return n?"function"==typeof n?l._title(n):n===l._groupName&&"function"==typeof t?l._title(t):"function"!=typeof t?u[n]||l._title():(u[n]=t,l):l._title()}),l.stackLayout=function(n){return arguments.length?(r=n,l):r},l.evadeDomainFilter=function(n){return arguments.length?(o=n,l):o},l.data(function(){var n=a.filter(d);if(!n.length)return[];n.forEach(e);var t=n[0].values.map(function(l,t){var e={x:l.x};return n.forEach(function(n){e[n.name]=n.values[t].y}),e}),r=n.map(function(n){return n.name});return l.stackLayout().keys(r)(t).forEach(function(l,t){l.forEach(function(l,e){n[t].values[e].y0=l[0],n[t].values[e].y1=l[1]})}),n}),l._ordinalXDomain=function(){var n=c().map(t.pluck("data"));return l._computeOrderedGroups(n).map(l.keyAccessor())},l.colorAccessor(function(n){return this.layer||this.name||n.name||n.layer}),l.legendables=function(){return a.map(function(n,t){return{chart:l,name:n.name,hidden:n.hidden||!1,color:l.getColor.call(n,n.values,t)}})},l.isLegendableHidden=function(n){var l=s(n.name);return!!l&&l.hidden},l.legendToggle=function(n){i&&(l.isLegendableHidden(n)?l.showStack(n.name):l.hideStack(n.name),l.renderGroup())},l},t.capMixin=function(l){var e=1/0,r=!0,a="Others";l.ordering(function(n){return-n.value});var u=function(t,e){var r=n.sum(e,l.valueAccessor()),a=e.map(l.keyAccessor());return r>0?t.concat([{others:a,key:l.othersLabel(),value:r}]):t};return l.cappedKeyAccessor=function(n,t){return n.others?n.key:l.keyAccessor()(n,t)},l.cappedValueAccessor=function(n,t){return n.others?n.value:l.valueAccessor()(n,t)},l.data(function(n){if(e===1/0)return l._computeOrderedGroups(n.all());var t,a=n.all();if(a=l._computeOrderedGroups(a),e)if(r)t=a.slice(e),a=a.slice(0,e);else{var i=Math.max(0,a.length-e);t=a.slice(0,i),a=a.slice(i)}return u?u(a,t):a}),l.cap=function(n){return arguments.length?(e=n,l):e},l.takeFront=function(n){return arguments.length?(r=n,l):r},l.othersLabel=function(n){return arguments.length?(a=n,l):a},l.othersGrouper=function(n){return arguments.length?(u=n,l):u},t.override(l,"onClick",function(n){n.others&&l.filter([n.others]),l._onClick(n)}),l},t.bubbleMixin=function(l){var e=.3,r=10,a=!1,u=!1;l.BUBBLE_NODE_CLASS="node",l.BUBBLE_CLASS="bubble",l.MIN_RADIUS=10,(l=t.colorMixin(l)).renderLabel(!0),l.data(function(t){var e=t.all();if(a){var r=l.radiusValueAccessor();e.sort(function(l,t){return n.descending(r(l),r(t))})}return e});var i=n.scaleLinear().domain([0,100]),o=function(n){return n.r};l.r=function(n){return arguments.length?(i=n,l):i},l.elasticRadius=function(n){return arguments.length?(u=n,l):u},l.calculateRadiusDomain=function(){u&&l.r().domain([l.rMin(),l.rMax()])},l.radiusValueAccessor=function(n){return arguments.length?(o=n,l):o},l.rMin=function(){return n.min(l.data(),function(n){return l.radiusValueAccessor()(n)})},l.rMax=function(){return n.max(l.data(),function(n){return l.radiusValueAccessor()(n)})},l.bubbleR=function(n){var t=l.radiusValueAccessor()(n),e=l.r()(t);return(isNaN(e)||t<=0)&&(e=0),e};var s=function(n){return l.label()(n)},c=function(n){return l.bubbleR(n)>r},d=function(n){return c(n)?1:0},f=function(n){return c(n)?"all":"none"};l._doRenderLabel=function(n){if(l.renderLabel()){var e=n.select("text");e.empty()&&(e=n.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",l.onClick)),e.attr("opacity",0).attr("pointer-events",f).text(s),t.transition(e,l.transitionDuration(),l.transitionDelay()).attr("opacity",d)}},l.doUpdateLabels=function(n){if(l.renderLabel()){var e=n.select("text").attr("pointer-events",f).text(s);t.transition(e,l.transitionDuration(),l.transitionDelay()).attr("opacity",d)}};var h=function(n){return l.title()(n)};return l._doRenderTitles=function(n){l.renderTitle()&&n.select("title").empty()&&n.append("title").text(h)},l.doUpdateTitles=function(n){l.renderTitle()&&n.select("title").text(h)},l.sortBubbleSize=function(n){return arguments.length?(a=n,l):a},l.minRadius=function(n){return arguments.length?(l.MIN_RADIUS=n,l):l.MIN_RADIUS},l.minRadiusWithLabel=function(n){return arguments.length?(r=n,l):r},l.maxBubbleRelativeSize=function(n){return arguments.length?(e=n,l):e},l.fadeDeselectedArea=function(n){l.hasFilter()?l.selectAll("g."+l.BUBBLE_NODE_CLASS).each(function(n){l.isSelectedNode(n)?l.highlightSelected(this):l.fadeDeselected(this)}):l.selectAll("g."+l.BUBBLE_NODE_CLASS).each(function(){l.resetHighlight(this)})},l.isSelectedNode=function(n){return l.hasFilter(n.key)},l.onClick=function(n){var e=n.key;t.events.trigger(function(){l.filter(e),l.redrawGroup()})},l},t.pieChart=function(l,e){var r,a,u,i,o,s,c="pie-slice",d="pie-label",f="pie-slice-group",h="pie-label-group",p="empty-chart",g="empty",b=0,m=0,v=.5,_=!1,y=t.capMixin(t.colorMixin(t.baseMixin({})));function x(){var l=n.min([y.width(),y.height()])/2;r=a&&a<l?a:l;var e,i=C(),o=n.pie().sort(null).value(y.cappedValueAccessor);if(n.sum(y.data(),y.cappedValueAccessor)?(e=o(y.data()),u.classed(p,!1)):(e=o([{key:g,value:1,others:[g]}]),u.classed(p,!0)),u){var b=u.select("g."+f).selectAll("g."+c).data(e),m=u.select("g."+h).selectAll("text."+d).data(e);!function(n,l){n.exit().remove(),l.exit().remove()}(b,m),function(n,l,e,r){var a=function(n){return n.enter().append("g").attr("class",function(n,l){return c+" _"+l})}(n);(function(n,l){var e=n.append("path").attr("fill",L).on("click",S).attr("d",function(n,t){return R(n,t,l)}),r=t.transition(e,y.transitionDuration(),y.transitionDelay());r.attrTween&&r.attrTween("d",M)})(a,e),function(n){y.renderTitle()&&n.append("title").text(function(n){return y.title()(n.data)})}(a),function(n,l,t){y.renderLabel()&&(A(n.enter().append("text").attr("class",function(n,l){var t=c+" "+d+" _"+l;return s&&(t+=" external"),t}).on("click",S).on("mouseover",function(n,l){w(l,!0)}).on("mouseout",function(n,l){w(l,!1)}),t),s&&_&&k(l,t))}(l,r,e)}(b,m,i,e),function(n,l){(function(n,l){var e=u.selectAll("g."+c).data(n).select("path").attr("d",function(n,t){return R(n,t,l)}),r=t.transition(e,y.transitionDuration(),y.transitionDelay());r.attrTween&&r.attrTween("d",M),r.attr("fill",L)})(n,l),function(n,l){y.renderLabel()&&(A(u.selectAll("text."+d).data(n),l),s&&_&&k(n,l))}(n,l),function(n){y.renderTitle()&&u.selectAll("g."+c).data(n).select("title").text(function(n){return y.title()(n.data)})}(n)}(e,i),y.hasFilter()?y.selectAll("g."+c).each(function(n){D(n)?y.highlightSelected(this):y.fadeDeselected(this)}):y.selectAll("g."+c).each(function(){y.resetHighlight(this)}),t.transition(u,y.transitionDuration(),y.transitionDelay()).attr("transform","translate("+y.cx()+","+y.cy()+")")}}function A(l,e){y._applyLabelText(l),t.transition(l,y.transitionDuration(),y.transitionDelay()).attr("transform",function(l){return function(l,t){var e;return e=s?n.arc().outerRadius(r-m+s).innerRadius(r-m+s).centroid(l):t.centroid(l),isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(l,e)}).attr("text-anchor","middle")}function w(n,l){y.select("g.pie-slice._"+n).classed("highlight",l)}function k(l,e){var a=u.selectAll("polyline."+c).data(l);a.exit().remove(),a=a.enter().append("polyline").attr("class",function(n,l){return"pie-path _"+l+" "+c}).on("click",S).on("mouseover",function(n,l){w(l,!0)}).on("mouseout",function(n,l){w(l,!1)}).merge(a);var i=n.arc().outerRadius(r-m+s).innerRadius(r-m),o=t.transition(a,y.transitionDuration(),y.transitionDelay());o.attrTween?o.attrTween("points",function(l){var t=this._current||l,r=n.interpolate(t={startAngle:t.startAngle,endAngle:t.endAngle},l);return this._current=r(0),function(n){var l=r(n);return[e.centroid(l),i.centroid(l)]}}):o.attr("points",function(n){return[e.centroid(n),i.centroid(n)]}),o.style("visibility",function(n){return n.endAngle-n.startAngle<1e-4?"hidden":"visible"})}function C(){return n.arc().outerRadius(r-m).innerRadius(b)}function D(n){return y.hasFilter(y.cappedKeyAccessor(n.data))}function M(l){l.innerRadius=b;var t=this._current;t=function(n){return!n||isNaN(n.startAngle)||isNaN(n.endAngle)}(t)?{startAngle:0,endAngle:0}:{startAngle:t.startAngle,endAngle:t.endAngle};var e=n.interpolate(t,l);return this._current=e(0),function(n){return R(e(n),0,C())}}function L(n,l){return y.getColor(n.data,l)}function S(n,l){u.attr("class")!==p&&y.onClick(n.data,l)}function R(n,l,t){var e=t(n,l);return e.indexOf("NaN")>=0&&(e="M0,0"),e}function O(l,t){y.selectAll("g.pie-slice").each(function(e){l.name===e.data.key&&n.select(this).classed("highlight",t)})}return y.colorAccessor(y.cappedKeyAccessor),y.title(function(n){return y.cappedKeyAccessor(n)+": "+y.cappedValueAccessor(n)}),y.slicesCap=y.cap,y.label(y.cappedKeyAccessor),y.renderLabel(!0),y.transitionDuration(350),y.transitionDelay(0),y._doRender=function(){return y.resetSvg(),(u=y.svg().append("g").attr("transform","translate("+y.cx()+","+y.cy()+")")).append("g").attr("class",f),u.append("g").attr("class",h),x(),y},y._applyLabelText=function(n){n.text(function(n){return!function(n){return 0===y.cappedValueAccessor(n)}(n.data)&&!function(n){var l=n.endAngle-n.startAngle;return isNaN(l)||l<v}(n)||D(n)?y.label()(n.data):""})},y.externalRadiusPadding=function(n){return arguments.length?(m=n,y):m},y.innerRadius=function(n){return arguments.length?(b=n,y):b},y.radius=function(n){return arguments.length?(a=n,y):a},y.cx=function(n){return arguments.length?(i=n,y):i||y.width()/2},y.cy=function(n){return arguments.length?(o=n,y):o||y.height()/2},y._doRedraw=function(){return x(),y},y.minAngleForLabel=function(n){return arguments.length?(v=n,y):v},y.emptyTitle=function(n){return 0===arguments.length?g:(g=n,y)},y.externalLabels=function(n){return 0===arguments.length?s:(s=n||void 0,y)},y.drawPaths=function(n){return 0===arguments.length?_:(_=n,y)},y.legendables=function(){return y.data().map(function(n,l){var t={name:n.key,data:n.value,others:n.others,chart:y};return t.color=y.getColor(n,l),t})},y.legendHighlight=function(n){O(n,!0)},y.legendReset=function(n){O(n,!1)},y.legendToggle=function(n){y.onClick({key:n.name,others:n.others})},y.anchor(l,e)},t.sunburstChart=function(l,e){var r,a,u,i,o,s,c="pie-slice",d="empty-chart",f="empty",h=0,p=.5,g=t.capMixin(t.colorMixin(t.baseMixin({})));function b(n){return n.path?n.value:g.cappedValueAccessor(n)}function m(){var l=n.min([g.width(),g.height()])/2;r=a&&a<l?a:l;var e,i=_();if(n.sum(g.data(),g.valueAccessor())?((e=y(t.utils.toHierarchy(g.data(),g.valueAccessor()))).shift(),u.classed(d,!1)):(e=y(t.utils.toHierarchy([],function(n){return n.value})),u.classed(d,!0)),u){var o=u.selectAll("g."+c).data(e);!function(n,l,e){var r=function(n){return n.enter().append("g").attr("class",function(n,l){return c+" _"+l+" "+c+"-level-"+n.depth})}(n);(function(n,l){var e=n.append("path").attr("fill",A).on("click",w).attr("d",function(n){return k(l,n)}),r=t.transition(e,g.transitionDuration());r.attrTween&&r.attrTween("d",x)})(r,l),function(n){g.renderTitle()&&n.append("title").text(function(n){return g.title()(n)})}(r),function(n,l){if(g.renderLabel()){var t=u.selectAll("text."+c).data(n);t.exit().remove(),v(t.enter().append("text").attr("class",function(n,l){var t=c+" _"+l;return s&&(t+=" external"),t}).on("click",w),l)}}(e,l)}(o,i,e),function(n,l){(function(n,l){var e=u.selectAll("g."+c).data(n).select("path").attr("d",function(n,t){return k(l,n)}),r=t.transition(e,g.transitionDuration());r.attrTween&&r.attrTween("d",x),r.attr("fill",A)})(n,l),function(n,l){g.renderLabel()&&v(u.selectAll("text."+c).data(n),l)}(n,l),function(n){g.renderTitle()&&u.selectAll("g."+c).data(n).select("title").text(function(n){return g.title()(n)})}(n)}(e,i),function(n){n.exit().remove()}(o),g.hasFilter()?g.selectAll("g."+c).each(function(n){!function(n){return function(n){for(var l=0;l<g.filters().length;l++)if(g.filters()[l].isFiltered(n))return!0;return!1}(n.path)}(n)?g.fadeDeselected(this):g.highlightSelected(this)}):g.selectAll("g."+c).each(function(n){g.resetHighlight(this)}),t.transition(u,g.transitionDuration(),g.transitionDelay()).attr("transform","translate("+g.cx()+","+g.cy()+")")}}function v(l,e){t.transition(l,g.transitionDuration()).attr("transform",function(l){return function(l,t){var e;return e=s?n.svg.arc().outerRadius(r+s).innerRadius(r+s).centroid(l):t.centroid(l),isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(l,e)}).attr("text-anchor","middle").text(function(n){return function(n){return 0===b(n)}(n)||function(n){var l=n.x1-n.x0;return isNaN(l)||l<p}(n)?"":g.label()(n)})}function _(){return n.arc().startAngle(function(n){return n.x0}).endAngle(function(n){return n.x1}).innerRadius(function(n){return n.data.path&&1===n.data.path.length?h:Math.sqrt(n.y0)}).outerRadius(function(n){return Math.sqrt(n.y1)})}function y(l){var t=n.hierarchy(l).sum(function(n){return n.children?0:b(n)}).sort(function(l,t){return n.ascending(l.data.path,t.data.path)});return n.partition().size([2*Math.PI,r*r])(t),t.descendants().map(function(n){return n.key=n.data.key,n.path=n.data.path,n})}function x(l){var t=this._current;(function(n){return!n||isNaN(n.x0)||isNaN(n.y0)})(t)&&(t={x0:0,x1:0,y0:0,y1:0});var e=n.interpolate(t,{x0:l.x0,x1:l.x1,y0:l.y0,y1:l.y1});return this._current=e(0),function(n){return k(_(),Object.assign({},l,e(n)))}}function A(n,l){return g.getColor(n.data,l)}function w(n,l){u.attr("class")!==d&&function(n){for(var l=n.path||n.key,e=t.filters.HierarchyFilter(l),r=function(n){for(var l=t.filters.HierarchyFilter(n),e=[],r=0;r<g.filters().length;r++){var a=g.filters()[r];(a.isFiltered(n)||l.isFiltered(a))&&e.push(a)}return e}(l),a=!1,u=r.length-1;u>=0;u--)t.utils.arraysIdentical(r[u],l)&&(a=!0),g.filter(r[u]);t.events.trigger(function(){a||g.filter(e),g.redrawGroup()})}(n)}function k(n,l){var t=n(l);return t.indexOf("NaN")>=0&&(t="M0,0"),t}function C(l,t){g.selectAll("g.pie-slice").each(function(e){l.name===e.key&&n.select(this).classed("highlight",t)})}return g.colorAccessor(g.cappedKeyAccessor),g.title(function(n){return g.cappedKeyAccessor(n)+": "+b(n)}),g.label(g.cappedKeyAccessor),g.renderLabel(!0),g.transitionDuration(350),g.filterHandler(function(n,l){return 0===l.length?n.filter(null):n.filterFunction(function(n){for(var t=0;t<l.length;t++){var e=l[t];if(e.isFiltered&&e.isFiltered(n))return!0}return!1}),l}),g._doRender=function(){return g.resetSvg(),u=g.svg().append("g").attr("transform","translate("+g.cx()+","+g.cy()+")"),m(),g},g.innerRadius=function(n){return arguments.length?(h=n,g):h},g.radius=function(n){return arguments.length?(a=n,g):a},g.cx=function(n){return arguments.length?(i=n,g):i||g.width()/2},g.cy=function(n){return arguments.length?(o=n,g):o||g.height()/2},g.minAngleForLabel=function(n){return arguments.length?(p=n,g):p},g.emptyTitle=function(n){return 0===arguments.length?f:(f=n,g)},g.externalLabels=function(n){return 0===arguments.length?s:(s=n||void 0,g)},g._doRedraw=function(){return m(),g},g.onClick=w,g.legendables=function(){return g.data().map(function(n,l){var t={name:n.key,data:n.value,others:n.others,chart:g};return t.color=g.getColor(n,l),t})},g.legendHighlight=function(n){C(n,!0)},g.legendReset=function(n){C(n,!1)},g.legendToggle=function(n){g.onClick({key:n.name,others:n.others})},g.anchor(l,e)},t.barChart=function(l,e){var r,a=3,u=t.stackMixin(t.coordinateGridMixin({})),i=2,o=!1,s=!1;function c(n){return t.utils.safeNumber(Math.abs(u.y()(n.y+n.y0)-u.y()(n.y0)))}function d(n){var l=u.x()(n.x);return o||(l+=r/2),u.isOrdinal()&&void 0!==i&&(l+=i/2),t.utils.safeNumber(l)}function f(n){var l=u.y()(n.y+n.y0);return n.y<0&&(l-=c(n)),t.utils.safeNumber(l-a)}function h(n){var l=u.x()(n.x);return o&&(l-=r/2),u.isOrdinal()&&void 0!==i&&(l+=i/2),t.utils.safeNumber(l)}function p(l,t){return function(){var e=n.select(this).attr("fill")===l;return t?!e:e}}return t.override(u,"rescale",function(){return u._rescale(),r=void 0,u}),t.override(u,"render",function(){return u.round()&&o&&!s&&t.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),u._render()}),u.label(function(n){return t.utils.printSingleValue(n.y0+n.y)},!1),u.plotData=function(){var l=u.chartBodyG().selectAll("g.stack").data(u.data());!function(){if(void 0===r){var n=u.xUnitCount();((r=u.isOrdinal()&&void 0===i?Math.floor(u.x().bandwidth()):i?Math.floor((u.xAxisLength()-(n-1)*i)/n):Math.floor(u.xAxisLength()/(1+u.barPadding())/n))===1/0||isNaN(r)||r<1)&&(r=1)}}();var e=(l=l.enter().append("g").attr("class",function(n,l){return"stack _"+l}).merge(l)).size()-1;l.each(function(l,a){var i=n.select(this);!function(n,l,e){var a=n.selectAll("rect.bar").data(e.values,t.pluck("x")),i=a.enter().append("rect").attr("class","bar").attr("fill",t.pluck("data",u.getColor)).attr("x",h).attr("y",u.yAxisHeight()).attr("height",0),o=i.merge(a);u.renderTitle()&&i.append("title").text(t.pluck("data",u.title(e.name))),u.isOrdinal()&&o.on("click",u.onClick),t.transition(o,u.transitionDuration(),u.transitionDelay()).attr("x",h).attr("y",function(n){var l=u.y()(n.y+n.y0);return n.y<0&&(l-=c(n)),t.utils.safeNumber(l)}).attr("width",r).attr("height",function(n){return c(n)}).attr("fill",t.pluck("data",u.getColor)).select("title").text(t.pluck("data",u.title(e.name))),t.transition(a.exit(),u.transitionDuration(),u.transitionDelay()).attr("x",function(n){return u.x()(n.x)}).attr("width",.9*r).remove()}(i,0,l),u.renderLabel()&&e===a&&function(n,l,e){var r=n.selectAll("text.barLabel").data(e.values,t.pluck("x")),a=r.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",d).attr("y",f).merge(r);u.isOrdinal()&&(a.on("click",u.onClick),a.attr("cursor","pointer")),t.transition(a,u.transitionDuration(),u.transitionDelay()).attr("x",d).attr("y",f).text(function(n){return u.label()(n)}),t.transition(r.exit(),u.transitionDuration(),u.transitionDelay()).attr("height",0).remove()}(i,0,l)})},u.fadeDeselectedArea=function(n){var l=u.chartBodyG().selectAll("rect.bar");if(u.isOrdinal())u.hasFilter()?(l.classed(t.constants.SELECTED_CLASS,function(n){return u.hasFilter(n.x)}),l.classed(t.constants.DESELECTED_CLASS,function(n){return!u.hasFilter(n.x)})):(l.classed(t.constants.SELECTED_CLASS,!1),l.classed(t.constants.DESELECTED_CLASS,!1));else if(u.brushOn()||u.parentBrushOn())if(u.brushIsEmpty(n))l.classed(t.constants.DESELECTED_CLASS,!1);else{var e=n[0],r=n[1];l.classed(t.constants.DESELECTED_CLASS,function(n){return n.x<e||n.x>=r})}},u.centerBar=function(n){return arguments.length?(o=n,u):o},t.override(u,"onClick",function(n){u._onClick(n.data)}),u.barPadding=function(n){return arguments.length?(u._rangeBandPadding(n),i=void 0,u):u._rangeBandPadding()},u._useOuterPadding=function(){return void 0===i},u.outerPadding=u._outerRangeBandPadding,u.gap=function(n){return arguments.length?(i=n,u):i},u.extendBrush=function(n){return n&&u.round()&&(!o||s)&&(n[0]=u.round()(n[0]),n[1]=u.round()(n[1])),n},u.alwaysUseRounding=function(n){return arguments.length?(s=n,u):s},u.legendHighlight=function(n){u.isLegendableHidden(n)||u.g().selectAll("rect.bar").classed("highlight",p(n.color)).classed("fadeout",p(n.color,!0))},u.legendReset=function(){u.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},t.override(u,"xAxisMax",function(){var n=this._xAxisMax();return"resolution"in u.xUnits()&&(n+=u.xUnits().resolution),n}),u.anchor(l,e)},t.lineChart=function(l,e){var r,a,u=t.stackMixin(t.coordinateGridMixin({})),i=!1,o=5,s=null,c=1e-6,d=1e-6,f=null,h=null,p=null,g=!0;function b(n,l){return u.getColor.call(n,n.values,l)}function m(){var l=null;return f||((l="function"==typeof h?h:{linear:n.curveLinear,"linear-closed":n.curveLinearClosed,step:n.curveStep,"step-before":n.curveStepBefore,"step-after":n.curveStepAfter,basis:n.curveBasis,"basis-open":n.curveBasisOpen,"basis-closed":n.curveBasisClosed,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-open":n.curveCardinalOpen,"cardinal-closed":n.curveCardinalClosed,monotone:n.curveMonotoneX}[h])||(l=n.curveLinear),null!==p&&("function"!=typeof l.tension?t.logger.warn("tension was specified but the curve/interpolate does not support it."):l=l.tension(p)),l)}function v(n){return!n||n.indexOf("NaN")>=0?"M0,0":n}function _(){return s||o}function y(n,l){u.renderTitle()&&(n.select("title").remove(),n.append("title").text(t.pluck("data",u.title(l.name))))}function x(l,t,e){return function(){var r=n.select(this),a=r.attr("stroke")===l&&r.attr("stroke-dasharray")===(t instanceof Array?t.join(","):null)||r.attr("fill")===l;return e?!a:a}}return u.transitionDuration(500),u.transitionDelay(0),u._rangeBandPadding(1),u.plotData=function(){var l=u.chartBodyG(),e=l.select("g.stack-list");e.empty()&&(e=l.append("g").attr("class","stack-list"));var s=e.selectAll("g.stack").data(u.data()),f=s.enter().append("g").attr("class",function(n,l){return"stack _"+l});s=f.merge(s),function(l,e){var i=n.line().x(function(n){return u.x()(n.x)}).y(function(n){return u.y()(n.y+n.y0)}).curve(m());r&&i.defined(r);var o=l.append("path").attr("class","line").attr("stroke",b);a&&o.attr("stroke-dasharray",a),t.transition(e.select("path.line"),u.transitionDuration(),u.transitionDelay()).attr("stroke",b).attr("d",function(n){return v(i(n.values))})}(f,s),function(l,e){if(i){var a=n.area().x(function(n){return u.x()(n.x)}).y1(function(n){return u.y()(n.y+n.y0)}).y0(function(n){return u.y()(n.y0)}).curve(m());r&&a.defined(r),l.append("path").attr("class","area").attr("fill",b).attr("d",function(n){return v(a(n.values))}),t.transition(e.select("path.area"),u.transitionDuration(),u.transitionDelay()).attr("fill",b).attr("d",function(n){return v(a(n.values))})}}(f,s),function(l,e){if("always"===u.xyTipsOn()||!u.brushOn()&&!u.parentBrushOn()&&u.xyTipsOn()){var a=l.select("g.dc-tooltip-list");a.empty()&&(a=l.append("g").attr("class","dc-tooltip-list")),e.each(function(l,e){var i=l.values;r&&(i=i.filter(r));var s=a.select("g.dc-tooltip._"+e);s.empty()&&(s=a.append("g").attr("class","dc-tooltip _"+e)),function(n){(n.select("path.yRef").empty()?n.append("path").attr("class","yRef"):n.select("path.yRef")).style("display","none").attr("stroke-dasharray","5,5"),(n.select("path.xRef").empty()?n.append("path").attr("class","xRef"):n.select("path.xRef")).style("display","none").attr("stroke-dasharray","5,5")}(s);var f=s.selectAll("circle.dot").data(i,t.pluck("x")),h=f.enter().append("circle").attr("class","dot").attr("cx",function(n){return t.utils.safeNumber(u.x()(n.x))}).attr("cy",function(n){return t.utils.safeNumber(u.y()(n.y+n.y0))}).attr("r",_()).style("fill-opacity",c).style("stroke-opacity",d).attr("fill",u.getColor).attr("stroke",u.getColor).on("mousemove",function(){var l=n.select(this);console.log("mm",u.keyAccessor()(l.datum().data)),function(n){n.style("fill-opacity",.8),n.style("stroke-opacity",.8),n.attr("r",o)}(l),function(n,l){var t=n.attr("cx"),e=n.attr("cy"),r="M"+(u._yAxisX()-u.margins().left)+" "+e+"L"+t+" "+e,a="M"+t+" "+u.yAxisHeight()+"L"+t+" "+e;l.select("path.yRef").style("display","").attr("d",r),l.select("path.xRef").style("display","").attr("d",a)}(l,s)}).on("mouseout",function(){var l=n.select(this);console.log("mo",u.keyAccessor()(l.datum().data)),function(n){n.style("fill-opacity",c).style("stroke-opacity",d).attr("r",_())}(l),function(n){n.select("path.yRef").style("display","none"),n.select("path.xRef").style("display","none")}(s)}).merge(f);h.call(y,l),t.transition(h,u.transitionDuration()).attr("cx",function(n){return t.utils.safeNumber(u.x()(n.x))}).attr("cy",function(n){return t.utils.safeNumber(u.y()(n.y+n.y0))}).attr("fill",u.getColor),f.exit().remove()})}}(l,s),u.renderLabel()&&function(l){l.each(function(l,e){var r=n.select(this).selectAll("text.lineLabel").data(l.values,t.pluck("x")),a=r.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(r);t.transition(a,u.transitionDuration()).attr("x",function(n){return t.utils.safeNumber(u.x()(n.x))}).attr("y",function(n){var l=u.y()(n.y+n.y0)-3;return t.utils.safeNumber(l)}).text(function(n){return u.label()(n)}),t.transition(r.exit(),u.transitionDuration()).attr("height",0).remove()})}(s)},u.curve=function(n){return arguments.length?(f=n,u):f},u.interpolate=t.logger.deprecate(function(n){return arguments.length?(h=n,u):h},"dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),u.tension=t.logger.deprecate(function(n){return arguments.length?(p=n,u):p},"dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),u.defined=function(n){return arguments.length?(r=n,u):r},u.dashStyle=function(n){return arguments.length?(a=n,u):a},u.renderArea=function(n){return arguments.length?(i=n,u):i},u.label(function(n){return t.utils.printSingleValue(n.y0+n.y)},!1),u.xyTipsOn=function(n){return arguments.length?(g=n,u):g},u.dotRadius=function(n){return arguments.length?(o=n,u):o},u.renderDataPoints=function(n){return arguments.length?(n?(c=n.fillOpacity||.8,d=n.strokeOpacity||0,s=n.radius||2):(c=1e-6,d=1e-6,s=null),u):{fillOpacity:c,strokeOpacity:d,radius:s}},u.legendHighlight=function(n){u.isLegendableHidden(n)||u.g().selectAll("path.line, path.area").classed("highlight",x(n.color,n.dashstyle)).classed("fadeout",x(n.color,n.dashstyle,!0))},u.legendReset=function(){u.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},t.override(u,"legendables",function(){var n=u._legendables();return a?n.map(function(n){return n.dashstyle=a,n}):n}),u.anchor(l,e)},t.dataCount=function(l,e){var r=n.format(",d"),a=t.baseMixin({}),u=null,i=null,o={some:"",all:""};return a._mandatoryAttributes(["crossfilter","groupAll"]),a.html=function(n){return arguments.length?(n.all&&(o.all=n.all),n.some&&(o.some=n.some),a):o},a.formatNumber=function(n){return arguments.length?(r=n,a):r},a._doRender=function(){var n=a.crossfilter().size(),l=a.groupAll().value(),t=r(n),e=r(l);return n===l&&""!==o.all?a.root().html(o.all.replace("%total-count",t).replace("%filter-count",e)):""!==o.some?a.root().html(o.some.replace("%total-count",t).replace("%filter-count",e)):(a.selectAll(".total-count").text(t),a.selectAll(".filter-count").text(e)),a},a._doRedraw=function(){return a._doRender()},a.crossfilter=function(n){return arguments.length?(u=n,this):u},a.dimension=t.logger.annotate(a.crossfilter,"consider using dataCount.crossfilter instead of dataCount.dimension for clarity"),a.groupAll=function(n){return arguments.length?(i=n,this):i},a.group=t.logger.annotate(a.groupAll,"consider using dataCount.groupAll instead of dataCount.group for clarity"),a.anchor(l,e)},t.dataTable=function(l,e){var r,a=t.baseMixin({}),u=25,i=[],o=function(n){return n},s=n.ascending,c=0,d=!0,f=function(){return""};return a._mandatoryAttributes(["dimension"]),a._doRender=function(){var l,t;return a.selectAll("tbody").remove(),l=function(){var l=!0;if(i.forEach(function(n){l&="function"==typeof n}),!l){var t=a.selectAll("thead").data([0]);t.exit().remove();var e=(t=t.enter().append("thead").merge(t)).selectAll("tr").data([0]);e.exit().remove();var f=(e=e.enter().append("tr").merge(e)).selectAll("th").data(i);f.exit().remove(),f.enter().append("th").merge(f).attr("class","dc-table-head").html(function(n){return a._doColumnHeaderFormat(n)})}var h,p=a.root().selectAll("tbody").data((h=s===n.ascending?a.dimension().bottom(u):a.dimension().top(u),n.nest().key(a.section()).sortKeys(s).entries(h.sort(function(n,l){return s(o(n),o(l))}).slice(c,r))),function(n){return a.keyAccessor()(n)}),g=p.enter().append("tbody");return!0===d&&g.append("tr").attr("class","dc-table-section dc-table-group").append("td").attr("class","dc-table-label").attr("colspan",i.length).html(function(n){return a.keyAccessor()(n)}),p.exit().remove(),g}().order().selectAll("tr.dc-table-row").data(function(n){return n.values}),t=l.enter().append("tr").attr("class","dc-table-row"),i.forEach(function(n,l){t.append("td").attr("class","dc-table-column _"+l).html(function(l){return a._doColumnValueFormat(n,l)})}),l.exit().remove(),a},a._doColumnValueFormat=function(n,l){return"function"==typeof n?n(l):"string"==typeof n?l[n]:n.format(l)},a._doColumnHeaderFormat=function(n){return"function"==typeof n?a._doColumnHeaderFnToString(n):"string"==typeof n?a._doColumnHeaderCapitalize(n):String(n.label)},a._doColumnHeaderCapitalize=function(n){return n.charAt(0).toUpperCase()+n.slice(1)},a._doColumnHeaderFnToString=function(n){var l=String(n),t=l.indexOf("return ");if(t>=0){var e=l.lastIndexOf(";");e>=0&&(l=l.substring(t+7,e)).indexOf("numberFormat")>=0&&(l=l.replace("numberFormat",""))}return l},a._doRedraw=function(){return a._doRender()},a.section=function(n){return arguments.length?(f=n,a):f},a.group=t.logger.annotate(a.section,"consider using dataTable.section instead of dataTable.group for clarity"),a.size=function(n){return arguments.length?(u=n,a):u},a.beginSlice=function(n){return arguments.length?(c=n,a):c},a.endSlice=function(n){return arguments.length?(r=n,a):r},a.columns=function(n){return arguments.length?(i=n,a):i},a.sortBy=function(n){return arguments.length?(o=n,a):o},a.order=function(n){return arguments.length?(s=n,a):s},a.showSections=function(n){return arguments.length?(d=n,a):d},a.showGroups=t.logger.annotate(a.showSections,"consider using dataTable.showSections instead of dataTable.showGroups for clarity"),a.anchor(l,e)},t.dataGrid=function(l,e){var r,a=t.baseMixin({}),u=null,i=999,o=function(n){return"you need to provide an html() handling param:  "+JSON.stringify(n)},s=function(n){return n},c=n.ascending,d=0,f=function(n){return"<div class='dc-grid-section dc-grid-group'><h1 class='dc-grid-label'>"+a.keyAccessor()(n)+"</h1></div>"};return a._mandatoryAttributes(["dimension","section"]),a._doRender=function(){var l;return a.selectAll("div.dc-grid-top").remove(),(l=function(){var l,t=a.root().selectAll("div.dc-grid-top").data((l=a.dimension().top(i),n.nest().key(a.section()).sortKeys(c).entries(l.sort(function(n,l){return c(s(n),s(l))}).slice(d,r))),function(n){return a.keyAccessor()(n)}),e=t.enter().append("div").attr("class","dc-grid-top");return f&&e.html(function(n){return f(n)}),t.exit().remove(),e}().order().selectAll("div.dc-grid-item").data(function(n){return n.values})).exit().remove(),l=l.enter().append("div").attr("class","dc-grid-item").html(function(n){return o(n)}).merge(l),a},a._doRedraw=function(){return a._doRender()},a.section=function(n){return arguments.length?(u=n,a):u},a.group=t.logger.annotate(a.section,"consider using dataGrid.section instead of dataGrid.group for clarity"),a.beginSlice=function(n){return arguments.length?(d=n,a):d},a.endSlice=function(n){return arguments.length?(r=n,a):r},a.size=function(n){return arguments.length?(i=n,a):i},a.html=function(n){return arguments.length?(o=n,a):o},a.htmlSection=function(n){return arguments.length?(f=n,a):f},a.htmlGroup=t.logger.annotate(a.htmlSection,"consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity"),a.sortBy=function(n){return arguments.length?(s=n,a):s},a.order=function(n){return arguments.length?(c=n,a):c},a.anchor(l,e)},t.bubbleChart=function(n,l){var e=t.bubbleMixin(t.coordinateGridMixin({}));e.transitionDuration(750),e.transitionDelay(0);var r=function(n){return"translate("+function(n){var l=e.x()(e.keyAccessor()(n));return!isNaN(l)&&isFinite(l)||(l=0),l}(n)+","+function(n){var l=e.y()(e.valueAccessor()(n));return!isNaN(l)&&isFinite(l)||(l=0),l}(n)+")"};return e.plotData=function(){e.calculateRadiusDomain(),e.r().range([e.MIN_RADIUS,e.xAxisLength()*e.maxBubbleRelativeSize()]);var n=e.data(),l=e.chartBodyG().selectAll("g."+e.BUBBLE_NODE_CLASS).data(n,function(n){return n.key});e.sortBubbleSize()&&l.order(),function(n){n.exit().remove()}(l),function(n){t.transition(n,e.transitionDuration(),e.transitionDelay()).attr("transform",r).select("circle."+e.BUBBLE_CLASS).attr("fill",e.getColor).attr("r",function(n){return e.bubbleR(n)}).attr("opacity",function(n){return e.bubbleR(n)>0?1:0}),e.doUpdateLabels(n),e.doUpdateTitles(n)}(l=function(n){var l=n.enter().append("g");return l.attr("class",e.BUBBLE_NODE_CLASS).attr("transform",r).append("circle").attr("class",function(n,l){return e.BUBBLE_CLASS+" _"+l}).on("click",e.onClick).attr("fill",e.getColor).attr("r",0),n=l.merge(n),t.transition(n,e.transitionDuration(),e.transitionDelay()).select("circle."+e.BUBBLE_CLASS).attr("r",function(n){return e.bubbleR(n)}).attr("opacity",function(n){return e.bubbleR(n)>0?1:0}),e._doRenderLabel(l),e._doRenderTitles(l),n}(l)),e.fadeDeselectedArea(e.filter())},e.renderBrush=function(){},e.redrawBrush=function(n,l){e.fadeDeselectedArea(n)},e.anchor(n,l)},t.compositeChart=function(l,e){var r,a="sub",u=t.coordinateGridMixin({}),i=[],o={},s=!1,c=!0,d=!1,f=n.axisRight(),h=0,p=12,g=!1;function b(n,l){n._generateG(u.g()),n.g().attr("class",a+" _"+l)}function m(){return i.filter(function(n){return!n.useRightYAxis()})}function v(){return i.filter(function(n){return n.useRightYAxis()})}function _(n){return n.map(function(n){return n.yAxisMin()})}function y(n){return n.map(function(n){return n.yAxisMax()})}return u._mandatoryAttributes([]),u.transitionDuration(500),u.transitionDelay(0),t.override(u,"_generateG",function(){for(var n=this.__generateG(),l=0;l<i.length;++l){var t=i[l];b(t,l),t.dimension()||t.dimension(u.dimension()),t.group()||t.group(u.group()),t.chartGroup(u.chartGroup()),t.svg(u.svg()),t.xUnits(u.xUnits()),t.transitionDuration(u.transitionDuration(),u.transitionDelay()),t.parentBrushOn(u.brushOn()),t.brushOn(!1),t.renderTitle(u.renderTitle()),t.elasticX(u.elasticX())}return n}),u.on("filtered.dcjs-composite-chart",function(n){for(var l=0;l<i.length;++l)i[l].replaceFilter(u.filter())}),u._prepareYAxis=function(){var l=0!==m().length,e=0!==v().length,a=function(l,e){var r,a,i,o,s;return l&&(r=n.min(_(m())),a=t.utils.add(n.max(y(m())),u.yAxisPadding())),e&&(i=n.min(_(v())),o=t.utils.add(n.max(y(v())),u.yAxisPadding())),u.alignYAxes()&&l&&e&&(s=function(n,l,t,e){var r=(e-t)/(l-n);return{lyAxisMin:Math.min(n,t/r),lyAxisMax:Math.max(l,e/r),ryAxisMin:Math.min(t,n*r),ryAxisMax:Math.max(e,l*r)}}(r,a,i,o)),s||{lyAxisMin:r,lyAxisMax:a,ryAxisMin:i,ryAxisMax:o}}(l,e);l&&function(l){var t=void 0===u.y()||u.elasticY(),e=t||u.resizing();void 0===u.y()&&u.y(n.scaleLinear()),t&&u.y().domain([l.lyAxisMin,l.lyAxisMax]),e&&u.y().rangeRound([u.yAxisHeight(),0]),u.y().range([u.yAxisHeight(),0]),u.yAxis(u.yAxis().scale(u.y()))}(a),e&&function(l){var t=void 0===u.rightY()||u.elasticY(),e=t||u.resizing();void 0===u.rightY()&&u.rightY(n.scaleLinear()),t&&u.rightY().domain([l.ryAxisMin,l.ryAxisMax]),e&&u.rightY().rangeRound([u.yAxisHeight(),0]),u.rightY().range([u.yAxisHeight(),0]),u.rightYAxis(u.rightYAxis().scale(u.rightY()))}(a),m().length>0&&!g?u._renderHorizontalGridLinesForAxis(u.g(),u.y(),u.yAxis()):v().length>0&&u._renderHorizontalGridLinesForAxis(u.g(),r,f)},u.renderYAxis=function(){0!==m().length&&(u.renderYAxisAt("y",u.yAxis(),u.margins().left),u.renderYAxisLabel("y",u.yAxisLabel(),-90)),0!==v().length&&(u.renderYAxisAt("yr",u.rightYAxis(),u.width()-u.margins().right),u.renderYAxisLabel("yr",u.rightYAxisLabel(),90,u.width()-p))},u.plotData=function(){for(var n=0;n<i.length;++n){var l=i[n];l.g()||b(l,n),s&&l.colors(u.colors()),l.x(u.x()),l.xAxis(u.xAxis()),l.useRightYAxis()?(l.y(u.rightY()),l.yAxis(u.rightYAxis())):(l.y(u.y()),l.yAxis(u.yAxis())),l.plotData(),l._activateRenderlets()}},u.useRightAxisGridLines=function(n){return arguments?(g=n,u):g},u.childOptions=function(n){return arguments.length?(o=n,i.forEach(function(n){n.options(o)}),u):o},u.fadeDeselectedArea=function(n){if(u.brushOn())for(var l=0;l<i.length;++l)i[l].fadeDeselectedArea(n)},u.rightYAxisLabel=function(n,l){return arguments.length?(h=n,u.margins().right-=p,p=void 0===l?12:l,u.margins().right+=p,u):h},u.compose=function(n){return(i=n).forEach(function(n){n.height(u.height()),n.width(u.width()),n.margins(u.margins()),c&&n.title(u.title()),n.options(o)}),u},u.children=function(){return i},u.shareColors=function(n){return arguments.length?(s=n,u):s},u.shareTitle=function(n){return arguments.length?(c=n,u):c},u.rightY=function(n){return arguments.length?(r=n,u.rescale(),u):r},u.alignYAxes=function(n){return arguments.length?(d=n,u.rescale(),u):d},delete u.yAxisMin,delete u.yAxisMax,t.override(u,"xAxisMin",function(){return t.utils.subtract(n.min(i.map(function(n){return n.xAxisMin()})),u.xAxisPadding(),u.xAxisPaddingUnit())}),t.override(u,"xAxisMax",function(){return t.utils.add(n.max(i.map(function(n){return n.xAxisMax()})),u.xAxisPadding(),u.xAxisPaddingUnit())}),u.legendables=function(){return i.reduce(function(n,l){return s&&l.colors(u.colors()),n.push.apply(n,l.legendables()),n},[])},u.legendHighlight=function(n){for(var l=0;l<i.length;++l)i[l].legendHighlight(n)},u.legendReset=function(n){for(var l=0;l<i.length;++l)i[l].legendReset(n)},u.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},u.rightYAxis=function(n){return arguments.length?(f=n,u):f},u.anchor(l,e)},t.seriesChart=function(l,e){var r,a=t.compositeChart(l,e),u={},i=t.lineChart,o=n.ascending,s=function(l,t){return n.ascending(a.keyAccessor()(l),a.keyAccessor()(t))};function c(n){u[n].g()&&u[n].g().remove(),delete u[n]}function d(){Object.keys(u).map(c),u={}}return a._mandatoryAttributes().push("seriesAccessor","chart"),a.shareColors(!0),a._preprocessData=function(){var l,d=[],f=n.nest().key(r);o&&f.sortKeys(o),s&&f.sortValues(s);var h=f.entries(a.data()).map(function(n,r){var o=u[n.key]||i.call(a,a,e,n.key,r);return u[n.key]||(l=!0),u[n.key]=o,d.push(n.key),o.dimension(a.dimension()).group({all:"function"==typeof n.values?n.values:t.utils.constant(n.values)},n.key).keyAccessor(a.keyAccessor()).valueAccessor(a.valueAccessor()).brushOn(!1)});Object.keys(u).filter(function(n){return-1===d.indexOf(n)}).forEach(function(n){c(n),l=!0}),a._compose(h),l&&a.legend()&&a.legend().render()},a.chart=function(n){return arguments.length?(i=n,d(),a):i},a.seriesAccessor=function(n){return arguments.length?(r=n,d(),a):r},a.seriesSort=function(n){return arguments.length?(o=n,d(),a):o},a.valueSort=function(n){return arguments.length?(s=n,d(),a):s},a._compose=a.compose,delete a.compose,a},t.geoChoroplethChart=function(l,e){var r=t.colorMixin(t.baseMixin({}));r.colorAccessor(function(n){return n||0});var a,u,i=n.geoPath(),o=[];function s(l){var e=function(){for(var n={},l=r.data(),t=0;t<l.length;++t)n[r.keyAccessor()(l[t])]=r.valueAccessor()(l[t]);return n}();if(function(n){return h(n).keyAccessor}(l)){var a=function(n){return r.svg().selectAll(function(n){return"g.layer"+n+" g."+h(n).name}(n)).classed("selected",function(l){return c(n,l)}).classed("deselected",function(l){return d(n,l)}).attr("class",function(l){var e=h(n).name+" "+t.utils.nameToId(h(n).keyAccessor(l));return c(n,l)&&(e+=" selected"),d(n,l)&&(e+=" deselected"),e})}(l);!function(l,e,a){var u=l.select("path").attr("fill",function(){return n.select(this).attr("fill")||"none"}).on("click",function(n){return r.onClick(n,e)});t.transition(u,r.transitionDuration(),r.transitionDelay()).attr("fill",function(n,l){return r.getColor(a[h(e).keyAccessor(n)],l)})}(a,l,e),function(n,l,t){r.renderTitle()&&n.selectAll("title").text(function(n){var e=f(l,n),a=t[e];return r.title()({key:e,value:a})})}(a,l,e)}}function c(n,l){return r.hasFilter()&&r.hasFilter(f(n,l))}function d(n,l){return r.hasFilter()&&!r.hasFilter(f(n,l))}function f(n,l){return h(n).keyAccessor(l)}function h(n){return o[n]}r._doRender=function(){r.resetSvg();for(var n=0;n<o.length;++n){var l=r.svg().append("g").attr("class","layer"+n).selectAll("g."+h(n).name).data(h(n).data);(l=l.enter().append("g").attr("class",h(n).name).merge(l)).append("path").attr("fill","white").attr("d",p()),l.append("title"),s(n)}a=!1},r.onClick=function(n,l){var e=h(l).keyAccessor(n);t.events.trigger(function(){r.filter(e),r.redrawGroup()})},r._doRedraw=function(){for(var n=0;n<o.length;++n)s(n),a&&r.svg().selectAll("g."+h(n).name+" path").attr("d",p());a=!1},r.overlayGeoJson=function(n,l,t){for(var e=0;e<o.length;++e)if(o[e].name===l)return o[e].data=n,o[e].keyAccessor=t,r;return o.push({name:l,data:n,keyAccessor:t}),r},r.projection=function(n){return arguments.length?(u=n,a=!0,r):u};var p=function(){return void 0===u?(t.logger.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),i.projection(n.geoAlbersUsa())):i.projection(u)};return r.geoJsons=function(){return o},r.geoPath=function(){return i},r.removeGeoJson=function(n){for(var l=[],t=0;t<o.length;++t){var e=o[t];e.name!==n&&l.push(e)}return o=l,r},r.anchor(l,e)},t.bubbleOverlay=function(l,e){var r,a="node",u=t.bubbleMixin(t.baseMixin({})),i=[];function o(){var n={};return u.data().forEach(function(l){n[u.keyAccessor()(l)]=l}),n}function s(n,l){var e=a+" "+t.utils.nameToId(n.name),u=r.select("g."+t.utils.nameToId(n.name));return u.empty()&&(u=r.append("g").attr("class",e).attr("transform","translate("+n.x+","+n.y+")")),u.datum(l[n.name]),u}return u.transitionDuration(750),u.transitionDelay(0),u.radiusValueAccessor(function(n){return n.value}),u.point=function(n,l,t){return i.push({name:n,x:l,y:t}),u},u._doRender=function(){var n;return(r=u.select("g.bubble-overlay")).empty()&&(r=u.svg().append("g").attr("class","bubble-overlay")),r=r,u.r().range([u.MIN_RADIUS,u.width()*u.maxBubbleRelativeSize()]),n=o(),u.calculateRadiusDomain(),i.forEach(function(l){var e=s(l,n),r=e.select("circle.bubble");r.empty()&&(r=e.append("circle").attr("class","bubble").attr("r",0).attr("fill",u.getColor).on("click",u.onClick)),t.transition(r,u.transitionDuration(),u.transitionDelay()).attr("r",function(n){return u.bubbleR(n)}),u._doRenderLabel(e),u._doRenderTitles(e)}),u.fadeDeselectedArea(u.filter()),u},u._doRedraw=function(){var n;return n=o(),u.calculateRadiusDomain(),i.forEach(function(l){var e=s(l,n),r=e.select("circle.bubble");t.transition(r,u.transitionDuration(),u.transitionDelay()).attr("r",function(n){return u.bubbleR(n)}).attr("fill",u.getColor),u.doUpdateLabels(e),u.doUpdateTitles(e)}),u.fadeDeselectedArea(u.filter()),u},u.debug=function(l){if(l){var e=u.select("g."+t.constants.DEBUG_GROUP_CLASS);e.empty()&&(e=u.svg().append("g").attr("class",t.constants.DEBUG_GROUP_CLASS));var r=e.append("text").attr("x",10).attr("y",20);e.append("rect").attr("width",u.width()).attr("height",u.height()).on("mousemove",function(){var l=n.mouse(e.node());r.text(l[0]+", "+l[1])})}else u.selectAll(".debug").remove();return u},u.anchor(l,e),u},t.rowChart=function(l,e){var r,a,u,i,o=10,s=15,c=!1,d="0.35em",f=2,h=5,p=!1,g="row",b="titlerow",m=!1,v=t.capMixin(t.marginMixin(t.colorMixin(t.baseMixin({})))),_=n.axisBottom();function y(){var l;i=v.data(),l=r.select("g.axis"),function(){if(!a||u){var l=n.extent(i,v.cappedValueAccessor);l[0]>0&&(l[0]=0),l[1]<0&&(l[1]=0),a=n.scaleLinear().domain(l).range([0,v.effectiveWidth()])}_.scale(a)}(),l.empty()&&(l=r.append("g").attr("class","axis")),l.attr("transform","translate(0, "+v.effectiveHeight()+")"),t.transition(l,v.transitionDuration(),v.transitionDelay()).call(_),r.selectAll("g.tick").select("line.grid-line").remove(),r.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-v.effectiveHeight()});var e=r.selectAll("g."+g).data(i);!function(n){n.exit().remove()}(e),function(n){var l,e=i.length;l=p||(v.effectiveHeight()-(e+1)*h)/e,c||(s=l/2);var r=n.attr("transform",function(n,t){return"translate(0,"+((t+1)*h+t*l)+")"}).select("rect").attr("height",l).attr("fill",v.getColor).on("click",A).classed("deselected",function(n){return!!v.hasFilter()&&!k(n)}).classed("selected",function(n){return!!v.hasFilter()&&k(n)});t.transition(r,v.transitionDuration(),v.transitionDelay()).attr("width",function(n){return Math.abs(x()-a(v.cappedValueAccessor(n)))}).attr("transform",w),function(n){v.renderTitle()&&(n.select("title").remove(),n.append("title").text(v.title()))}(n),function(n){if(v.renderLabel()){var l=n.select("text").attr("x",o).attr("y",s).attr("dy",d).on("click",A).attr("class",function(n,l){return g+" _"+l}).text(function(n){return v.label()(n)});t.transition(l,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}if(v.renderTitleLabel()){var e=n.select("."+b).attr("x",v.effectiveWidth()-f).attr("y",s).attr("dy",d).attr("text-anchor","end").on("click",A).attr("class",function(n,l){return b+" _"+l}).text(function(n){return v.title()(n)});t.transition(e,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}}(n)}(e=function(n){var l=n.enter().append("g").attr("class",function(n,l){return g+" _"+l});return l.append("rect").attr("width",0),function(n){v.renderLabel()&&n.append("text").on("click",A),v.renderTitleLabel()&&n.append("text").attr("class",b).on("click",A)}(l),l}(e).merge(e))}function x(){var n=a(0);return n===-1/0||n!=n?a(1):n}function A(n){v.onClick(n)}function w(n){var l=a(v.cappedValueAccessor(n)),t=x();return"translate("+(l>t?t:l)+",0)"}function k(n){return v.hasFilter(v.cappedKeyAccessor(n))}return v.rowsCap=v.cap,v._doRender=function(){return v.resetSvg(),r=v.svg().append("g").attr("transform","translate("+v.margins().left+","+v.margins().top+")"),y(),v},v.title(function(n){return v.cappedKeyAccessor(n)+": "+v.cappedValueAccessor(n)}),v.label(v.cappedKeyAccessor),v.x=function(n){return arguments.length?(a=n,v):a},v.renderTitleLabel=function(n){return arguments.length?(m=n,v):m},v._doRedraw=function(){return y(),v},v.xAxis=function(n){return arguments.length?(_=n,this):_},v.fixedBarHeight=function(n){return arguments.length?(p=n,v):p},v.gap=function(n){return arguments.length?(h=n,v):h},v.elasticX=function(n){return arguments.length?(u=n,v):u},v.labelOffsetX=function(n){return arguments.length?(o=n,v):o},v.labelOffsetY=function(n){return arguments.length?(s=n,c=!0,v):s},v.titleLabelOffsetX=function(n){return arguments.length?(f=n,v):f},v.anchor(l,e)},t.legend=function(){var n,l,e,r={},a=0,u=0,i=12,o=5,s=!1,c=560,d=70,f=!1,h=t.pluck("name");function p(){return o+i}return r.parent=function(l){return arguments.length?(n=l,r):n},r.render=function(){n.svg().select("g.dc-legend").remove(),e=n.svg().append("g").attr("class","dc-legend").attr("transform","translate("+a+","+u+")");var r=n.legendables();void 0!==l&&(r=r.slice(0,l));var g=e.selectAll("g.dc-legend-item").data(r).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(l){n.legendHighlight(l)}).on("mouseout",function(l){n.legendReset(l)}).on("click",function(n){n.chart.legendToggle(n)});e.selectAll("g.dc-legend-item").classed("fadeout",function(n){return n.chart.isLegendableHidden(n)}),r.some(t.pluck("dashstyle"))?g.append("line").attr("x1",0).attr("y1",i/2).attr("x2",i).attr("y2",i/2).attr("stroke-width",2).attr("stroke-dasharray",t.pluck("dashstyle")).attr("stroke",t.pluck("color")):g.append("rect").attr("width",i).attr("height",i).attr("fill",function(n){return n?n.color:"blue"}),g.append("text").text(h).attr("x",i+2).attr("y",function(){return i/2+(this.clientHeight?this.clientHeight:13)/2-2});var b=0,m=0;g.attr("transform",function(n,l){if(s){var t=!0===f?this.getBBox().width+o:d;b+t>c&&b>0&&(++m,b=0);var e="translate("+b+","+m*p()+")";return b+=t,e}return"translate(0,"+l*p()+")"})},r.x=function(n){return arguments.length?(a=n,r):a},r.y=function(n){return arguments.length?(u=n,r):u},r.gap=function(n){return arguments.length?(o=n,r):o},r.itemHeight=function(n){return arguments.length?(i=n,r):i},r.horizontal=function(n){return arguments.length?(s=n,r):s},r.legendWidth=function(n){return arguments.length?(c=n,r):c},r.itemWidth=function(n){return arguments.length?(d=n,r):d},r.autoItemWidth=function(n){return arguments.length?(f=n,r):f},r.legendText=function(n){return arguments.length?(h=n,r):h},r.maxItems=function(n){return arguments.length?(l=t.utils.isNumber(n)?n:void 0,r):l},r},t.htmlLegend=function(){var l,e,r,a,u={},i=t.pluck("name"),o=!1,s=!1;return u.parent=function(n){return arguments.length?(l=n,u):l},u.render=function(){var n=o?"dc-legend-item-horizontal":"dc-legend-item-vertical";e.select("div.dc-html-legend").remove();var u=e.append("div").attr("class","dc-html-legend");u.attr("style","max-width:"+e.nodes()[0].style.width);var c=l.legendables(),d=l.filters();void 0!==r&&(c=c.slice(0,r));var f=a||n,h=u.selectAll("div."+f).data(c).enter().append("div").classed(f,!0).on("mouseover",l.legendHighlight).on("mouseout",l.legendReset).on("click",l.legendToggle);s&&h.classed(t.constants.SELECTED_CLASS,function(n){return-1!==d.indexOf(n.name)}),h.append("span").attr("class","dc-legend-item-color").style("background-color",t.pluck("color")),h.append("span").attr("class","dc-legend-item-label").attr("title",i).text(i)},u.container=function(l){return arguments.length?(e=n.select(l),u):e},u.legendItemClass=function(n){return arguments.length?(a=n,u):a},u.highlightSelected=function(n){return arguments.length?(s=n,u):s},u.horizontal=function(n){return arguments.length?(o=n,u):o},u.legendText=function(n){return arguments.length?(i=n,u):i},u.maxItems=function(n){return arguments.length?(r=t.utils.isNumber(n)?n:void 0,u):r},u},t.scatterPlot=function(l,e){var r=t.coordinateGridMixin({}),a=n.symbol(),u=function(n){return n.value},i=r.keyAccessor();r.keyAccessor(function(n){return i(n)[0]}),r.valueAccessor(function(n){return i(n)[1]}),r.colorAccessor(function(){return r._groupName}),r.title(function(n){return r.keyAccessor()(n)+","+r.valueAccessor()(n)+": "+r.existenceAccessor()(n)});var o=function(n){return"translate("+r.x()(r.keyAccessor()(n))+","+r.y()(r.valueAccessor()(n))+")"},s=7,c=5,d=3,f=null,h=1,p=0,g=0,b=1,m=null,v=[];function _(n,l){return u(n)?v[l]?Math.pow(c,2):Math.pow(d,2):Math.pow(p,2)}function y(n,l){r.renderTitle()&&(n.selectAll("title").remove(),n.append("title").text(function(n){return r.title()(n)}))}function x(l,e){var u=r.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return l(n.select(this))}),i=a.size();a.size(Math.pow(e,2)),t.transition(u,r.transitionDuration(),r.transitionDelay()).attr("d",a),a.size(i)}return r.brush(n.brush()),a.size(_),t.override(r,"_filter",function(n){return arguments.length?r.__filter(t.filters.RangedTwoDimensionalFilter(n)):r.__filter()}),r.plotData=function(){var n=r.chartBodyG().selectAll("path.symbol").data(r.data());t.transition(n.exit(),r.transitionDuration(),r.transitionDelay()).attr("opacity",0).remove(),(n=n.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",r.getColor).attr("transform",o).merge(n)).call(y,r.data()),n.each(function(n,l){v[l]=!r.filter()||r.filter().isFiltered([r.keyAccessor()(n),r.valueAccessor()(n)])}),t.transition(n,r.transitionDuration(),r.transitionDelay()).attr("opacity",function(n,l){return u(n)?v[l]?b:r.excludedOpacity():g}).attr("fill",function(n,l){return m&&!u(n)?m:r.excludedColor()&&!v[l]?r.excludedColor():r.getColor(n)}).attr("transform",o).attr("d",a)},r.existenceAccessor=function(n){return arguments.length?(u=n,this):u},r.symbol=function(n){return arguments.length?(a.type(n),r):a.type()},r.customSymbol=function(n){return arguments.length?((a=n).size(_),r):a},r.symbolSize=function(n){return arguments.length?(c=n,r):c},r.highlightedSize=function(n){return arguments.length?(s=n,r):s},r.excludedSize=function(n){return arguments.length?(d=n,r):d},r.excludedColor=function(n){return arguments.length?(f=n,r):f},r.excludedOpacity=function(n){return arguments.length?(h=n,r):h},r.hiddenSize=r.emptySize=function(n){return arguments.length?(p=n,r):p},r.emptyColor=function(n){return arguments.length?(m=n,r):m},r.emptyOpacity=function(n){return arguments.length?(g=n,r):g},r.nonemptyOpacity=function(n){return arguments.length?(b=n,r):g},r.legendables=function(){return[{chart:r,name:r._groupName,color:r.getColor()}]},r.legendHighlight=function(l){x(function(n){return n.attr("fill")===l.color},s),r.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return n.select(this).attr("fill")!==l.color}).classed("fadeout",!0)},r.legendReset=function(l){x(function(n){return n.attr("fill")===l.color},c),r.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return n.select(this).attr("fill")!==l.color}).classed("fadeout",!1)},r.createBrushHandlePaths=function(){},r.extendBrush=function(n){return r.round()&&(n[0]=n[0].map(r.round()),n[1]=n[1].map(r.round())),n},r.brushIsEmpty=function(n){return!n||n[0][0]>=n[1][0]||n[0][1]>=n[1][1]},r._brushing=function(){if(n.event.sourceEvent&&(!n.event.sourceEvent.type||-1===["start","brush","end"].indexOf(n.event.sourceEvent.type))){var l=n.event.selection,e=r.brushIsEmpty(l);l&&(l=l.map(function(n){return n.map(function(n,l){return(0===l?r.x():r.y()).invert(n)})}),l=r.extendBrush(l),e=e&&r.brushIsEmpty(l)),r.redrawBrush(l,!1);var a=e?null:t.filters.RangedTwoDimensionalFilter(l);t.events.trigger(function(){r.replaceFilter(a),r.redrawGroup()},t.constants.EVENT_DELAY)}},r.redrawBrush=function(n,l){var e=r.brush(),a=r.gBrush();r.brushOn()&&a&&(r.resizing()&&r.setBrushExtents(l),n?(n=n.map(function(n){return n.map(function(n,l){return(0===l?r.x():r.y())(n)})}),t.optionalTransition(l,r.transitionDuration(),r.transitionDelay())(a).call(e.move,n)):a.call(e.move,n)),r.fadeDeselectedArea(n)},r.setBrushY=function(n){n.call(r.brush().y(r.y()))},r.anchor(l,e)},t.numberDisplay=function(l,e){var r,a=n.format(".2s"),u=t.baseMixin({}),i={one:"",some:"",none:""};return u._mandatoryAttributes(["group"]),u.ordering(function(n){return n.value}),u.html=function(n){return arguments.length?(n.none?i.none=n.none:n.one?i.none=n.one:n.some&&(i.none=n.some),n.one?i.one=n.one:n.some&&(i.one=n.some),n.some?i.some=n.some:n.one&&(i.some=n.one),u):i},u.value=function(){return u.data()},u.data(function(n){var l=n.value?n.value():function(n){if(!n.length)return null;var l=u._computeOrderedGroups(n);return l[l.length-1]}(n.all());return u.valueAccessor()(l)}),u.transitionDuration(250),u.transitionDelay(0),u._doRender=function(){var l=u.value(),t=u.selectAll(".number-display");t.empty()&&(t=t.data([0]).enter().append("span").attr("class","number-display").merge(t)),t.transition().duration(u.transitionDuration()).delay(u.transitionDelay()).ease(n.easeQuad).tween("text",function(){var t=isFinite(r)?r:0,e=n.interpolateNumber(t||0,l);r=l;var a=this;return function(n){var t=null,r=u.formatNumber()(e(n));0===l&&""!==i.none?t=i.none:1===l&&""!==i.one?t=i.one:""!==i.some&&(t=i.some),a.innerHTML=t?t.replace("%number",r):r}})},u._doRedraw=function(){return u._doRender()},u.formatNumber=function(n){return arguments.length?(a=n,u):a},u.anchor(l,e)},t.heatMap=function(l,e){var r,a,u,i=n.ascending,o=n.ascending,s=n.scaleBand(),c=n.scaleBand(),d=6.75,f=6.75,h=t.colorMixin(t.marginMixin(t.baseMixin({})));h._mandatoryAttributes(["group"]),h.title(h.colorAccessor());var p=function(n){return n},g=function(n){return n};h.colsLabel=function(n){return arguments.length?(p=n,h):p},h.rowsLabel=function(n){return arguments.length?(g=n,h):g};var b=function(n){_(0,n)},m=function(n){_(1,n)},v=function(n){var l=n.key;t.events.trigger(function(){h.filter(t.filters.TwoDimensionalFilter(l)),h.redrawGroup()})};function _(n,l){var e=h.selectAll(".box-group").filter(function(t){return t.key[n]===l}),r=e.filter(function(n){return!h.hasFilter(n.key)});t.events.trigger(function(){var n=(r.empty()?e:r).data().map(function(n){return t.filters.TwoDimensionalFilter(n.key)});h.filter([n]),h.redrawGroup()})}var y=t.logger.deprecate(function(n){return h._filter(t.filters.TwoDimensionalFilter(n))},"heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead");return t.override(h,"filter",function(n){return arguments.length?null===n||"TwoDimensionalFilter"===n.filterType||Array.isArray(n)&&Array.isArray(n[0])&&"TwoDimensionalFilter"===n[0][0].filterType?h._filter(n):y(n):h._filter()}),h.rows=function(n){return arguments.length?(u=n,h):u},h.rowOrdering=function(n){return arguments.length?(o=n,h):o},h.cols=function(n){return arguments.length?(a=n,h):a},h.colOrdering=function(n){return arguments.length?(i=n,h):i},h._doRender=function(){return h.resetSvg(),r=h.svg().append("g").attr("class","heatmap").attr("transform","translate("+h.margins().left+","+h.margins().top+")"),h._doRedraw()},h._doRedraw=function(){var n=h.data(),l=h.rows()||n.map(h.valueAccessor()),e=h.cols()||n.map(h.keyAccessor());o&&(l=l.sort(o)),i&&(e=e.sort(i)),l=c.domain(l),e=s.domain(e);var a=l.domain().length,u=e.domain().length,p=Math.floor(h.effectiveWidth()/u),g=Math.floor(h.effectiveHeight()/a);e.rangeRound([0,h.effectiveWidth()]),l.rangeRound([h.effectiveHeight(),0]);var b=r.selectAll("g.box-group").data(h.data(),function(n,l){return h.keyAccessor()(n,l)+"\0"+h.valueAccessor()(n,l)});b.exit().remove();var m=b.enter().append("g").attr("class","box-group");m.append("rect").attr("class","heat-box").attr("fill","white").attr("x",function(n,l){return e(h.keyAccessor()(n,l))}).attr("y",function(n,t){return l(h.valueAccessor()(n,t))}).on("click",h.boxOnClick()),b=m.merge(b),h.renderTitle()&&(m.append("title"),b.select("title").text(h.title())),t.transition(b.select("rect"),h.transitionDuration(),h.transitionDelay()).attr("x",function(n,l){return e(h.keyAccessor()(n,l))}).attr("y",function(n,t){return l(h.valueAccessor()(n,t))}).attr("rx",d).attr("ry",f).attr("fill",h.getColor).attr("width",p).attr("height",g);var v=r.select("g.cols");v.empty()&&(v=r.append("g").attr("class","cols axis"));var _=v.selectAll("text").data(e.domain());_.exit().remove(),_=_.enter().append("text").attr("x",function(n){return e(n)+p/2}).style("text-anchor","middle").attr("y",h.effectiveHeight()).attr("dy",12).on("click",h.xAxisOnClick()).text(h.colsLabel()).merge(_),t.transition(_,h.transitionDuration(),h.transitionDelay()).text(h.colsLabel()).attr("x",function(n){return e(n)+p/2}).attr("y",h.effectiveHeight());var y=r.select("g.rows");y.empty()&&(y=r.append("g").attr("class","rows axis"));var x=y.selectAll("text").data(l.domain());return x.exit().remove(),x=x.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",function(n){return l(n)+g/2}).attr("dy",6).on("click",h.yAxisOnClick()).text(h.rowsLabel()).merge(x),t.transition(x,h.transitionDuration(),h.transitionDelay()).text(h.rowsLabel()).attr("y",function(n){return l(n)+g/2}),h.hasFilter()?h.selectAll("g.box-group").each(function(n){h.isSelectedNode(n)?h.highlightSelected(this):h.fadeDeselected(this)}):h.selectAll("g.box-group").each(function(){h.resetHighlight(this)}),h},h.boxOnClick=function(n){return arguments.length?(v=n,h):v},h.xAxisOnClick=function(n){return arguments.length?(b=n,h):b},h.yAxisOnClick=function(n){return arguments.length?(m=n,h):m},h.xBorderRadius=function(n){return arguments.length?(d=n,h):d},h.yBorderRadius=function(n){return arguments.length?(f=n,h):f},h.isSelectedNode=function(n){return h.hasFilter(n.key)},h.anchor(l,e)},function(){function l(n){return[0,n.length-1]}function e(l){return[n.quantile(l,.25),n.quantile(l,.5),n.quantile(l,.75)]}n.box=function(){var r=1,a=1,u=0,i=0,o=null,s=Number,c=l,d=e,f=null,h=!1,p=3,g=.3,b=.8,m=!1,v=!0,_=!1;function y(l){l.each(function(l,t){l=l.map(s).sort(n.ascending);var e,y,x=n.select(this),A=l.length;if(0!==A){var w=l.quartiles=d(l),k=c&&c.call(this,l,t),C=k&&k.map(function(n){return l[n]}),D=k?n.range(0,k[0]).concat(n.range(k[1]+1,A)):n.range(A);v?(e=l[0],y=l[A-1]):(e=l[k[0]],y=l[k[1]]);var M=n.range(k[0],k[1]+1),L=n.scaleLinear().domain(o&&o.call(this,l,t)||[e,y]).range([a,0]),S=this.__chart__||n.scaleLinear().domain([0,1/0]).range(L.range());this.__chart__=L;var R=x.selectAll("line.center").data(C?[C]:[]);R.enter().insert("line","rect").attr("class","center").attr("x1",r/2).attr("y1",function(n){return S(n[0])}).attr("x2",r/2).attr("y2",function(n){return S(n[1])}).style("opacity",1e-6).transition().duration(u).delay(i).style("opacity",1).attr("y1",function(n){return L(n[0])}).attr("y2",function(n){return L(n[1])}),R.transition().duration(u).delay(i).style("opacity",1).attr("x1",r/2).attr("x2",r/2).attr("y1",function(n){return L(n[0])}).attr("y2",function(n){return L(n[1])}),R.exit().transition().duration(u).delay(i).style("opacity",1e-6).attr("y1",function(n){return L(n[0])}).attr("y2",function(n){return L(n[1])}).remove();var O=x.selectAll("rect.box").data([w]);O.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(n){return S(n[2])}).attr("width",r).attr("height",function(n){return S(n[0])-S(n[2])}).style("fill-opacity",h?.1:1).transition().duration(u).delay(i).attr("y",function(n){return L(n[2])}).attr("height",function(n){return L(n[0])-L(n[2])}),O.transition().duration(u).delay(i).attr("width",r).attr("y",function(n){return L(n[2])}).attr("height",function(n){return L(n[0])-L(n[2])});var E=x.selectAll("line.median").data([w[1]]);E.enter().append("line").attr("class","median").attr("x1",0).attr("y1",S).attr("x2",r).attr("y2",S).transition().duration(u).delay(i).attr("y1",L).attr("y2",L),E.transition().duration(u).delay(i).attr("x1",0).attr("x2",r).attr("y1",L).attr("y2",L);var F=x.selectAll("line.whisker").data(C||[]);if(F.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",S).attr("x2",r).attr("y2",S).style("opacity",1e-6).transition().duration(u).delay(i).attr("y1",L).attr("y2",L).style("opacity",1),F.transition().duration(u).delay(i).attr("x1",0).attr("x2",r).attr("y1",L).attr("y2",L).style("opacity",1),F.exit().transition().duration(u).delay(i).attr("y1",L).attr("y2",L).style("opacity",1e-6).remove(),v){var T=_?"outlierBold":"outlier",B=_?3:5,G=_?function(){return Math.floor(Math.random()*(r*b)+1+(r-r*b)/2)}:function(){return r/2},N=x.selectAll("circle."+T).data(D,Number);N.enter().insert("circle","text").attr("class",T).attr("r",B).attr("cx",G).attr("cy",function(n){return S(l[n])}).style("opacity",1e-6).transition().duration(u).delay(i).attr("cy",function(n){return L(l[n])}).style("opacity",.6),m&&(N.selectAll("title").remove(),N.append("title").text(function(n){return l[n]})),N.transition().duration(u).delay(i).attr("cx",G).attr("cy",function(n){return L(l[n])}).style("opacity",.6),N.exit().transition().duration(u).delay(i).attr("cy",0).style("opacity",1e-6).remove()}if(h){var P=x.selectAll("circle.data").data(M);P.enter().insert("circle","text").attr("class","data").attr("r",p).attr("cx",function(){return Math.floor(Math.random()*(r*b)+1+(r-r*b)/2)}).attr("cy",function(n){return S(l[n])}).style("opacity",1e-6).transition().duration(u).delay(i).attr("cy",function(n){return L(l[n])}).style("opacity",g),m&&(P.selectAll("title").remove(),P.append("title").text(function(n){return l[n]})),P.transition().duration(u).delay(i).attr("cx",function(){return Math.floor(Math.random()*(r*b)+1+(r-r*b)/2)}).attr("cy",function(n){return L(l[n])}).style("opacity",g),P.exit().transition().duration(u).delay(i).attr("cy",0).style("opacity",1e-6).remove()}var I=f||L.tickFormat(8),H=x.selectAll("text.box").data(w);H.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(n,l){return 1&l?6:-6}).attr("x",function(n,l){return 1&l?r:0}).attr("y",S).attr("text-anchor",function(n,l){return 1&l?"start":"end"}).text(I).transition().duration(u).delay(i).attr("y",L),H.transition().duration(u).delay(i).text(I).attr("x",function(n,l){return 1&l?r:0}).attr("y",L);var K=x.selectAll("text.whisker").data(C||[]);K.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",r).attr("y",S).text(I).style("opacity",1e-6).transition().duration(u).delay(i).attr("y",L).style("opacity",1),K.transition().duration(u).delay(i).text(I).attr("x",r).attr("y",L).style("opacity",1),K.exit().transition().duration(u).delay(i).attr("y",L).style("opacity",1e-6).remove(),delete l.quartiles}}),n.timerFlush()}return y.width=function(n){return arguments.length?(r=n,y):r},y.height=function(n){return arguments.length?(a=n,y):a},y.tickFormat=function(n){return arguments.length?(f=n,y):f},y.showOutliers=function(n){return arguments.length?(v=n,y):v},y.boldOutlier=function(n){return arguments.length?(_=n,y):_},y.renderDataPoints=function(n){return arguments.length?(h=n,y):h},y.renderTitle=function(n){return arguments.length?(m=n,y):m},y.dataOpacity=function(n){return arguments.length?(g=n,y):g},y.dataWidthPortion=function(n){return arguments.length?(b=n,y):b},y.duration=function(n){return arguments.length?(u=n,y):u},y.domain=function(n){return arguments.length?(o=null===n?n:"function"==typeof n?n:t.utils.constant(n),y):o},y.value=function(n){return arguments.length?(s=n,y):s},y.whiskers=function(n){return arguments.length?(c=n,y):c},y.quartiles=function(n){return arguments.length?(d=n,y):d},y}}(),t.boxPlot=function(l,e){var r=t.coordinateGridMixin({}),a=function(n){var l=n.quartiles[0],t=n.quartiles[2],e=1.5*(t-l),r=-1,a=n.length;do{++r}while(n[r]<l-e);do{--a}while(n[a]>t+e);return[r,a]},u=n.box(),i=null,o=!1,s=.3,c=.8,d=!0,f=!1,h=8,p=function(n,l){return r.isOrdinal()?r.x().bandwidth():n/(1+r.boxPadding())/l};r.x(n.scaleBand()),r.xUnits(t.units.ordinal),r.data(function(n){return n.all().map(function(n){return n.map=function(l){return l.call(n,n)},n}).filter(function(n){return 0!==r.valueAccessor()(n).length})}),r.boxPadding=r._rangeBandPadding,r.boxPadding(.8),r.outerPadding=r._outerRangeBandPadding,r.outerPadding(.5),r.boxWidth=function(n){return arguments.length?(p="function"==typeof n?n:t.utils.constant(n),r):p};var g=function(n,l){return"translate("+r.x()(r.keyAccessor()(n,l))+", 0)"};function b(){return n.min(r.data(),function(l){return n.min(r.valueAccessor()(l))})}function m(){return n.max(r.data(),function(l){return n.max(r.valueAccessor()(l))})}function v(){return(m()-b())/r.effectiveHeight()}return r._preprocessData=function(){r.elasticX()&&r.x().domain([])},r.plotData=function(){var l=p(r.effectiveWidth(),r.xUnitCount());u.whiskers(a).width(l).height(r.effectiveHeight()).value(r.valueAccessor()).domain(r.y().domain()).duration(r.transitionDuration()).tickFormat(i).renderDataPoints(o).dataOpacity(s).dataWidthPortion(c).renderTitle(r.renderTitle()).showOutliers(d).boldOutlier(f);var e=r.chartBodyG().selectAll("g.box").data(r.data(),r.keyAccessor());!function(l){t.transition(l,r.transitionDuration(),r.transitionDelay()).attr("transform",g).call(u).each(function(l){var t=r.getColor(l,0);n.select(this).select("rect.box").attr("fill",t),n.select(this).selectAll("circle.data").attr("fill",t)})}(function(n){var l=n.enter().append("g");return l.attr("class","box").attr("transform",g).call(u).on("click",function(n){r.filter(r.keyAccessor()(n)),r.redrawGroup()}),l.merge(n)}(e)),function(n){n.exit().remove().call(u)}(e),r.fadeDeselectedArea(r.filter())},r.fadeDeselectedArea=function(n){if(r.hasFilter())if(r.isOrdinal())r.g().selectAll("g.box").each(function(n){r.isSelectedNode(n)?r.highlightSelected(this):r.fadeDeselected(this)});else{if(!r.brushOn()&&!r.parentBrushOn())return;var l=n[0],t=n[1],e=r.keyAccessor();r.g().selectAll("g.box").each(function(n){var a=e(n);a<l||a>=t?r.fadeDeselected(this):r.highlightSelected(this)})}else r.g().selectAll("g.box").each(function(){r.resetHighlight(this)})},r.isSelectedNode=function(n){return r.hasFilter(r.keyAccessor()(n))},r.yAxisMin=function(){var n=h*v();return t.utils.subtract(b()-n,r.yAxisPadding())},r.yAxisMax=function(){var n=h*v();return t.utils.add(m()+n,r.yAxisPadding())},r.tickFormat=function(n){return arguments.length?(i=n,r):i},r.yRangePadding=function(n){return arguments.length?(h=n,r):h},r.renderDataPoints=function(n){return arguments.length?(o=n,r):o},r.dataOpacity=function(n){return arguments.length?(s=n,r):s},r.dataWidthPortion=function(n){return arguments.length?(c=n,r):c},r.showOutliers=function(n){return arguments.length?(d=n,r):d},r.boldOutlier=function(n){return arguments.length?(f=n,r):f},r.anchor(l,e)},t.selectMenu=function(l,e){var r,a=t.baseMixin({}),u="Select all",i=!1,o=null,s=null,c=function(n,l){return a.keyAccessor()(n)>a.keyAccessor()(l)?1:a.keyAccessor()(l)>a.keyAccessor()(n)?-1:0},d=function(n){return a.valueAccessor()(n)>0};a.data(function(n){return n.all().filter(d)}),a._doRender=function(){return a.select("select").remove(),(r=a.root().append("select").classed("dc-select-menu",!0)).append("option").text(u).attr("value",""),a._doRedraw(),a};var f=window.navigator.userAgent;function h(l,t){var e,r=n.event.target;1===(e=r.selectedOptions?Array.prototype.slice.call(r.selectedOptions).map(function(n){return n.value}):[].slice.call(n.event.target.options).filter(function(n){return n.selected}).map(function(n){return n.value})).length&&""===e[0]?e=o||null:i||1!==e.length||(e=e[0]),a.onChange(e)}return f.indexOf("Trident/")>0&&-1===f.indexOf("MSIE")&&(a.redraw=a.render),a._doRedraw=function(){var n;return r.attr("multiple",!!i||null),r.attr("size",null!==s?s:null),(n=r.selectAll("option.dc-select-option").data(a.data(),function(n){return a.keyAccessor()(n)})).exit().remove(),n.enter().append("option").classed("dc-select-option",!0).attr("value",function(n){return a.keyAccessor()(n)}).merge(n).text(a.title()),r.selectAll("option.dc-select-option").sort(c),r.on("change",h),a.hasFilter()&&i?r.selectAll("option").property("selected",function(n){return void 0!==n&&a.filters().indexOf(String(a.keyAccessor()(n)))>=0}):a.hasFilter()?r.property("value",a.filter()):r.property("value",""),a},a.onChange=function(n){n&&i?a.replaceFilter([n]):n?a.replaceFilter(n):a.filterAll(),t.events.trigger(function(){a.redrawGroup()})},a.order=function(n){return arguments.length?(c=n,a):c},a.promptText=function(n){return arguments.length?(u=n,a):u},a.filterDisplayed=function(n){return arguments.length?(d=n,a):d},a.multiple=function(n){return arguments.length?(i=n,a):i},a.promptValue=function(n){return arguments.length?(o=n,a):o},a.numberVisible=function(n){return arguments.length?(s=n,a):s},a.size=t.logger.deprecate(a.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),a.anchor(l,e)},t.textFilterWidget=function(n,l){var e=t.baseMixin({}),r=function(n){return n.toLowerCase()},a=function(n){return n=r(n),function(l){return-1!==r(l).indexOf(n)}},u="search";return e.group(function(){throw"the group function on textFilterWidget should never be called, please report the issue"}),e._doRender=function(){return e.select("input").remove(),e.root().append("input").classed("dc-text-filter-input",!0).on("input",function(){e.dimension().filterFunction(a(this.value)),t.events.trigger(function(){t.redrawAll()},t.constants.EVENT_DELAY)}),e._doRedraw(),e},e._doRedraw=function(){return e.root().selectAll("input").attr("placeholder",u),e},e.normalize=function(n){return arguments.length?(r=n,e):r},e.placeHolder=function(n){return arguments.length?(u=n,e):u},e.filterFunctionFactory=function(n){return arguments.length?(a=n,e):a},e.anchor(n,l)},t.cboxMenu=function(l,e){var r,a=t.baseMixin({}),u="Select all",i=!1,o="radio",s=null,c=Math.floor(1e5*Math.random())+1,d=function(n,l){return a.keyAccessor()(n)>a.keyAccessor()(l)?1:a.keyAccessor()(l)>a.keyAccessor()(n)?-1:0},f=function(n){return a.valueAccessor()(n)>0};function h(l,t){var e;n.select(n.event.target).datum()?(e=n.select(this).selectAll("input").filter(function(n){if(n)return this.checked}).nodes().map(function(n){return n.value}),i||1!==e.length||(e=e[0])):e=s||null,a.onChange(e)}return a.data(function(n){return n.all().filter(f)}),a._doRender=function(){return a._doRedraw()},a._doRedraw=function(){return a.select("ul").remove(),r=a.root().append("ul").classed("dc-cbox-group",!0),function(){var n=r.selectAll("li.dc-cbox-item").data(a.data(),function(n){return a.keyAccessor()(n)});if(n.exit().remove(),(n=n.enter().append("li").classed("dc-cbox-item",!0).merge(n)).append("input").attr("type",o).attr("value",function(n){return a.keyAccessor()(n)}).attr("name","domain_"+c).attr("id",function(n,l){return"input_"+c+"_"+l}),n.append("label").attr("for",function(n,l){return"input_"+c+"_"+l}).text(a.title()),i)r.append("li").append("input").attr("type","reset").text(u).on("click",h);else{var l=r.append("li");l.append("input").attr("type",o).attr("value",s).attr("name","domain_"+c).attr("id",function(n,l){return"input_"+c+"_all"}).property("checked",!0),l.append("label").attr("for",function(n,l){return"input_"+c+"_all"}).text(u)}r.selectAll("li.dc-cbox-item").sort(d),r.on("change",h)}(),a.hasFilter()&&i?r.selectAll("input").property("checked",function(n){return n&&a.filters().indexOf(String(a.keyAccessor()(n)))>=0||!1}):a.hasFilter()&&r.selectAll("input").property("checked",function(n){return!!n&&a.keyAccessor()(n)===a.filter()}),a},a.onChange=function(n){n&&i?a.replaceFilter([n]):n?a.replaceFilter(n):a.filterAll(),t.events.trigger(function(){a.redrawGroup()})},a.order=function(n){return arguments.length?(d=n,a):d},a.promptText=function(n){return arguments.length?(u=n,a):u},a.filterDisplayed=function(n){return arguments.length?(f=n,a):f},a.multiple=function(n){return arguments.length?(o=(i=n)?"checkbox":"radio",a):i},a.promptValue=function(n){return arguments.length?(s=n,a):s},a.anchor(l,e)},t.abstractBubbleChart=t.bubbleMixin,t.baseChart=t.baseMixin,t.capped=t.capMixin,t.colorChart=t.colorMixin,t.coordinateGridChart=t.coordinateGridMixin,t.marginable=t.marginMixin,t.stackableChart=t.stackMixin,t.d3=n,t.crossfilter=l,t})?e.apply(l,r):e)||(n.exports=a)}}]);