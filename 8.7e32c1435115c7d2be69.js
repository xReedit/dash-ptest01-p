(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Ovxu:function(l,n,t){"use strict";t.r(n);var e=t("CcnG"),r=function(){return function(){}}(),u=t("NcP4"),a=t("pMnS"),i=t("ZYCi"),o=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),s=e.pb({encapsulation:0,styles:[[""]],data:{}});function c(l){return e.Lb(0,[(l()(),e.rb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.qb(1,212992,null,0,i.p,[i.c,e.Q,e.j,[8,null],e.h],null,null)],function(l,n){l(n,1,0)},null)}function d(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-main",[],null,null,null,c,s)),e.qb(1,114688,null,0,o,[],null,null)],function(l,n){l(n,1,0)},null)}var f=e.nb("app-main",o,d,{},{},[]),p=t("BHnd"),b=t("y4qS"),m=t("Ip0R"),h=t("Fzqc"),g=t("Wf4p"),v=t("dWZg"),_=e.pb({encapsulation:2,styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-footer-row,mat-row{min-height:48px}mat-footer-row,mat-header-row,mat-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-footer-row::after,mat-header-row::after,mat-row::after{display:inline-block;min-height:inherit;content:''}mat-cell:first-of-type,mat-footer-cell:first-of-type,mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-footer-cell:last-of-type,mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-footer-cell,mat-header-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-footer-row,tr.mat-row{height:48px}th.mat-header-cell{text-align:left}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type,th.mat-header-cell:first-of-type{padding-left:24px}td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type,th.mat-header-cell:last-of-type{padding-right:24px}"],data:{}});function y(l){return e.Lb(2,[e.Hb(402653184,1,{_rowOutlet:0}),e.Hb(402653184,2,{_headerRowOutlet:0}),e.Hb(402653184,3,{_footerRowOutlet:0}),(l()(),e.rb(3,16777216,null,null,1,null,null,null,null,null,null,null)),e.qb(4,16384,[[2,4]],0,b.s,[e.Q,e.k],null,null),(l()(),e.rb(5,16777216,null,null,1,null,null,null,null,null,null,null)),e.qb(6,16384,[[1,4]],0,b.q,[e.Q,e.k],null,null),(l()(),e.rb(7,16777216,null,null,1,null,null,null,null,null,null,null)),e.qb(8,16384,[[3,4]],0,b.r,[e.Q,e.k],null,null)],null,null)}var x=e.pb({encapsulation:2,styles:[],data:{}});function A(l){return e.Lb(2,[(l()(),e.rb(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.qb(1,147456,null,0,b.c,[e.Q],null,null)],null,null)}var w=e.pb({encapsulation:2,styles:[],data:{}});function k(l){return e.Lb(2,[(l()(),e.rb(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.qb(1,147456,null,0,b.c,[e.Q],null,null)],null,null)}var C=e.pb({encapsulation:2,styles:[],data:{}});function L(l){return e.Lb(2,[(l()(),e.rb(0,16777216,null,null,1,null,null,null,null,null,null,null)),e.qb(1,147456,null,0,b.c,[e.Q],null,null)],null,null)}var D=t("4epT"),S=t("eDkP"),M=t("M2Lx"),B=t("uGex"),F=t("v9Dh"),R=t("UodH"),E=t("4c35"),N=t("qAlS"),T=t("seP3"),G=t("lLAP"),O=t("MlvX"),P=t("dJrM"),q=t("wFw1"),z=t("gIcY"),H=e.pb({encapsulation:2,styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper,.mat-form-field-appearance-standard .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}@media screen and (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}"],data:{animation:[{type:7,name:"transformPanel",definitions:[{type:0,name:"void",styles:{type:6,styles:{transform:"scaleY(0)",minWidth:"100%",opacity:0},offset:null},options:void 0},{type:0,name:"showing",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:0,name:"showing-multiple",styles:{type:6,styles:{opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:{type:3,steps:[{type:11,selector:"@fadeInContent",animation:{type:9,options:null},options:null},{type:4,styles:null,timings:"150ms cubic-bezier(0.25, 0.8, 0.25, 1)"}],options:null},options:null},{type:1,expr:"* => void",animation:[{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"250ms 100ms linear"}],options:null}],options:{}},{type:7,name:"fadeInContent",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => showing",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function J(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[["class","mat-select-placeholder"]],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.placeholder||"\xa0")})}function I(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.triggerValue||"\xa0")})}function Y(l){return e.Lb(0,[e.Ab(null,0),(l()(),e.ib(0,null,null,0))],null,null)}function V(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"span",[["class","mat-select-value-text"]],null,null,null,null,null)),e.qb(1,16384,null,0,m.q,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),e.ib(16777216,null,null,1,null,I)),e.qb(3,16384,null,0,m.s,[e.Q,e.N,m.q],null,null),(l()(),e.ib(16777216,null,null,1,null,Y)),e.qb(5,278528,null,0,m.r,[e.Q,e.N,m.q],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(l,n){l(n,1,0,!!n.component.customTrigger),l(n,5,0,!0)},null)}function j(l){return e.Lb(0,[(l()(),e.rb(0,0,[[2,0],["panel",1]],null,3,"div",[],[[24,"@transformPanel",0],[4,"transformOrigin",null],[2,"mat-select-panel-done-animating",null],[4,"font-size","px"]],[[null,"@transformPanel.done"],[null,"keydown"]],function(l,n,t){var e=!0,r=l.component;return"@transformPanel.done"===n&&(e=!1!==r._panelDoneAnimatingStream.next(t.toState)&&e),"keydown"===n&&(e=!1!==r._handleKeydown(t)&&e),e},null,null)),e.qb(1,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.rb(2,0,null,null,1,"div",[["class","mat-select-content"]],[[24,"@fadeInContent",0]],[[null,"@fadeInContent.done"]],function(l,n,t){var e=!0;return"@fadeInContent.done"===n&&(e=!1!==l.component._onFadeInDone()&&e),e},null,null)),e.Ab(null,1)],function(l,n){var t=n.component;l(n,1,0,e.tb(1,"mat-select-panel ",t._getPanelTheme(),""),t.panelClass)},function(l,n){var t=n.component;l(n,0,0,t.multiple?"showing-multiple":"showing",t._transformOrigin,t._panelDoneAnimating,t._triggerFontSize),l(n,2,0,"showing")})}function U(l){return e.Lb(2,[e.Hb(402653184,1,{trigger:0}),e.Hb(671088640,2,{panel:0}),e.Hb(402653184,3,{overlayDir:0}),(l()(),e.rb(3,0,[[1,0],["trigger",1]],null,9,"div",[["aria-hidden","true"],["cdk-overlay-origin",""],["class","mat-select-trigger"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.toggle()&&e),e},null,null)),e.qb(4,16384,[["origin",4]],0,S.b,[e.k],null,null),(l()(),e.rb(5,0,null,null,5,"div",[["class","mat-select-value"]],null,null,null,null,null)),e.qb(6,16384,null,0,m.q,[],{ngSwitch:[0,"ngSwitch"]},null),(l()(),e.ib(16777216,null,null,1,null,J)),e.qb(8,278528,null,0,m.r,[e.Q,e.N,m.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.ib(16777216,null,null,1,null,V)),e.qb(10,278528,null,0,m.r,[e.Q,e.N,m.q],{ngSwitchCase:[0,"ngSwitchCase"]},null),(l()(),e.rb(11,0,null,null,1,"div",[["class","mat-select-arrow-wrapper"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,0,"div",[["class","mat-select-arrow"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,function(l,n,t){var e=!0,r=l.component;return"backdropClick"===n&&(e=!1!==r.close()&&e),"attach"===n&&(e=!1!==r._onAttached()&&e),"detach"===n&&(e=!1!==r.close()&&e),e},j)),e.qb(14,671744,[[3,4]],0,S.a,[S.c,e.N,e.Q,S.i,[2,h.b]],{origin:[0,"origin"],positions:[1,"positions"],offsetY:[2,"offsetY"],minWidth:[3,"minWidth"],backdropClass:[4,"backdropClass"],scrollStrategy:[5,"scrollStrategy"],open:[6,"open"],hasBackdrop:[7,"hasBackdrop"],lockPosition:[8,"lockPosition"]},{backdropClick:"backdropClick",attach:"attach",detach:"detach"})],function(l,n){var t=n.component;l(n,6,0,t.empty),l(n,8,0,!0),l(n,10,0,!1),l(n,14,0,e.Bb(n,4),t._positions,t._offsetY,null==t._triggerRect?null:t._triggerRect.width,"cdk-overlay-transparent-backdrop",t._scrollStrategy,t.panelOpen,"","")},null)}var K=t("bujt"),Q=e.pb({encapsulation:2,styles:[".mat-paginator{display:block}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center;min-height:48px}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}"],data:{}});function X(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(l,n,t){var r=!0;return"click"===n&&(r=!1!==e.Bb(l,1)._selectViaInteraction()&&r),"keydown"===n&&(r=!1!==e.Bb(l,1)._handleKeydown(t)&&r),r},O.c,O.a)),e.qb(1,8568832,[[8,4]],0,g.q,[e.k,e.h,[2,g.j],[2,g.p]],{value:[0,"value"]},null),(l()(),e.Jb(2,0,["",""]))],function(l,n){l(n,1,0,n.context.$implicit)},function(l,n){l(n,0,0,e.Bb(n,1)._getTabIndex(),e.Bb(n,1).selected,e.Bb(n,1).multiple,e.Bb(n,1).active,e.Bb(n,1).id,e.Bb(n,1).selected.toString(),e.Bb(n,1).disabled.toString(),e.Bb(n,1).disabled),l(n,2,0,n.context.$implicit)})}function $(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,17,"mat-form-field",[["class","mat-paginator-page-size-select mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,P.b,P.a)),e.qb(1,7389184,null,7,T.b,[e.k,e.h,[2,g.h],[2,h.b],[2,T.a],v.a,e.A,[2,q.a]],null,null),e.Hb(335544320,1,{_control:0}),e.Hb(335544320,2,{_placeholderChild:0}),e.Hb(335544320,3,{_labelChild:0}),e.Hb(603979776,4,{_errorChildren:1}),e.Hb(603979776,5,{_hintChildren:1}),e.Hb(603979776,6,{_prefixChildren:1}),e.Hb(603979776,7,{_suffixChildren:1}),(l()(),e.rb(9,0,null,1,8,"mat-select",[["class","mat-select"],["role","listbox"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null]],[[null,"selectionChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],function(l,n,t){var r=!0,u=l.component;return"keydown"===n&&(r=!1!==e.Bb(l,11)._handleKeydown(t)&&r),"focus"===n&&(r=!1!==e.Bb(l,11)._onFocus()&&r),"blur"===n&&(r=!1!==e.Bb(l,11)._onBlur()&&r),"selectionChange"===n&&(r=!1!==u._changePageSize(t.value)&&r),r},U,H)),e.Gb(6144,null,g.j,null,[B.c]),e.qb(11,2080768,null,3,B.c,[N.e,e.h,e.A,g.d,e.k,[2,h.b],[2,z.k],[2,z.d],[2,T.b],[8,null],[8,null],B.a],{value:[0,"value"],ariaLabel:[1,"ariaLabel"]},{selectionChange:"selectionChange"}),e.Hb(603979776,8,{options:1}),e.Hb(603979776,9,{optionGroups:1}),e.Hb(335544320,10,{customTrigger:0}),e.Gb(2048,[[1,4]],T.c,null,[B.c]),(l()(),e.ib(16777216,null,1,1,null,X)),e.qb(17,278528,null,0,m.l,[e.Q,e.N,e.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){var t=n.component;l(n,11,0,t.pageSize,t._intl.itemsPerPageLabel),l(n,17,0,t._displayedPageSizeOptions)},function(l,n){l(n,0,1,["standard"==e.Bb(n,1).appearance,"fill"==e.Bb(n,1).appearance,"outline"==e.Bb(n,1).appearance,"legacy"==e.Bb(n,1).appearance,e.Bb(n,1)._control.errorState,e.Bb(n,1)._canLabelFloat,e.Bb(n,1)._shouldLabelFloat(),e.Bb(n,1)._hideControlPlaceholder(),e.Bb(n,1)._control.disabled,e.Bb(n,1)._control.autofilled,e.Bb(n,1)._control.focused,"accent"==e.Bb(n,1).color,"warn"==e.Bb(n,1).color,e.Bb(n,1)._shouldForward("untouched"),e.Bb(n,1)._shouldForward("touched"),e.Bb(n,1)._shouldForward("pristine"),e.Bb(n,1)._shouldForward("dirty"),e.Bb(n,1)._shouldForward("valid"),e.Bb(n,1)._shouldForward("invalid"),e.Bb(n,1)._shouldForward("pending"),!e.Bb(n,1)._animationsEnabled]),l(n,9,1,[e.Bb(n,11).id,e.Bb(n,11).tabIndex,e.Bb(n,11)._getAriaLabel(),e.Bb(n,11)._getAriaLabelledby(),e.Bb(n,11).required.toString(),e.Bb(n,11).disabled.toString(),e.Bb(n,11).errorState,e.Bb(n,11).panelOpen?e.Bb(n,11)._optionIds:null,e.Bb(n,11).multiple,e.Bb(n,11)._ariaDescribedby||null,e.Bb(n,11)._getAriaActiveDescendant(),e.Bb(n,11).disabled,e.Bb(n,11).errorState,e.Bb(n,11).required])})}function W(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.pageSize)})}function Z(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","mat-paginator-page-size"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"div",[["class","mat-paginator-page-size-label"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["",""])),(l()(),e.ib(16777216,null,null,1,null,$)),e.qb(4,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,W)),e.qb(6,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,4,0,t._displayedPageSizeOptions.length>1),l(n,6,0,t._displayedPageSizeOptions.length<=1)},function(l,n){l(n,2,0,n.component._intl.itemsPerPageLabel)})}function ll(l){return e.Lb(0,[(l()(),e.rb(0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-first"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(l,n,t){var r=!0,u=l.component;return"longpress"===n&&(r=!1!==e.Bb(l,2).show()&&r),"keydown"===n&&(r=!1!==e.Bb(l,2)._handleKeydown(t)&&r),"touchend"===n&&(r=!1!==e.Bb(l,2)._handleTouchend()&&r),"click"===n&&(r=!1!==u.firstPage()&&r),r},K.b,K.a)),e.qb(1,180224,null,0,R.b,[e.k,v.a,G.e,[2,q.a]],{disabled:[0,"disabled"]},null),e.qb(2,147456,null,0,F.d,[S.c,e.k,N.c,e.Q,e.A,v.a,G.c,G.e,F.b,[2,h.b],[2,F.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(l()(),e.rb(3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,0,":svg:path",[["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"]],null,null,null,null,null)),(l()(),e.ib(0,null,null,0))],function(l,n){var t=n.component;l(n,1,0,!t.hasPreviousPage()),l(n,2,0,"above",!t.hasPreviousPage(),t._intl.firstPageLabel)},function(l,n){l(n,0,0,n.component._intl.firstPageLabel,e.Bb(n,1).disabled||null,"NoopAnimations"===e.Bb(n,1)._animationMode)})}function nl(l){return e.Lb(0,[(l()(),e.rb(0,16777216,null,null,4,"button",[["class","mat-paginator-navigation-last"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(l,n,t){var r=!0,u=l.component;return"longpress"===n&&(r=!1!==e.Bb(l,2).show()&&r),"keydown"===n&&(r=!1!==e.Bb(l,2)._handleKeydown(t)&&r),"touchend"===n&&(r=!1!==e.Bb(l,2)._handleTouchend()&&r),"click"===n&&(r=!1!==u.lastPage()&&r),r},K.b,K.a)),e.qb(1,180224,null,0,R.b,[e.k,v.a,G.e,[2,q.a]],{disabled:[0,"disabled"]},null),e.qb(2,147456,null,0,F.d,[S.c,e.k,N.c,e.Q,e.A,v.a,G.c,G.e,F.b,[2,h.b],[2,F.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(l()(),e.rb(3,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,0,":svg:path",[["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],null,null,null,null,null)),(l()(),e.ib(0,null,null,0))],function(l,n){var t=n.component;l(n,1,0,!t.hasNextPage()),l(n,2,0,"above",!t.hasNextPage(),t._intl.lastPageLabel)},function(l,n){l(n,0,0,n.component._intl.lastPageLabel,e.Bb(n,1).disabled||null,"NoopAnimations"===e.Bb(n,1)._animationMode)})}function tl(l){return e.Lb(2,[(l()(),e.rb(0,0,null,null,19,"div",[["class","mat-paginator-container"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,Z)),e.qb(2,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(3,0,null,null,16,"div",[["class","mat-paginator-range-actions"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"div",[["class","mat-paginator-range-label"]],null,null,null,null,null)),(l()(),e.Jb(5,null,["",""])),(l()(),e.ib(16777216,null,null,1,null,ll)),e.qb(7,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(8,16777216,null,null,4,"button",[["class","mat-paginator-navigation-previous"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(l,n,t){var r=!0,u=l.component;return"longpress"===n&&(r=!1!==e.Bb(l,10).show()&&r),"keydown"===n&&(r=!1!==e.Bb(l,10)._handleKeydown(t)&&r),"touchend"===n&&(r=!1!==e.Bb(l,10)._handleTouchend()&&r),"click"===n&&(r=!1!==u.previousPage()&&r),r},K.b,K.a)),e.qb(9,180224,null,0,R.b,[e.k,v.a,G.e,[2,q.a]],{disabled:[0,"disabled"]},null),e.qb(10,147456,null,0,F.d,[S.c,e.k,N.c,e.Q,e.A,v.a,G.c,G.e,F.b,[2,h.b],[2,F.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(l()(),e.rb(11,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,0,":svg:path",[["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"]],null,null,null,null,null)),(l()(),e.rb(13,16777216,null,null,4,"button",[["class","mat-paginator-navigation-next"],["mat-icon-button",""],["type","button"]],[[1,"aria-label",0],[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(l,n,t){var r=!0,u=l.component;return"longpress"===n&&(r=!1!==e.Bb(l,15).show()&&r),"keydown"===n&&(r=!1!==e.Bb(l,15)._handleKeydown(t)&&r),"touchend"===n&&(r=!1!==e.Bb(l,15)._handleTouchend()&&r),"click"===n&&(r=!1!==u.nextPage()&&r),r},K.b,K.a)),e.qb(14,180224,null,0,R.b,[e.k,v.a,G.e,[2,q.a]],{disabled:[0,"disabled"]},null),e.qb(15,147456,null,0,F.d,[S.c,e.k,N.c,e.Q,e.A,v.a,G.c,G.e,F.b,[2,h.b],[2,F.a]],{position:[0,"position"],disabled:[1,"disabled"],message:[2,"message"]},null),(l()(),e.rb(16,0,null,0,1,":svg:svg",[["class","mat-paginator-icon"],["focusable","false"],["viewBox","0 0 24 24"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,0,":svg:path",[["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,nl)),e.qb(19,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,!t.hidePageSize),l(n,7,0,t.showFirstLastButtons),l(n,9,0,!t.hasPreviousPage()),l(n,10,0,"above",!t.hasPreviousPage(),t._intl.previousPageLabel),l(n,14,0,!t.hasNextPage()),l(n,15,0,"above",!t.hasNextPage(),t._intl.nextPageLabel),l(n,19,0,t.showFirstLastButtons)},function(l,n){var t=n.component;l(n,5,0,t._intl.getRangeLabel(t.pageIndex,t.pageSize,t.length)),l(n,8,0,t._intl.previousPageLabel,e.Bb(n,9).disabled||null,"NoopAnimations"===e.Bb(n,9)._animationMode),l(n,13,0,t._intl.nextPageLabel,e.Bb(n,14).disabled||null,"NoopAnimations"===e.Bb(n,14)._animationMode)})}var el=t("VphZ"),rl=t("iAOh"),ul=t("cL9I"),al=t("e3D4"),il=t("YYQq"),ol=t("56+L"),sl=t("9eVe"),cl=t("ZRdh"),dl=function(){function l(l,n,t,e,r){this.crudService=l,this.plantillaGraficos=n,this.utilesService=t,this.d3FormatLocalService=e,this.progressLoadingService=r,this.meta=new cl.a,this.total_venta_last_week_now=0,this.total_venta_last_week_previus=0,this.count_pedidos_last_week_now=0,this.por_signo_week_now=0,this.por_venta_now_vs_previus_week=0,this.dif_venta_now_vs_previus_week=0,this.dias_paso_meta_week="",this.dia_week_mas_venta="",this.total_venta_last_mes_now=0,this.total_venta_last_mes_previus=0,this.count_pedidos_last_mes_now=0,this.por_signo_mes_now=0,this.por_venta_now_vs_previus_mes=0,this.dif_venta_now_vs_previus_mes=0,this.mes_paso_meta_mes="",this.mes_mas_venta="",this.tasa_clientes_nuevos=0,this.tasa_clientes_nuevos_count=0,this.tasa_clientes_nuevos_signo=0,this.tasa_clientes_nuevos_mes_anterior=0,this.tasa_clientes_retencion=0,this.tasa_clientes_retencion_count=0,this.tasa_clientes_retencion_signo=0,this.tasa_clientes_retencion_mes_anterior=0,this.tasa_clientes_desercion=0,this.tasa_clientes_desercion_count=0,this.tasa_clientes_desercion_signo=!1,this.tasa_clientes_desercion_mes_anterior=0,this.tasa_clientes_tiket_promedio=0,this.tasa_clientes_tiket_promedio_signo=0,this.tasa_clientes_tiket_promedio_mes_anterior=0,this.horas_punta="",this.horas_libres="",this.data_cliente_consumo=new p.o,this.displayedColumns=["Cliente","tp","Visitas","Frecuencia","Ultima Visita","Consumo Promedio","Consumo Total"],this.datos_ventas=[],this.fecha_actual=""}return l.prototype.ngOnInit=function(){this.progressLoadingService.setLoading(!0),this.data_cliente_consumo.paginator=this.paginator,el.timeFormatDefaultLocale(this.d3FormatLocalService.formatoLocal()),this.format_money=el.format("(,.2f"),this.getDataMeta()},l.prototype.getDataMeta=function(){var l=this;this.crudService.getAll("estadistica","getMetaSede",!1,!1).subscribe(function(n){if(n.success){if(0===n.data.length)return l.meta.diaria=0,l.meta.mensual=0,void(l.meta.anual=0);l.meta.diaria=n.data[0].diaria,l.meta.mensual=n.data[0].mensual,l.meta.anual=n.data[0].anual,l.xGetFechaActual()}else console.log(n)})},l.prototype.xTasa_clientes=function(l,n){var t={};t._num_mes=n;var e=l.length;t._count_clie_periodo=e;var r=l.filter(function(l){return l.value.num_mes_registro==n}).length;t._count_clie_new=r;var u=Math.round(r/e*100);t._tasa_clie_news=u;var a=n-1,i=l.filter(function(l){return parseFloat(l.value.num_mes_ultima_visita)<=a}).length,o=Math.round(i/e*100);t._tasa__desercion_count=i,t._tasa__desercion=o;var s=l.filter(function(l){return l.value.num_mes_ultima_visita==n&&l.value.count>1}).length;t._tasa_retencion=100-o,t._tasa_retencion_count=s;var c=l.filter(function(l){return l.value.num_mes_int==n}).map(function(l){return l.value.ticket_promedio}).reduce(function(l,n){return l+n},0),d=Math.round(c/r);return t._ticket_promedio_clie=this.format_money(d),t},l.prototype.xGetFechaActual=function(){var l=this;this.crudService.getTimeNow().subscribe(function(n){l.fecha_actual=n.data.f_actual,l.xAsignarPlantillaGraficos(),l.xGenerarGraficos()})},l.prototype.xGenerarGraficos=function(){var l=this;this.crudService.getAll("estadistica","getVentas",!1,!1).subscribe(function(n){l.datos_ventas=l.d3FormatLocalService.setearDataTimeDimension(n.data,"fecha",l.fecha_actual),console.log(l.datos_ventas);var t=el.timeFormat("%Y-%m-%d"),e=el.timeParse("%d/%m/%Y"),r=el.timeFormat("%A"),u=el.timeFormat("%B"),a=el.timeFormat("%m"),i=rl(l.datos_ventas),o=(i.groupAll(),i.dimension(function(l){return l.yy})),s=i.dimension(function(l){return l.mmyy}),c=i.dimension(function(l){return l.dd}),d=i.dimension(function(l){return l.hora24}),f=i.dimension(function(l){return l.idcliente}),p=l.meta.diaria,b=l.meta.mensual,m=l.meta.anual,h=d.group().reduce(function(l,n,t){return l.count+=1,l.xtotal+=parseFloat(n.total),l.descripcion=n.hora12,l.hora24=n.hora24,l},function(l,n,t){return l.count-=1,l.xtotal-=parseFloat(n.total),l.descripcion=n.hora12,l.hora24=n.hora24,l},function(){return{count:0,xtotal:0,descripcion:"",hora24:0}}).order(function(l){return l.hora24}).all();console.log("dimension hora",h);var g=h.filter(function(l){return l.value.count>10});l.horas_punta=g.map(function(l){return l}).sort(function(l,n){return n.value.count-l.value.count}).slice(0,2).reverse().map(function(l){return l.value.descripcion}).join(" - "),l.horas_libres=g.map(function(l){return l}).sort(function(l,n){return l.value.count-n.value.count}).slice(0,4).sort(function(l,n){return l.value.hora24-n.value.hora24}).map(function(l){return l.value.descripcion}).join(" - ");var v=("x,"+g.map(function(l){return l.key}).join(",")).split(","),_=("Hora punta,"+g.map(function(l){return l.value.count}).join(",")).split(",");l.chart_hora_punta.load({columns:[v,_]});var y=c.group().reduce(function(l,n,t){return l.count+=1,l.xtotal+=parseFloat(n.total),l.paso_meta=l.xtotal>l.meta,l.f=n.dd,l.descripcion=n.nom_dia,l.num_week=n.num_week,l},function(l,n,t){return l.count-=1,l.xtotal-=parseFloat(n.total),l.paso_meta=l.xtotal>l.meta,l.f=n.dd,l.descripcion=n.nom_dia,l.num_week=n.num_week,l},function(){return{count:0,xtotal:0,f:"",descripcion:"",num_week:0,meta:p,paso_meta:!1,hora:""}}).order(function(l){return l.f}).top(20),x=0;y.slice(0,3).map(function(n,t){0===t&&(x=n.value.num_week),n.value.porcentaje=Math.round(n.value.xtotal/p*100).toFixed(0),l.chart_meta_dia.load({columns:[[n.value.descripcion,n.value.porcentaje]]})}),console.log(y),console.log("ultima semana: ",x);var A=y.filter(function(l){return l.value.num_week==x}),w=A.map(function(l){return l}).sort(function(l,n){return n.value.xtotal-l.value.xtotal})[0];l.dia_week_mas_venta="El "+r(w.value.f)+" es el d\xeda que m\xe1s se vendio.";var k=A.filter(function(l){return l.value.paso_meta}).map(function(l){return r(l.value.f)}).reverse().join(", ");l.dias_paso_meta_week=k.length>0?"Los dias "+k+" se paso la meta diaria.":"";var C=A.reduce(function(l,n){return l.total=l.total?l.total:l.value.xtotal,l.total+=n.value.xtotal,l.count=l.count?l.count:l.value.count,l.count+=n.value.count,l});C.total=C.total?C.total:C.value.xtotal,C.count=C.count?C.count:C.value.count;var L=C.total;l.count_pedidos_last_week_now=C.count;var D=x-1<0?0:x-1,S=y.filter(function(l){return l.value.num_week==D}).reduce(function(l,n){return l.total=l.total?l.total:l.value.xtotal,l.total+=n.value.xtotal,l.count=l.count?l.count:l.value.count,l.count+=n.value.count,l}).total;l.total_venta_last_week_now=l.format_money(Math.round(L)),l.total_venta_last_week_previus=l.format_money(Math.round(S)),l.por_venta_now_vs_previus_week=Math.round(L/S*100)-100,l.dif_venta_now_vs_previus_week=l.format_money(L-S),l.por_signo_week_now=l.por_venta_now_vs_previus_week>0?0:1;var M=("x,"+A.map(function(l){return t(l.key)}).join(",")).split(","),B=("Semana Actual,"+A.map(function(l){return l.value.xtotal}).join(",")).split(",");function F(l){return l.f}l.chart_last_sem.load({columns:[M,B]}),l.chart_last_sem.ygrids.add({value:p,text:"META "+p});var R=s.group().reduce(function(l,n){return++l.count,l.xtotal+=parseFloat(n.total),l.f=n.mm,l.descripcion=n.nom_mes,l.num_mes=n.num_mes,l.num_mes_int=n.num_mes_int,l.paso_meta=l.xtotal>l.meta,l},function(l,n){return--l.count,l.xtotal-=parseFloat(n.total),l.f=n.mm,l.descripcion=n.nom_mes,l.num_mes=n.num_mes,l.num_mes_int=n.num_mes_int,l.paso_meta=l.xtotal>l.meta,l},function(){return{f:"",count:0,xtotal:0,descripcion:"",num_mes:0,num_mes_int:0,meta:b,paso_meta:!1}}).order(F).top(12);console.log(R);var E=0;R.slice(0,3).map(function(n,t){0===t&&(E=n.value.num_mes_int),n.value.porcentaje=Math.round(n.value.xtotal/b*100).toFixed(0),l.chart_meta_mes.load({columns:[[n.value.descripcion,n.value.porcentaje]]})}),console.log("num ultimo mes",E);var N=R.filter(function(l){return l.value.num_mes_int==E}),T=R.map(function(l){return l}).sort(function(l,n){return n.value.xtotal-l.value.xtotal})[0];l.mes_mas_venta="En "+u(T.value.f)+" es el mes que m\xe1s se vendio.";var G=R.filter(function(l){return l.value.paso_meta}).map(function(l){return u(l.value.f)}).reverse().join(", ");l.mes_paso_meta_mes=G.length>0?"Los meses: "+G+" se paso la meta mensual.":"No hay mes que haya pasado la meta.";var O=N[0].value.xtotal;l.count_pedidos_last_mes_now=N[0].value.count;var P=E-1<0?0:E-1,q=R.filter(function(l){return l.value.num_mes_int==P})[0].value.xtotal;l.total_venta_last_mes_now=l.format_money(Math.round(O)),l.total_venta_last_mes_previus=l.format_money(Math.round(q)),l.por_venta_now_vs_previus_mes=Math.round(O/q*100)-100,l.dif_venta_now_vs_previus_mes=l.format_money(O-q),l.por_signo_mes_now=l.por_venta_now_vs_previus_mes>0?0:1;var z=("x,"+R.map(function(l){return t(l.key)}).join(",")).split(","),H=("Meses,"+R.map(function(l){return l.value.xtotal}).join(",")).split(",");l.chart_last_meses.load({columns:[z,H]}),l.chart_last_meses.ygrids.add({value:b,text:"META "+b});var J=o.group().reduce(function(l,n){return++l.count,l.xtotal+=parseFloat(n.total),l.f=n.yy,l.descripcion=n.yy,l},function(l,n){return--l.count,l.xtotal-=parseFloat(n.total),l.f=n.yy,l.descripcion=n.yy,l},function(){return{f:"",count:0,xtotal:0,descripcion:""}}).order(F).top(3);console.log(J),J.map(function(n){n.value.porcentaje=Math.round(n.value.xtotal/m*100).toFixed(0),l.chart_meta_yy.load({columns:[[n.value.descripcion,n.value.porcentaje]]})}),setTimeout(function(){l.chart_meta_yy.resize()},5);var I=f.group().reduce(function(l,n,t){switch(l.count+=1,l.xtotal+=parseFloat(n.total),l.nombres=""===n.nombres||null===n.nombres?"PUBLICO EN GENERAL":n.nombres,0!=n.idcliente&&(l.calc_frecuencia=0===l.calc_fecha_frecuencia?0:l.calc_frecuencia+el.timeDay.count(n.dd,l.calc_fecha_frecuencia),l.f_ultima_visita=0===l.calc_fecha_frecuencia?n.dd:l.f_ultima_visita,l.dias_ultima_visita=el.timeDay.count(l.f_ultima_visita,n.f_actual),l.calc_fecha_frecuencia=n.dd,l.frecuencia_visitas=Math.round(l.calc_frecuencia/l.count),l.frecuencia_visitas=0===l.frecuencia_visitas?1:l.frecuencia_visitas,l.ticket_promedio=Math.round(l.xtotal/l.count),l.f_nac=n.f_nac,l.num_mes_registro=a(e(n.f_registro.split(" ")[0])),l.num_mes_ultima_visita=a(l.f_ultima_visita),l.num_mes=n.num_mes,l.num_mes_int=n.num_mes_int),l.tipo_cliente=""===n.ruc||null===n.ruc?0:n.ruc.length<11?1:2,l.tipo_cliente){case 0:l.tipo_cliente_des="PUBLICO EN GENERAL",l.tipo_cliente_abr="PG";break;case 1:l.tipo_cliente_des="PERSONA NATURAL",l.tipo_cliente_abr="PN";break;case 2:l.tipo_cliente_des="PERSONA JURIDICA",l.tipo_cliente_abr="PJ"}return l},function(l,n,t){switch(l.count-=1,l.xtotal-=parseFloat(n.total),l.nombres=""===n.nombres||null===n.nombres?"PUBLICO EN GENERAL":n.nombres,0!=n.idcliente&&(l.calc_frecuencia=0===l.calc_fecha_frecuencia?0:l.calc_frecuencia-el.timeDay.count(n.dd,l.calc_fecha_frecuencia),l.f_ultima_visita=0===l.calc_fecha_frecuencia?n.dd:l.f_ultima_visita,l.dias_ultima_visita=el.timeDay.count(l.f_ultima_visita,n.f_actual),l.calc_fecha_frecuencia=n.dd,l.frecuencia_visitas=Math.round(l.calc_frecuencia/l.count),l.frecuencia_visitas=0===l.frecuencia_visitas?1:l.frecuencia_visitas,l.ticket_promedio=Math.round(l.xtotal/l.count),l.f_nac=n.f_nac,l.num_mes_registro=a(e(n.f_registro)),l.num_mes_ultima_visita=a(l.f_ultima_visita),l.num_mes=n.num_mes,l.num_mes_int=n.num_mes_int),l.tipo_cliente=""===n.ruc||null===n.ruc?0:n.ruc.length<11?1:2,l.tipo_cliente){case 0:l.tipo_cliente_des="PUBLICO EN GENERAL",l.tipo_cliente_abr="PG";break;case 1:l.tipo_cliente_des="PERSONA NATURAL",l.tipo_cliente_abr="PN";break;case 2:l.tipo_cliente_des="PERSONA JURIDICA",l.tipo_cliente_abr="PJ"}return l},function(){return{count:0,xtotal:0,nombres:"",calc_fecha_frecuencia:0,calc_frecuencia:0,frecuencia_visitas:0,ticket_promedio:0,f_ultima_visita:"",dias_ultima_visita:0,f_nac:"",tipo_cliente:0,tipo_cliente_des:"",tipo_cliente_abr:"",num_mes_registro:0,num_mes_ultima_visita:0,num_mes:0,num_mes_int:0}}).all();l.data_cliente_consumo.data=I.sort(function(l,n){return n.value.xtotal-l.value.xtotal}),l.data_cliente_consumo.paginator=l.paginator,console.log("dimension cliente ",l.data_cliente_consumo);var Y=l.utilesService.ReduceGroupAndSum(I.map(function(l){return l.value}),"tipo_cliente_des"),V={},j=[];Y.map(function(l){j.push(l.tipo_cliente_des),V[l.tipo_cliente_des]=l.count}),l.chart_clie_tpc.load({json:[V],keys:{value:j}}),console.log("tipo de cliente",Y);var U=I.filter(function(l){return 0!=l.key});console.log("datos solo clientes ",U);var K=E;console.log("ultimo registro",U[U.length-1].value);var Q=U.filter(function(l){return l.value.num_mes_int<=K-1}),X=U.filter(function(l){return l.value.num_mes_int<=K});console.log("mes actual: ",X),console.log("mes anterior: ",Q);var $=l.xTasa_clientes(Q,K-1),W=l.xTasa_clientes(X,K);console.log("mes actual: ",W),console.log("mes anterior: ",$),l.tasa_clientes_nuevos=W._tasa_clie_news,l.tasa_clientes_nuevos_mes_anterior=l.tasa_clientes_nuevos-$._tasa_clie_news,l.tasa_clientes_nuevos_signo=l.tasa_clientes_nuevos_mes_anterior<0?1:0,l.tasa_clientes_nuevos_count=W._count_clie_new,l.tasa_clientes_desercion=W._tasa__desercion,l.tasa_clientes_desercion_mes_anterior=l.tasa_clientes_desercion-$._tasa__desercion,l.tasa_clientes_desercion_count=W._tasa__desercion_count,l.tasa_clientes_desercion_signo=l.tasa_clientes_desercion_mes_anterior<0,console.log("count tasa desercion anterir actual ",l.tasa_clientes_desercion_mes_anterior),console.log("signo ",l.tasa_clientes_desercion_signo),l.tasa_clientes_retencion=W._tasa_retencion,l.tasa_clientes_retencion_mes_anterior=W._tasa_retencion_count-$._tasa_retencion_count,l.tasa_clientes_retencion_signo=l.tasa_clientes_retencion_mes_anterior<0?1:0,l.tasa_clientes_retencion_count=W._tasa_retencion_count,l.tasa_clientes_tiket_promedio=W._ticket_promedio_clie,l.tasa_clientes_tiket_promedio_mes_anterior=l.tasa_clientes_tiket_promedio-$._ticket_promedio_clie,l.tasa_clientes_tiket_promedio_signo=l.tasa_clientes_tiket_promedio_mes_anterior<0?1:0,l.tasa_clientes_tiket_promedio_mes_anterior=l.format_money(l.tasa_clientes_tiket_promedio_mes_anterior),l.progressLoadingService.setLoading(!1)})},l.prototype.xAsignarPlantillaGraficos=function(){this.chart_meta_dia=this.plantillaGraficos.plantillaGraficoGauge("chart_m_dia"),this.chart_meta_mes=this.plantillaGraficos.plantillaGraficoGauge("chart_m_mes"),this.chart_meta_yy=this.plantillaGraficos.plantillaGraficoGauge("chart_m_yy"),this.chart_last_sem=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_last_sem","area-spline","%a"),this.chart_last_meses=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_last_meses","bar","%b"),this.chart_hora_punta=this.plantillaGraficos.plantillaGraficoLineYFalsexFormat("chart_hora_punta","area-spline","%I %p","%H"),this.chart_clie_tpc=this.plantillaGraficos.plantillaGraficoDonut("chart_clie_tpc","Tipo de clientes")},l}(),fl=e.pb({encapsulation:0,styles:[[".c3-target-Tablet[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{color:green}.c3-ygrid-line.grid800[_ngcontent-%COMP%]   line[_ngcontent-%COMP%]{stroke:green}.flex-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;flex-wrap:wrap;margin-bottom:25px;border-bottom:1px solid #757575}.flex-container[_ngcontent-%COMP%]:hover{background:beige}.flex-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:150px;margin:2px;flex-grow:1;padding-bottom:15px}.flex-container[_ngcontent-%COMP%]   .titutlo[_ngcontent-%COMP%]{font-weight:600;border-bottom:1px solid #e0e0e0;color:#757575;font-size:15px}"]],data:{}});function pl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.dia_week_mas_venta)})}function bl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.dias_paso_meta_week)})}function ml(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.mes_mas_venta)})}function hl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","label-subtitle-chart c-aaa fsize-08"]],null,null,null,null,null)),(l()(),e.Jb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.mes_paso_meta_mes)})}function gl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.h,[b.d,e.k],null,null),(l()(),e.Jb(-1,null,[" Cliente "]))],null,null)}function vl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"],["style","width: 45%"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.Jb(2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.context.$implicit.value.nombres)})}function _l(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.h,[b.d,e.k],null,null),(l()(),e.Jb(-1,null,[" Tipo "]))],null,null)}function yl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.Jb(2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.context.$implicit.value.tipo_cliente_abr)})}function xl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.h,[b.d,e.k],null,null),(l()(),e.Jb(-1,null,[" Visitas "]))],null,null)}function Al(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.Jb(2,null,[" "," "]))],null,function(l,n){l(n,2,0,n.context.$implicit.value.count)})}function wl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.h,[b.d,e.k],null,null),(l()(),e.Jb(-1,null,[" Frecuencia "]))],null,null)}function kl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.Jb(2,null,[" "," dias"]))],null,function(l,n){l(n,2,0,n.context.$implicit.value.frecuencia_visitas)})}function Cl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"th",[["class","mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.h,[b.d,e.k],null,null),(l()(),e.Jb(-1,null,[" Ultima Visita "]))],null,null)}function Ll(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.Jb(2,null,[" Hace "," dias"]))],null,function(l,n){l(n,2,0,n.context.$implicit.value.dias_ultima_visita)})}function Dl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"th",[["class","text-right mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.h,[b.d,e.k],null,null),(l()(),e.Jb(-1,null,[" Consumo Promedio "]))],null,null)}function Sl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"td",[["class","text-right mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.Jb(2,null,[" ",""])),e.Fb(3,2)],null,function(l,n){var t=e.Kb(n,2,0,l(n,3,0,e.Bb(n.parent,0),n.context.$implicit.value.ticket_promedio,"0.2"));l(n,2,0,t)})}function Ml(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"th",[["class","text-right mat-header-cell"],["mat-header-cell",""],["role","columnheader"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.h,[b.d,e.k],null,null),(l()(),e.Jb(-1,null,[" Consumo Total "]))],null,null)}function Bl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"td",[["class","text-right mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.Jb(2,null,[" ",""])),e.Fb(3,2)],null,function(l,n){var t=e.Kb(n,2,0,l(n,3,0,e.Bb(n.parent,0),n.context.$implicit.value.xtotal,"0.2"));l(n,2,0,t)})}function Fl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"tr",[["class","mat-header-row"],["mat-header-row",""],["role","row"]],null,null,null,A,x)),e.Gb(6144,null,b.k,null,[p.j]),e.qb(2,49152,null,0,p.j,[],null,null)],null,null)}function Rl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,L,C)),e.Gb(6144,null,b.m,null,[p.l]),e.qb(2,49152,null,0,p.l,[],null,null)],null,null)}function El(l){return e.Lb(0,[e.Db(0,m.e,[e.v]),e.Hb(402653184,1,{paginator:0}),(l()(),e.rb(2,0,null,null,30,"div",[["class","row animated fadeIn"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,9,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Meta Diaria"])),(l()(),e.rb(11,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,0,"div",[["id","chart_m_dia"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,9,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(16,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Meta Mensual"])),(l()(),e.rb(21,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,0,"div",[["id","chart_m_mes"]],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,9,"div",[["class","col-md-4 text-center"]],null,null,null,null,null)),(l()(),e.rb(24,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(25,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(26,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(27,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(28,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(29,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Meta Anual"])),(l()(),e.rb(31,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(32,0,null,null,0,"div",[["id","chart_m_yy"]],null,null,null,null,null)),(l()(),e.rb(33,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(34,0,null,null,80,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(35,0,null,null,39,"div",[["class","col-md-6 text-center"]],null,null,null,null,null)),(l()(),e.rb(36,0,null,null,38,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(37,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(38,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(39,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(40,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(41,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Como van las ventas esta semana?"])),(l()(),e.rb(43,0,null,null,31,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(44,0,null,null,29,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),e.rb(45,0,null,null,16,"div",[["class","col-sm-6 text-center border-de-dotted"]],null,null,null,null,null)),(l()(),e.rb(46,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),e.rb(47,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(48,null,["",""])),(l()(),e.rb(49,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Total en ventas"])),(l()(),e.rb(51,0,null,null,10,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(52,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.qb(53,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Jb(54,null,["","%"])),(l()(),e.rb(55,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(56,null,[" ",""])),(l()(),e.rb(57,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" mas"])),(l()(),e.rb(59,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" menos"])),(l()(),e.Jb(-1,null,[" que la semana pasada "])),(l()(),e.rb(62,0,null,null,5,"div",[["class","col-sm-6 text-center"]],null,null,null,null,null)),(l()(),e.rb(63,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(64,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(65,null,["",""])),(l()(),e.rb(66,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Pedidos atendidos"])),(l()(),e.rb(68,0,null,null,5,"div",[["class","col-sm-12 text-center"]],null,null,null,null,null)),(l()(),e.rb(69,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,pl)),e.qb(71,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,bl)),e.qb(73,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(74,0,null,null,0,"div",[["id","chart_last_sem"]],null,null,null,null,null)),(l()(),e.rb(75,0,null,null,39,"div",[["class","col-md-6 text-center"]],null,null,null,null,null)),(l()(),e.rb(76,0,null,null,38,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(77,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(78,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(79,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(80,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(81,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Como van las ventas en este mes?"])),(l()(),e.rb(83,0,null,null,31,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(84,0,null,null,29,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),e.rb(85,0,null,null,16,"div",[["class","col-sm-6 text-center border-de-dotted"]],null,null,null,null,null)),(l()(),e.rb(86,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),e.rb(87,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(88,null,["",""])),(l()(),e.rb(89,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Total en ventas"])),(l()(),e.rb(91,0,null,null,10,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(92,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.qb(93,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Jb(94,null,["","%"])),(l()(),e.rb(95,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(96,null,[" ",""])),(l()(),e.rb(97,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" mas"])),(l()(),e.rb(99,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" menos"])),(l()(),e.Jb(-1,null,[" que el mes pasado. "])),(l()(),e.rb(102,0,null,null,5,"div",[["class","col-sm-6 text-center"]],null,null,null,null,null)),(l()(),e.rb(103,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(104,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(105,null,["",""])),(l()(),e.rb(106,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Pedidos atendidos"])),(l()(),e.rb(108,0,null,null,5,"div",[["class","col-sm-12 text-center"]],null,null,null,null,null)),(l()(),e.rb(109,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,ml)),e.qb(111,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.ib(16777216,null,null,1,null,hl)),e.qb(113,16384,null,0,m.m,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(114,0,null,null,0,"div",[["id","chart_last_meses"]],null,null,null,null,null)),(l()(),e.rb(115,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(116,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(117,0,null,null,22,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),e.rb(118,0,null,null,21,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(119,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(120,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(121,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(122,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(123,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Que hora hay mas afluencia de clientes?"])),(l()(),e.rb(125,0,null,null,14,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(126,0,null,null,12,"div",[["class","row text-center"]],null,null,null,null,null)),(l()(),e.rb(127,0,null,null,5,"div",[["class","col-sm-6 text-center border-de-dotted"]],null,null,null,null,null)),(l()(),e.rb(128,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(129,0,null,null,1,"div",[["class","label-title-chart-sm"]],null,null,null,null,null)),(l()(),e.Jb(130,null,["",""])),(l()(),e.rb(131,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Horas punta"])),(l()(),e.rb(133,0,null,null,5,"div",[["class","col-sm-6 text-center"]],null,null,null,null,null)),(l()(),e.rb(134,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(135,0,null,null,1,"div",[["class","label-title-chart-sm"]],null,null,null,null,null)),(l()(),e.Jb(136,null,["",""])),(l()(),e.rb(137,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Horas mas libres"])),(l()(),e.rb(139,0,null,null,0,"div",[["id","chart_hora_punta"]],null,null,null,null,null)),(l()(),e.rb(140,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(141,0,null,null,110,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(142,0,null,null,109,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),e.rb(143,0,null,null,108,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(144,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(145,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(146,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(147,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(148,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Que clientes consumen mas?"])),(l()(),e.rb(150,0,null,null,101,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(151,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(152,0,null,null,96,"table",[["class","table_sm mat-table"],["mat-table",""],["style","width: 100%"]],null,null,null,y,_)),e.qb(153,2342912,null,4,p.n,[e.t,e.h,e.k,[8,null],[2,h.b],m.d,v.a],{dataSource:[0,"dataSource"]},null),e.Hb(603979776,2,{_contentColumnDefs:1}),e.Hb(603979776,3,{_contentRowDefs:1}),e.Hb(603979776,4,{_contentHeaderRowDefs:1}),e.Hb(603979776,5,{_contentFooterRowDefs:1}),(l()(),e.rb(158,0,null,null,11,null,null,null,null,null,null,null)),e.qb(159,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,6,{cell:0}),e.Hb(335544320,7,{headerCell:0}),e.Hb(335544320,8,{footerCell:0}),e.Gb(2048,[[2,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,gl)),e.qb(165,16384,null,0,p.i,[e.N],null,null),e.Gb(2048,[[7,4]],b.j,null,[p.i]),(l()(),e.ib(0,null,null,2,null,vl)),e.qb(168,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[6,4]],b.b,null,[p.b]),(l()(),e.rb(170,0,null,null,11,null,null,null,null,null,null,null)),e.qb(171,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,9,{cell:0}),e.Hb(335544320,10,{headerCell:0}),e.Hb(335544320,11,{footerCell:0}),e.Gb(2048,[[2,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,_l)),e.qb(177,16384,null,0,p.i,[e.N],null,null),e.Gb(2048,[[10,4]],b.j,null,[p.i]),(l()(),e.ib(0,null,null,2,null,yl)),e.qb(180,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[9,4]],b.b,null,[p.b]),(l()(),e.rb(182,0,null,null,11,null,null,null,null,null,null,null)),e.qb(183,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,12,{cell:0}),e.Hb(335544320,13,{headerCell:0}),e.Hb(335544320,14,{footerCell:0}),e.Gb(2048,[[2,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,xl)),e.qb(189,16384,null,0,p.i,[e.N],null,null),e.Gb(2048,[[13,4]],b.j,null,[p.i]),(l()(),e.ib(0,null,null,2,null,Al)),e.qb(192,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[12,4]],b.b,null,[p.b]),(l()(),e.rb(194,0,null,null,11,null,null,null,null,null,null,null)),e.qb(195,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,15,{cell:0}),e.Hb(335544320,16,{headerCell:0}),e.Hb(335544320,17,{footerCell:0}),e.Gb(2048,[[2,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,wl)),e.qb(201,16384,null,0,p.i,[e.N],null,null),e.Gb(2048,[[16,4]],b.j,null,[p.i]),(l()(),e.ib(0,null,null,2,null,kl)),e.qb(204,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[15,4]],b.b,null,[p.b]),(l()(),e.rb(206,0,null,null,11,null,null,null,null,null,null,null)),e.qb(207,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,18,{cell:0}),e.Hb(335544320,19,{headerCell:0}),e.Hb(335544320,20,{footerCell:0}),e.Gb(2048,[[2,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,Cl)),e.qb(213,16384,null,0,p.i,[e.N],null,null),e.Gb(2048,[[19,4]],b.j,null,[p.i]),(l()(),e.ib(0,null,null,2,null,Ll)),e.qb(216,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[18,4]],b.b,null,[p.b]),(l()(),e.rb(218,0,null,null,11,null,null,null,null,null,null,null)),e.qb(219,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,21,{cell:0}),e.Hb(335544320,22,{headerCell:0}),e.Hb(335544320,23,{footerCell:0}),e.Gb(2048,[[2,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,Dl)),e.qb(225,16384,null,0,p.i,[e.N],null,null),e.Gb(2048,[[22,4]],b.j,null,[p.i]),(l()(),e.ib(0,null,null,2,null,Sl)),e.qb(228,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[21,4]],b.b,null,[p.b]),(l()(),e.rb(230,0,null,null,11,null,null,null,null,null,null,null)),e.qb(231,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,24,{cell:0}),e.Hb(335544320,25,{headerCell:0}),e.Hb(335544320,26,{footerCell:0}),e.Gb(2048,[[2,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,Ml)),e.qb(237,16384,null,0,p.i,[e.N],null,null),e.Gb(2048,[[25,4]],b.j,null,[p.i]),(l()(),e.ib(0,null,null,2,null,Bl)),e.qb(240,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[24,4]],b.b,null,[p.b]),(l()(),e.rb(242,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),e.ib(0,null,null,2,null,Fl)),e.qb(244,540672,null,0,p.k,[e.N,e.t],{columns:[0,"columns"]},null),e.Gb(2048,[[4,4]],b.l,null,[p.k]),(l()(),e.ib(0,null,null,2,null,Rl)),e.qb(247,540672,null,0,p.m,[e.N,e.t],{columns:[0,"columns"]},null),e.Gb(2048,[[3,4]],b.n,null,[p.m]),(l()(),e.rb(249,0,null,null,2,"mat-paginator",[["class","mat-paginator"],["showFirstLastButtons",""]],null,null,null,tl,Q)),e.qb(250,245760,[[1,4]],0,D.b,[D.c,e.h],{pageSizeOptions:[0,"pageSizeOptions"],showFirstLastButtons:[1,"showFirstLastButtons"]},null),e.Cb(251,3),(l()(),e.rb(252,0,null,null,103,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(253,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),e.rb(254,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(255,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(256,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(257,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(258,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(259,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Tipo de clientes."])),(l()(),e.rb(261,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(262,0,null,null,0,"div",[["id","chart_clie_tpc"]],null,null,null,null,null)),(l()(),e.rb(263,0,null,null,92,"div",[["class","col-md-8"]],null,null,null,null,null)),(l()(),e.rb(264,0,null,null,91,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(265,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(266,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(267,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(268,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(269,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cual es la tasa de participaci\xf3n de mis clientes en este \xfaltimo mes?"])),(l()(),e.rb(271,0,null,null,84,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(272,0,null,null,83,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(273,0,null,null,44,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e.rb(274,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),e.rb(275,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(276,null,["","%"])),(l()(),e.rb(277,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Clientes nuevos"])),(l()(),e.rb(279,0,null,null,4,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["En este periodo se obtuvo "])),(l()(),e.rb(281,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(282,null,["",""])),(l()(),e.Jb(-1,null,[" clientes nuevos"])),(l()(),e.rb(284,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(285,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.qb(286,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Jb(287,null,["","%"])),(l()(),e.rb(288,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" mas"])),(l()(),e.rb(290,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" menos"])),(l()(),e.Jb(-1,null,[" que el mes pasado. "])),(l()(),e.rb(293,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(294,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.rb(295,0,null,null,22,"div",[],null,null,null,null,null)),(l()(),e.rb(296,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(297,null,["","%"])),(l()(),e.rb(298,0,null,null,4,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(299,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Tasa de retenci\xf3n"])),(l()(),e.rb(301,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" La retenci\xf3n de clientes supone la capacidad que tiene el negocio para retener o fidelizar a sus clientes."])),(l()(),e.rb(303,0,null,null,4,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["En este periodo "])),(l()(),e.rb(305,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(306,null,["",""])),(l()(),e.Jb(-1,null,[" clientes volvieron a consumir m\xe1s de una vez."])),(l()(),e.rb(308,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(309,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.qb(310,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Jb(311,null,[""," clientes "])),(l()(),e.rb(312,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" mas"])),(l()(),e.rb(314,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" menos"])),(l()(),e.Jb(-1,null,[" que el mes pasado. "])),(l()(),e.rb(317,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(318,0,null,null,37,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e.rb(319,0,null,null,15,"div",[],null,null,null,null,null)),(l()(),e.rb(320,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(321,null,["",""])),(l()(),e.rb(322,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07 font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Ticket Promedio."])),(l()(),e.rb(324,0,null,null,1,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Indica el gasto promedio por cada cosumo."])),(l()(),e.rb(326,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(327,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.qb(328,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Jb(329,null,["",""])),(l()(),e.rb(330,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" mas"])),(l()(),e.rb(332,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" menos"])),(l()(),e.Jb(-1,null,[" que el mes pasado. "])),(l()(),e.rb(335,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(336,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.rb(337,0,null,null,18,"div",[],null,null,null,null,null)),(l()(),e.rb(338,0,null,null,1,"div",[["class","label-title-chart"]],null,null,null,null,null)),(l()(),e.Jb(339,null,["","%"])),(l()(),e.rb(340,0,null,null,2,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(341,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Tasa de deserci\xf3n o abandono."])),(l()(),e.rb(343,0,null,null,3,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(344,0,null,null,1,"span",[["class","font-weight-bold"]],null,null,null,null,null)),(l()(),e.Jb(345,null,[""," clientes"])),(l()(),e.Jb(-1,null,[" no volvieron a venir en este ultimo mes."])),(l()(),e.rb(347,0,null,null,8,"div",[["class","label-subtitle-chart c-plomo-0 fsize-07"]],null,null,null,null,null)),(l()(),e.rb(348,0,null,null,2,"span",[["class","font-weight-bold"]],null,null,null,null,null)),e.qb(349,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Jb(350,null,["","%"])),(l()(),e.rb(351,0,null,null,1,"span",[["class","font-weight-bold text-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" mas"])),(l()(),e.rb(353,0,null,null,1,"span",[["class","font-weight-bold text-success"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Jb(-1,null,[" menos"])),(l()(),e.Jb(-1,null,[" que el mes pasado. "])),(l()(),e.rb(356,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(357,0,null,null,0,"br",[],null,null,null,null,null))],function(l,n){var t=n.component;l(n,53,0,"font-weight-bold",0===t.por_signo_week_now?"text-success":"text-danger"),l(n,71,0,""!=t.dia_week_mas_venta),l(n,73,0,""!=t.dias_paso_meta_week),l(n,93,0,"font-weight-bold",0===t.por_signo_mes_now?"text-success":"text-danger"),l(n,111,0,""!=t.dia_week_mas_venta),l(n,113,0,""!=t.dias_paso_meta_week),l(n,153,0,t.data_cliente_consumo),l(n,159,0,"Cliente"),l(n,171,0,"tp"),l(n,183,0,"Visitas"),l(n,195,0,"Frecuencia"),l(n,207,0,"Ultima Visita"),l(n,219,0,"Consumo Promedio"),l(n,231,0,"Consumo Total"),l(n,244,0,t.displayedColumns),l(n,247,0,t.displayedColumns);var e=l(n,251,0,5,10,20);l(n,250,0,e,""),l(n,286,0,"font-weight-bold",0===t.tasa_clientes_nuevos_signo?"text-success":"text-danger"),l(n,310,0,"font-weight-bold",0===t.tasa_clientes_retencion_signo?"text-success":"text-danger"),l(n,328,0,"font-weight-bold",0===t.tasa_clientes_tiket_promedio_signo?"text-success":"text-danger"),l(n,349,0,"font-weight-bold",t.tasa_clientes_desercion_signo?"text-success":"text-danger")},function(l,n){var t=n.component;l(n,48,0,t.total_venta_last_week_now),l(n,54,0,t.por_venta_now_vs_previus_week),l(n,56,0,t.dif_venta_now_vs_previus_week),l(n,57,0,1===t.por_signo_week_now),l(n,59,0,0===t.por_signo_week_now),l(n,65,0,t.count_pedidos_last_week_now),l(n,88,0,t.total_venta_last_mes_now),l(n,94,0,t.por_venta_now_vs_previus_mes),l(n,96,0,t.dif_venta_now_vs_previus_mes),l(n,97,0,1===t.por_signo_mes_now),l(n,99,0,0===t.por_signo_mes_now),l(n,105,0,t.count_pedidos_last_mes_now),l(n,130,0,t.horas_punta),l(n,136,0,t.horas_libres),l(n,276,0,t.tasa_clientes_nuevos),l(n,282,0,t.tasa_clientes_nuevos_count),l(n,287,0,t.tasa_clientes_nuevos_mes_anterior),l(n,288,0,1===t.tasa_clientes_nuevos_signo),l(n,290,0,0===t.tasa_clientes_nuevos_signo),l(n,297,0,t.tasa_clientes_retencion),l(n,306,0,t.tasa_clientes_retencion_count),l(n,311,0,t.tasa_clientes_retencion_mes_anterior),l(n,312,0,1===t.tasa_clientes_retencion_signo),l(n,314,0,0===t.tasa_clientes_retencion_signo),l(n,321,0,t.tasa_clientes_tiket_promedio),l(n,329,0,t.tasa_clientes_tiket_promedio_mes_anterior),l(n,330,0,1===t.tasa_clientes_tiket_promedio_signo),l(n,332,0,0===t.tasa_clientes_tiket_promedio_signo),l(n,339,0,t.tasa_clientes_desercion),l(n,345,0,t.tasa_clientes_desercion_count),l(n,350,0,t.tasa_clientes_desercion_mes_anterior),l(n,351,0,t.tasa_clientes_desercion_signo),l(n,353,0,!t.tasa_clientes_desercion_signo)})}function Nl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-indicadores",[],null,null,null,El,fl)),e.qb(1,114688,null,0,dl,[ul.a,il.a,al.a,ol.a,sl.a],null,null)],function(l,n){l(n,1,0)},null)}var Tl=e.nb("app-indicadores",dl,Nl,{},{},[]),Gl=function(){function l(l,n,t,e,r){this.crudService=l,this.plantillaGraficos=n,this.utilesService=t,this.d3FormatLocalService=e,this.progressLoadingService=r,this.meta=new cl.a,this.dtTipoPago=new p.o,this.dtPedido=new p.o,this.dtTipoPagoSumTotal=0,this.dtPedidoSumTotal=0,this.displayedColumns=["Tipo","Importe"],this.displayedColumnsPedido=["#","tipo","importe"]}return l.prototype.ngOnInit=function(){this.progressLoadingService.setLoading(!0),el.timeFormatDefaultLocale(this.d3FormatLocalService.formatoLocal()),this.format_money=el.format("(,.2f"),this.getDataMeta()},l.prototype.getDataMeta=function(){var l=this;this.crudService.getAll("estadistica","getMetaSede",!1,!1).subscribe(function(n){if(n.success){if(0===n.data.length)return l.meta.diaria=0,l.meta.mensual=0,void(l.meta.anual=0);l.meta.diaria=n.data[0].diaria,l.meta.mensual=n.data[0].mensual,l.meta.anual=n.data[0].anual,l.pintarData()}else console.log(n)})},l.prototype.pintarData=function(){this.xAsignarPlantillaGraficos(),this.xLoadEICaja()},l.prototype.xLoadEICaja=function(){var l=this;this.crudService.getAll("estadistica","getEICajaNowRP",!1,!1).subscribe(function(n){l.datos_eicaja=n.data,l.xVentasDelDia()})},l.prototype.xVentasDelDia=function(){var l=this;this.crudService.getAll("estadistica","getVentasNowRP",!1,!1).subscribe(function(n){l.datos_rp=n.data,console.log(l.datos_rp);var t=rl(l.datos_rp),e=(t.groupAll(),t.dimension(function(l){return l.estado}),t.dimension(function(l){return l.idtipo_pago})),r=t.dimension(function(l){return l.idusuario}),u=t.dimension(function(l){return l.idtipo_consumo}),a=l.meta.diaria,i=parseFloat(t.groupAll().reduceSum(function(l){return l.total}).value().toString()),o=Math.round(i/a*100).toFixed(0);l.chart_meta_dia.load({columns:[["Meta Diaria",o]]}),console.log(e),l.dtTipoPago=e.group().reduce(function(l,n,t){return l.count+=1,l.xtotal+=parseFloat(n.total),l.descripcion=n.tp_pago,l.img=n.tp_img,l},function(l,n,t){return l.count-=1,l.xtotal-=parseFloat(n.total),l.descripcion=n.tp_pago,l.img=n.tp_img,l},function(){return{count:0,xtotal:0,f:"",descripcion:"",img:""}}).all(),l.dtTipoPagoSumTotal=l.getSumArray(l.dtTipoPago,"value.xtotal"),console.log(l.dtTipoPagoSumTotal),console.log(l.dtTipoPago),console.log(e);var s=r.group().reduce(function(l,n,t){return l.count+=1,l.xtotal+=parseFloat(n.total),l.idusuario=n.idusuario,l.nombres=n.nombres,l.usuario=n.usuario,l.listTpPago[n.idtipo_pago]?(l.listTpPago[n.idtipo_pago].descripcion=n.tp_pago,l.listTpPago[n.idtipo_pago].total+=parseFloat(n.total),l.listTpPago[n.idtipo_pago].count++):l.listTpPago[n.idtipo_pago]={descripcion:n.tp_pago,total:parseFloat(n.total),count:1},l},function(l,n,t){return l.count-=1,l.xtotal-=parseFloat(n.total),l.idusuario=n.idusuario,l.nombres=n.nombres,l.usuario=n.usuario,l.listTpPago[n.idtipo_pago].descripcion=n.tp_pago,l},function(){return{count:0,xtotal:0,f:"",nombres:"",usuario:"",idusuario:0,listTpPago:{},totalIngreso:0,totalSalida:0}}).all();console.log("usuario",s),l.dtCajaActiva=s.map(function(l){return l.value}),l.datos_eicaja.length>0&&l.datos_eicaja.map(function(n,t){var e=l.dtCajaActiva.filter(function(l){return l.idusuario===n.idusuario})[0];e.listCaja?e.listCaja[t]=n:(e.listCaja=[],e.listCaja.push(n)),1===n.idtipo?e.totalIngreso=n.importe:e.totalSalida=n.importe}),console.log("this.dtCajaActiva",l.dtCajaActiva),l.dtPedido=u.group().reduce(function(l,n,t){return l.count+=1,l.xtotal+=parseFloat(n.total),l.descripcion=n.tp_consumo,l},function(l,n,t){return l.count-=1,l.xtotal-=parseFloat(n.total),l.descripcion=n.tp_consumo,l},function(){return{count:0,xtotal:0,descripcion:""}}).all(),console.log("dmTipoConsumo",l.dtPedido),l.dtPedidoSumTotal=l.getSumArray(l.dtPedido,"value.xtotal"),l.progressLoadingService.setLoading(!1)})},l.prototype.getSumArray=function(l,n){var t=n.split("."),e=t.length;return l.map(function(l){switch(e){case 1:return l[t[0]];case 2:return l[t[0]][t[1]]}}).reduce(function(l,n){return l+n},0)},l.prototype.xAsignarPlantillaGraficos=function(){this.chart_meta_dia=this.plantillaGraficos.plantillaGraficoGauge("chart_m_dia")},l}(),Ol=e.pb({encapsulation:0,styles:[[""]],data:{}});function Pl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,5,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"],["style","width: 65%"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.rb(2,0,null,null,3,"div",[["class","pt-1 pb-1"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,0,"img",[["alt","."],["class","pr-1"]],[[8,"src",4]],null,null,null,null)),(l()(),e.rb(4,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(5,null,["",""]))],null,function(l,n){l(n,3,0,e.tb(1,"assets/images/",n.context.$implicit.value.img,"")),l(n,5,0,n.context.$implicit.value.descripcion)})}function ql(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"td",[["class","mat-footer-cell"],["mat-footer-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.d,[b.d,e.k],null,null)],null,null)}function zl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"td",[["class","text-right mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.rb(2,0,null,null,2,"span",[["class","fs-14"]],null,null,null,null,null)),(l()(),e.Jb(3,null,["",""])),e.Fb(4,2)],null,function(l,n){var t=e.Kb(n,3,0,l(n,4,0,e.Bb(n.parent,0),n.context.$implicit.value.xtotal,"0.2"));l(n,3,0,t)})}function Hl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"td",[["class","text-right mat-footer-cell"],["mat-footer-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.d,[b.d,e.k],null,null),(l()(),e.rb(2,0,null,null,2,"span",[["class","fs-14 fw-600"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[""," "])),e.Fb(4,2)],null,function(l,n){var t=n.component,r=e.Kb(n,3,0,l(n,4,0,e.Bb(n.parent,0),t.dtTipoPagoSumTotal,"0.2"));l(n,3,0,r)})}function Jl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,L,C)),e.Gb(6144,null,b.m,null,[p.l]),e.qb(2,49152,null,0,p.l,[],null,null)],null,null)}function Il(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"tr",[["class","mat-footer-row"],["mat-footer-row",""],["role","row"]],null,null,null,k,w)),e.Gb(6144,null,b.g,null,[p.f]),e.qb(2,49152,null,0,p.f,[],null,null)],null,null)}function Yl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"span",[["class","fs-10 pr-2"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["",""])),(l()(),e.rb(3,0,null,null,3,"span",[],null,null,null,null,null)),e.qb(4,278528,null,0,m.k,[e.t,e.u,e.k,e.F],{ngClass:[0,"ngClass"]},null),(l()(),e.Jb(5,null,["",""])),e.Fb(6,2),(l()(),e.rb(7,0,null,null,0,"br",[],null,null,null,null,null))],function(l,n){l(n,4,0,2==n.context.$implicit.idtipo?"text-danger":"text-success")},function(l,n){l(n,2,0,n.context.$implicit.tipo);var t=e.Kb(n,5,0,l(n,6,0,e.Bb(n.parent.parent,0),n.context.$implicit.importe,"0.2"));l(n,5,0,t)})}function Vl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"span",[["class","fs-10 pr-2"]],null,null,null,null,null)),(l()(),e.Jb(2,null,["",""])),(l()(),e.rb(3,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),e.Jb(4,null,["",""])),e.Fb(5,2),(l()(),e.rb(6,0,null,null,0,"br",[],null,null,null,null,null))],null,function(l,n){l(n,2,0,n.context.$implicit.value.descripcion);var t=e.Kb(n,4,0,l(n,5,0,e.Bb(n.parent.parent,0),n.context.$implicit.value.total,"0.2"));l(n,4,0,t)})}function jl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,35,"div",[["class","flex-container"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"div",[["class","titutlo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Nombres"])),(l()(),e.rb(4,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Jb(6,null,["",""])),(l()(),e.rb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,2,"span",[["class","text-secondary fs-12"]],null,null,null,null,null)),(l()(),e.Jb(9,null,["",""])),e.Fb(10,1),(l()(),e.rb(11,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,1,"div",[["class","titutlo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Ingreso / salida"])),(l()(),e.ib(16777216,null,null,1,null,Yl)),e.qb(15,278528,null,0,m.l,[e.Q,e.N,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(16,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,1,"div",[["class","titutlo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Ventas"])),(l()(),e.ib(16777216,null,null,2,null,Vl)),e.qb(20,278528,null,0,m.l,[e.Q,e.N,e.t],{ngForOf:[0,"ngForOf"]},null),e.Db(0,m.g,[e.u]),(l()(),e.rb(22,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,1,"div",[["class","titutlo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Total Ventas"])),(l()(),e.rb(25,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.rb(26,0,null,null,2,"span",[["class","fw-600"]],null,null,null,null,null)),(l()(),e.Jb(27,null,["",""])),e.Fb(28,2),(l()(),e.rb(29,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.rb(30,0,null,null,1,"div",[["class","titutlo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Efectivo en Caja"])),(l()(),e.rb(32,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.rb(33,0,null,null,2,"span",[["class","fw-600"]],null,null,null,null,null)),(l()(),e.Jb(34,null,["",""])),e.Fb(35,2)],function(l,n){l(n,15,0,n.context.$implicit.listCaja),l(n,20,0,e.Kb(n,20,0,e.Bb(n,21).transform(n.context.$implicit.listTpPago)))},function(l,n){l(n,6,0,n.context.$implicit.nombres);var t=e.Kb(n,9,0,l(n,10,0,e.Bb(n.parent,1),n.context.$implicit.usuario));l(n,9,0,t);var r=e.Kb(n,27,0,l(n,28,0,e.Bb(n.parent,0),n.context.$implicit.xtotal,"0.2"));l(n,27,0,r);var u=e.Kb(n,34,0,l(n,35,0,e.Bb(n.parent,0),n.context.$implicit.xtotal+n.context.$implicit.totalIngreso-n.context.$implicit.totalSalida,"0.2"));l(n,34,0,u)})}function Ul(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"],["style","width: 20%"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.rb(2,0,null,null,1,"div",[["class","pt-1 pb-1"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," "]))],null,function(l,n){l(n,3,0,n.context.$implicit.value.count)})}function Kl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"td",[["class","mat-footer-cell"],["mat-footer-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.d,[b.d,e.k],null,null)],null,null)}function Ql(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,3,"td",[["class","mat-cell"],["mat-cell",""],["role","gridcell"],["style","width: 65%"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.rb(2,0,null,null,1,"div",[["class","pt-1 pb-1"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[" "," "]))],null,function(l,n){l(n,3,0,n.context.$implicit.value.descripcion)})}function Xl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"td",[["class","mat-footer-cell"],["mat-footer-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.d,[b.d,e.k],null,null)],null,null)}function $l(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"td",[["class","text-right mat-cell"],["mat-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.a,[b.d,e.k],null,null),(l()(),e.rb(2,0,null,null,2,"span",[["class","fs-14"]],null,null,null,null,null)),(l()(),e.Jb(3,null,["",""])),e.Fb(4,2)],null,function(l,n){var t=e.Kb(n,3,0,l(n,4,0,e.Bb(n.parent,0),n.context.$implicit.value.xtotal,"0.2"));l(n,3,0,t)})}function Wl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,4,"td",[["class","text-right mat-footer-cell"],["mat-footer-cell",""],["role","gridcell"]],null,null,null,null,null)),e.qb(1,16384,null,0,p.d,[b.d,e.k],null,null),(l()(),e.rb(2,0,null,null,2,"span",[["class","fs-14 fw-600"]],null,null,null,null,null)),(l()(),e.Jb(3,null,[""," "])),e.Fb(4,2)],null,function(l,n){var t=n.component,r=e.Kb(n,3,0,l(n,4,0,e.Bb(n.parent,0),t.dtPedidoSumTotal,"0.2"));l(n,3,0,r)})}function Zl(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"tr",[["class","mat-row"],["mat-row",""],["role","row"]],null,null,null,L,C)),e.Gb(6144,null,b.m,null,[p.l]),e.qb(2,49152,null,0,p.l,[],null,null)],null,null)}function ln(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,2,"tr",[["class","mat-footer-row"],["mat-footer-row",""],["role","row"]],null,null,null,k,w)),e.Gb(6144,null,b.g,null,[p.f]),e.qb(2,49152,null,0,p.f,[],null,null)],null,null)}function nn(l){return e.Lb(0,[e.Db(0,m.e,[e.v]),e.Db(0,m.v,[]),(l()(),e.rb(2,0,null,null,138,"div",[["class","animated fadeIn"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,56,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,9,"div",[["class","col-md-6 text-center"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(8,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Meta Diaria"])),(l()(),e.rb(12,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,0,"div",[["id","chart_m_dia"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,45,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,44,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(16,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(20,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Ventas totales"])),(l()(),e.rb(22,0,null,null,37,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,36,"table",[["class","table_sm mat-table"],["mat-table",""],["style","width: 100%"]],null,null,null,y,_)),e.qb(24,2342912,null,4,p.n,[e.t,e.h,e.k,[8,null],[2,h.b],m.d,v.a],{dataSource:[0,"dataSource"]},null),e.Hb(603979776,1,{_contentColumnDefs:1}),e.Hb(603979776,2,{_contentRowDefs:1}),e.Hb(603979776,3,{_contentHeaderRowDefs:1}),e.Hb(603979776,4,{_contentFooterRowDefs:1}),(l()(),e.rb(29,0,null,null,11,null,null,null,null,null,null,null)),e.qb(30,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,5,{cell:0}),e.Hb(335544320,6,{headerCell:0}),e.Hb(335544320,7,{footerCell:0}),e.Gb(2048,[[1,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,Pl)),e.qb(36,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[5,4]],b.b,null,[p.b]),(l()(),e.ib(0,null,null,2,null,ql)),e.qb(39,16384,null,0,p.e,[e.N],null,null),e.Gb(2048,[[7,4]],b.f,null,[p.e]),(l()(),e.rb(41,0,null,null,11,null,null,null,null,null,null,null)),e.qb(42,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,8,{cell:0}),e.Hb(335544320,9,{headerCell:0}),e.Hb(335544320,10,{footerCell:0}),e.Gb(2048,[[1,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,zl)),e.qb(48,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[8,4]],b.b,null,[p.b]),(l()(),e.ib(0,null,null,2,null,Hl)),e.qb(51,16384,null,0,p.e,[e.N],null,null),e.Gb(2048,[[10,4]],b.f,null,[p.e]),(l()(),e.rb(53,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),e.ib(0,null,null,2,null,Jl)),e.qb(55,540672,null,0,p.m,[e.N,e.t],{columns:[0,"columns"]},null),e.Gb(2048,[[2,4]],b.n,null,[p.m]),(l()(),e.ib(0,null,null,2,null,Il)),e.qb(58,540672,null,0,p.g,[e.N,e.t],{columns:[0,"columns"]},null),e.Gb(2048,[[4,4]],b.h,null,[p.g]),(l()(),e.rb(60,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(61,0,null,null,10,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),e.rb(62,0,null,null,9,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(63,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(64,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(65,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(66,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(67,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cajas Activas"])),(l()(),e.rb(69,0,null,null,2,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.ib(16777216,null,null,1,null,jl)),e.qb(71,278528,null,0,m.l,[e.Q,e.N,e.t],{ngForOf:[0,"ngForOf"]},null),(l()(),e.rb(72,0,null,null,68,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(73,0,null,null,57,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e.rb(74,0,null,null,56,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(75,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(76,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(77,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(78,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(79,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Tipos de consumo"])),(l()(),e.rb(81,0,null,null,49,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(82,0,null,null,48,"table",[["class","table_sm mat-table"],["mat-table",""],["style","width: 100%"]],null,null,null,y,_)),e.qb(83,2342912,null,4,p.n,[e.t,e.h,e.k,[8,null],[2,h.b],m.d,v.a],{dataSource:[0,"dataSource"]},null),e.Hb(603979776,11,{_contentColumnDefs:1}),e.Hb(603979776,12,{_contentRowDefs:1}),e.Hb(603979776,13,{_contentHeaderRowDefs:1}),e.Hb(603979776,14,{_contentFooterRowDefs:1}),(l()(),e.rb(88,0,null,null,11,null,null,null,null,null,null,null)),e.qb(89,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,15,{cell:0}),e.Hb(335544320,16,{headerCell:0}),e.Hb(335544320,17,{footerCell:0}),e.Gb(2048,[[11,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,Ul)),e.qb(95,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[15,4]],b.b,null,[p.b]),(l()(),e.ib(0,null,null,2,null,Kl)),e.qb(98,16384,null,0,p.e,[e.N],null,null),e.Gb(2048,[[17,4]],b.f,null,[p.e]),(l()(),e.rb(100,0,null,null,11,null,null,null,null,null,null,null)),e.qb(101,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,18,{cell:0}),e.Hb(335544320,19,{headerCell:0}),e.Hb(335544320,20,{footerCell:0}),e.Gb(2048,[[11,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,Ql)),e.qb(107,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[18,4]],b.b,null,[p.b]),(l()(),e.ib(0,null,null,2,null,Xl)),e.qb(110,16384,null,0,p.e,[e.N],null,null),e.Gb(2048,[[20,4]],b.f,null,[p.e]),(l()(),e.rb(112,0,null,null,11,null,null,null,null,null,null,null)),e.qb(113,16384,null,3,p.c,[],{name:[0,"name"]},null),e.Hb(335544320,21,{cell:0}),e.Hb(335544320,22,{headerCell:0}),e.Hb(335544320,23,{footerCell:0}),e.Gb(2048,[[11,4]],b.d,null,[p.c]),(l()(),e.ib(0,null,null,2,null,$l)),e.qb(119,16384,null,0,p.b,[e.N],null,null),e.Gb(2048,[[21,4]],b.b,null,[p.b]),(l()(),e.ib(0,null,null,2,null,Wl)),e.qb(122,16384,null,0,p.e,[e.N],null,null),e.Gb(2048,[[23,4]],b.f,null,[p.e]),(l()(),e.rb(124,0,null,null,6,"tbody",[],null,null,null,null,null)),(l()(),e.ib(0,null,null,2,null,Zl)),e.qb(126,540672,null,0,p.m,[e.N,e.t],{columns:[0,"columns"]},null),e.Gb(2048,[[12,4]],b.n,null,[p.m]),(l()(),e.ib(0,null,null,2,null,ln)),e.qb(129,540672,null,0,p.g,[e.N,e.t],{columns:[0,"columns"]},null),e.Gb(2048,[[14,4]],b.h,null,[p.g]),(l()(),e.rb(131,0,null,null,9,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),e.rb(132,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(133,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(134,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(135,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(136,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(137,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Encuesta (feedback)"])),(l()(),e.rb(139,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(140,0,null,null,0,"img",[["alt",".."],["src","assets/images/feedback.PNG"]],null,null,null,null,null))],function(l,n){var t=n.component;l(n,24,0,t.dtTipoPago),l(n,30,0,"Tipo"),l(n,42,0,"Importe"),l(n,55,0,t.displayedColumns),l(n,58,0,t.displayedColumns),l(n,71,0,t.dtCajaActiva),l(n,83,0,t.dtPedido),l(n,89,0,"#"),l(n,101,0,"tipo"),l(n,113,0,"importe"),l(n,126,0,t.displayedColumnsPedido),l(n,129,0,t.displayedColumnsPedido)},null)}function tn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-ventas-hoy",[],null,null,null,nn,Ol)),e.qb(1,114688,null,0,Gl,[ul.a,il.a,al.a,ol.a,sl.a],null,null)],function(l,n){l(n,1,0)},null)}var en=e.nb("app-ventas-hoy",Gl,tn,{},{},[]),rn=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),un=e.pb({encapsulation:0,styles:[[""]],data:{}});function an(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" clientes works!\n"]))],null,null)}function on(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-clientes",[],null,null,null,an,un)),e.qb(1,114688,null,0,rn,[],null,null)],function(l,n){l(n,1,0)},null)}var sn=e.nb("app-clientes",rn,on,{},{},[]),cn=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),dn=e.pb({encapsulation:0,styles:[[""]],data:{}});function fn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" colaboradores works!\n"]))],null,null)}function pn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-colaboradores",[],null,null,null,fn,dn)),e.qb(1,114688,null,0,cn,[],null,null)],function(l,n){l(n,1,0)},null)}var bn=e.nb("app-colaboradores",cn,pn,{},{},[]),mn=function(){function l(){}return l.prototype.ngOnInit=function(){},l}(),hn=e.pb({encapsulation:0,styles:[[""]],data:{}});function gn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Jb(-1,null,[" comparativa works!\n"]))],null,null)}function vn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-comparativa",[],null,null,null,gn,hn)),e.qb(1,114688,null,0,mn,[],null,null)],function(l,n){l(n,1,0)},null)}var _n=e.nb("app-comparativa",mn,vn,{},{},[]),yn=t("oM4G"),xn=function(){function l(l,n,t,e){this.crudService=l,this.plantillaGraficos=n,this.utilesService=t,this.d3FormatLocalService=e,this.meta=new cl.a,this.fecha_actual=""}return l.prototype.ngOnInit=function(){el.timeFormatDefaultLocale(this.d3FormatLocalService.formatoLocal()),this.getDataMeta(),window.addEventListener("resize",this.resize.bind(this))},l.prototype.getDataMeta=function(){var l=this;this.crudService.getAll("estadistica","getMetaSede",!1,!1).subscribe(function(n){if(n.success){if(0===n.data.length)return l.meta.diaria=0,l.meta.mensual=0,void(l.meta.anual=0);l.meta.diaria=n.data[0].diaria,l.meta.mensual=n.data[0].mensual,l.meta.anual=n.data[0].anual,l.xGetFechaActual()}else console.log(n)})},l.prototype.resize=function(){yn.renderAll()},l.prototype.xDc=function(){var l=yn.pieChart("#chart-consumo"),n=yn.rowChart("#chart-row-spenders"),t=rl([{Name:"Mr A",Spent:40,Year:2011},{Name:"Mr B",Spent:10,Year:2011},{Name:"Mr C",Spent:40,Year:2011},{Name:"Mr A",Spent:70,Year:2012},{Name:"Mr B",Spent:20,Year:2012},{Name:"Mr B",Spent:50,Year:2013},{Name:"Mr C",Spent:30,Year:2013}]),e=t.dimension(function(l){return+l.Year}),r=t.dimension(function(l){return Math.floor(l.Spent/10)}),u=t.dimension(function(l){return l.Name}),a=e.group().reduceSum(function(l){return+l.Spent}),i=u.group().reduceSum(function(l){return+l.Spent});r.group().reduceCount(),l.width(200).height(200).slicesCap(4).externalLabels(50).dimension(e).group(a).legend(yn.legend()).minAngleForLabel(0).drawPaths(!0).externalRadiusPadding(50).externalLabels(40).on("pretransition",function(l){l.selectAll(".dc-legend-item text").text("").append("tspan").text(function(l){return l.name}).append("tspan").attr("x",100).attr("text-anchor","end").text(function(l){return l.data})}),n.width(250).height(200).dimension(u).group(i).elasticX(!0).renderLabel(!0),yn.renderAll()},l.prototype.xGetFechaActual=function(){var l=this;this.crudService.getTimeNow().subscribe(function(n){l.fecha_actual=n.data.f_actual,l.xGenerarGraficos()})},l.prototype.xGenerarGraficos=function(){var l=this;this.crudService.getAll("estadistica","getConsumo",!1,!1).subscribe(function(n){l.datos_consumo=l.d3FormatLocalService.setearDataTimeDimension(n.data,"fecha_hora_a",l.fecha_actual),console.log("datos consumo",l.datos_consumo),el.timeFormat("%Y-%m-%d"),el.timeParse("%d/%m/%Y");var t=el.timeFormat("%A"),e=(el.timeFormat("%B"),el.timeFormat("%m"),rl(l.datos_consumo)),r=(e.groupAll(),e.dimension(function(l){return l.yy}),e.dimension(function(l){return l.mm})),u=e.dimension(function(l){return l.dd}),a=(e.dimension(function(l){return l.num_dia_semana}),e.dimension(function(l){return l.hora24}),el.timeFormat("%B")),i=el.format("(,.2f"),o=new Date(r.bottom(1)[0].mm),s=new Date(r.top(1)[0].mm),c=yn.compositeChart("#chart_consumo_mm_y_rentabilidad"),d=r.group().reduceCount(function(l){return l.idpedido}),f=r.group().reduceSum(function(l){return+l.total_a});c.x(el.scaleTime().domain([o.setMonth(o.getMonth()-2),s.setMonth(s.getMonth()+2)])).round(el.timeMonth.round).xUnits(el.timeMonths).legend(yn.legend().x(80).y(20).itemHeight(13).gap(5)).renderHorizontalGridLines(!0).title(function(l){return a(l.key)+": "+i(l.value)}).yAxisPadding("10%").compose([yn.barChart(c).dimension(r).group(f,"Importe consumidos").renderLabel(!0).centerBar(!0),yn.lineChart(c).dimension(r).colors("red").group(d,"Cantidad productos consumidos").dashStyle([5,3]).renderDataPoints({radius:5})]).elasticY(!0).brushOn(!1),c.margins().left=50;var p=yn.barChart("#chart_consumo_mm_y_rentabilidad_dd"),b=u.group().reduceSum(function(l){return+l.total_a});p.height(200).x(el.scaleTime().domain([o.setDate(o.getDay()-2),s.setDate(s.getDay()+2)])).round(el.timeDay.round).xUnits(el.timeDays).title(function(l){return t(l.key)+": "+i(l.value)}).yAxisPadding("10%").elasticY(!0).brushOn(!1).mouseZoomable(!0).dimension(u).group(b).centerBar(!0).controlsUseVisibility(!0);var m=yn.pieChart("#chart_tipo_consumo"),h=e.dimension(function(l){return l.tpc_descripcion}),g=h.group().reduceSum(function(l){return+l.total_a});m.height(200).slicesCap(4).dimension(h).group(g).minAngleForLabel(0).drawPaths(!0).externalRadiusPadding(50).externalLabels(40),yn.renderAll()})},l.prototype.xAsignarPlantillaGraficos=function(){this.chart_consumo_mm=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_consumo_mm","bar","%b"),this.chart_consumo_dd=this.plantillaGraficos.plantillaGraficoLineYFalse("chart_consumo_dd","bar","%a")},l}(),An=e.pb({encapsulation:0,styles:[[".bar[_ngcontent-%COMP%]:hover{fill:#17bf3c}.tooltip[_ngcontent-%COMP%]{background:#b0c4de;border:0;border-radius:8px;font-size:12px;font-weight:700;height:20px;padding:2px;pointer-events:none;position:absolute;text-align:center;width:120p}"]],data:{}});function wn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,10,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,9,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(3,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Cual es el consumo por meses y la rentabilidad obtenida?"])),(l()(),e.rb(9,0,null,null,2,"div",[["class","p-2"]],null,null,null,null,null)),(l()(),e.rb(10,0,null,null,0,"div",[["class","w-100"],["id","chart_consumo_mm_y_rentabilidad"]],null,null,null,null,null)),(l()(),e.rb(11,0,null,null,0,"div",[["class","w-100"],["id","chart_consumo_mm_y_rentabilidad_dd"]],null,null,null,null,null)),(l()(),e.rb(12,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.rb(13,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),e.rb(14,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(15,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(16,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(19,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Tipo de consumo"])),(l()(),e.rb(21,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(22,0,null,null,0,"div",[["id","chart_tipo_consumo"]],null,null,null,null,null)),(l()(),e.rb(23,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),e.rb(24,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(25,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(26,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(27,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(28,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(29,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["D\xeda de m\xe1s consumo?"])),(l()(),e.rb(31,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(32,0,null,null,0,"div",[["id","chart_dia_consumo"]],null,null,null,null,null)),(l()(),e.rb(33,0,null,null,9,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),e.rb(34,0,null,null,8,"div",[["class","m-card"]],null,null,null,null,null)),(l()(),e.rb(35,0,null,null,5,"div",[["class","m-card-toolbar"]],null,null,null,null,null)),(l()(),e.rb(36,0,null,null,2,"div",[["class","botones"]],null,null,null,null,null)),(l()(),e.rb(37,0,null,null,1,"span",[["class","btn btn-config"]],null,null,null,null,null)),(l()(),e.rb(38,0,null,null,0,"i",[["class","fas fa-ellipsis-v"]],null,null,null,null,null)),(l()(),e.rb(39,0,null,null,1,"span",[["class","titulo"]],null,null,null,null,null)),(l()(),e.Jb(-1,null,["Carta de m\xe1s consumo?"])),(l()(),e.rb(41,0,null,null,1,"div",[["class","m-card-body"]],null,null,null,null,null)),(l()(),e.rb(42,0,null,null,0,"div",[["id","chart_carta_consumo"]],null,null,null,null,null)),(l()(),e.rb(43,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(44,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(45,0,null,null,0,"div",[["id","chart-row-spenders"]],null,null,null,null,null)),(l()(),e.rb(46,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(47,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.rb(48,0,null,null,0,"div",[["id","chart-compositeChart"]],null,null,null,null,null))],null,null)}function kn(l){return e.Lb(0,[(l()(),e.rb(0,0,null,null,1,"app-consumo",[],null,null,null,wn,An)),e.qb(1,114688,null,0,xn,[ul.a,il.a,al.a,ol.a],null,null)],function(l,n){l(n,1,0)},null)}var Cn=e.nb("app-consumo",xn,kn,{},{},[]),Ln=t("OkvK"),Dn=t("t/Na"),Sn=t("FVSy"),Mn=t("SMsm"),Bn=t("/VYK"),Fn=t("b716"),Rn=t("La40"),En=t("jAig"),Nn={titulo:"Ventas"},Tn={titulo:"Ventas: Indicadores Globales"},Gn={titulo:"Ventas: Tiempo Real"},On={titulo:"Ventas: Clientes"},Pn={titulo:"Ventas: Colaboradores"},qn={titulo:"Ventas: Comparativa"},zn={titulo:"Ventas: Consumo"},Hn=function(){return function(){}}();t.d(n,"VentasModuleNgFactory",function(){return Jn});var Jn=e.ob(r,[],function(l){return e.yb([e.zb(512,e.j,e.db,[[8,[u.a,a.a,f,Tl,en,sn,bn,_n,Cn]],[3,e.j],e.y]),e.zb(4608,m.o,m.n,[e.v,[2,m.A]]),e.zb(4608,M.c,M.c,[]),e.zb(4608,g.d,g.d,[]),e.zb(5120,Ln.b,Ln.a,[[3,Ln.b]]),e.zb(4608,S.c,S.c,[S.h,S.d,e.j,S.g,S.e,e.r,e.A,m.d,h.b]),e.zb(5120,S.i,S.j,[S.c]),e.zb(5120,B.a,B.b,[S.c]),e.zb(5120,F.b,F.c,[S.c]),e.zb(5120,D.c,D.a,[[3,D.c]]),e.zb(4608,Dn.j,Dn.p,[m.d,e.C,Dn.n]),e.zb(4608,Dn.q,Dn.q,[Dn.j,Dn.o]),e.zb(5120,Dn.a,function(l){return[l]},[Dn.q]),e.zb(4608,Dn.m,Dn.m,[]),e.zb(6144,Dn.k,null,[Dn.m]),e.zb(4608,Dn.i,Dn.i,[Dn.k]),e.zb(6144,Dn.b,null,[Dn.i]),e.zb(4608,Dn.f,Dn.l,[Dn.b,e.r]),e.zb(4608,Dn.c,Dn.c,[Dn.f]),e.zb(1073742336,m.c,m.c,[]),e.zb(1073742336,h.a,h.a,[]),e.zb(1073742336,g.l,g.l,[[2,g.e]]),e.zb(1073742336,Sn.a,Sn.a,[]),e.zb(1073742336,v.b,v.b,[]),e.zb(1073742336,g.v,g.v,[]),e.zb(1073742336,R.c,R.c,[]),e.zb(1073742336,Mn.a,Mn.a,[]),e.zb(1073742336,Bn.c,Bn.c,[]),e.zb(1073742336,M.d,M.d,[]),e.zb(1073742336,T.d,T.d,[]),e.zb(1073742336,Fn.b,Fn.b,[]),e.zb(1073742336,Ln.c,Ln.c,[]),e.zb(1073742336,E.e,E.e,[]),e.zb(1073742336,N.b,N.b,[]),e.zb(1073742336,S.f,S.f,[]),e.zb(1073742336,g.t,g.t,[]),e.zb(1073742336,g.r,g.r,[]),e.zb(1073742336,B.d,B.d,[]),e.zb(1073742336,G.a,G.a,[]),e.zb(1073742336,F.e,F.e,[]),e.zb(1073742336,D.d,D.d,[]),e.zb(1073742336,b.p,b.p,[]),e.zb(1073742336,p.p,p.p,[]),e.zb(1073742336,Rn.a,Rn.a,[]),e.zb(1073742336,En.a,En.a,[]),e.zb(1073742336,Dn.e,Dn.e,[]),e.zb(1073742336,Dn.d,Dn.d,[]),e.zb(1073742336,i.o,i.o,[[2,i.u],[2,i.m]]),e.zb(1073742336,Hn,Hn,[]),e.zb(1073742336,r,r,[]),e.zb(256,Dn.n,"XSRF-TOKEN",[]),e.zb(256,Dn.o,"X-XSRF-TOKEN",[]),e.zb(1024,i.k,function(){return[[{path:"",component:o,data:Nn,children:[{path:"",redirectTo:"indicadores"},{path:"indicadores",component:dl,data:Tn},{path:"time-real",component:Gl,data:Gn},{path:"clientes",component:rn,data:On},{path:"colaboradores",component:cn,data:Pn},{path:"comparativa",component:mn,data:qn},{path:"consumo",component:xn,data:zn}]}]]},[])])})},oM4G:function(l,n,t){var e,r,u;r=[t("VphZ"),t("iAOh")],void 0===(u="function"==typeof(e=function(l,n){"use strict";var t={version:"3.1.0",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};t.chartRegistry=function(){var l={};function n(n){return n||(n=t.constants.DEFAULT_CHART_GROUP),l[n]||(l[n]=[]),n}return{has:function(n){for(var t in l)if(l[t].indexOf(n)>=0)return!0;return!1},register:function(t,e){e=n(e),l[e].push(t)},deregister:function(t,e){e=n(e);for(var r=0;r<l[e].length;r++)if(l[e][r].anchorName()===t.anchorName()){l[e].splice(r,1);break}},clear:function(n){n?delete l[n]:l={}},list:function(t){return t=n(t),l[t]}}}(),t.registerChart=function(l,n){t.chartRegistry.register(l,n)},t.deregisterChart=function(l,n){t.chartRegistry.deregister(l,n)},t.hasChart=function(l){return t.chartRegistry.has(l)},t.deregisterAllCharts=function(l){t.chartRegistry.clear(l)},t.filterAll=function(l){for(var n=t.chartRegistry.list(l),e=0;e<n.length;++e)n[e].filterAll()},t.refocusAll=function(l){for(var n=t.chartRegistry.list(l),e=0;e<n.length;++e)n[e].focus&&n[e].focus()},t.renderAll=function(l){for(var n=t.chartRegistry.list(l),e=0;e<n.length;++e)n[e].render();null!==t._renderlet&&t._renderlet(l)},t.redrawAll=function(l){for(var n=t.chartRegistry.list(l),e=0;e<n.length;++e)n[e].redraw();null!==t._renderlet&&t._renderlet(l)},t.disableTransitions=!1,t.transition=function(l,n,e,r){if(t.disableTransitions||n<=0)return l;var u=l.transition(r);return(n>=0||void 0!==n)&&(u=u.duration(n)),(e>=0||void 0!==e)&&(u=u.delay(e)),u},t.optionalTransition=function(l,n,e,r){return l?function(l){return t.transition(l,n,e,r)}:function(l){return l}},t.afterTransition=function(l,n){if(l.empty()||!l.duration)n.call(l);else{var t=0;l.each(function(){++t}).on("end",function(){--t||n.call(l)})}},t.units={},t.units.integers=function(l,n){return Math.abs(n-l)},t.units.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},t.units.fp={},t.units.fp.precision=function(l){var n=function(l,e){var r=Math.abs((e-l)/n.resolution);return t.utils.isNegligible(r-Math.floor(r))?Math.floor(r):Math.ceil(r)};return n.resolution=l,n},t.round={},t.round.floor=function(l){return Math.floor(l)},t.round.ceil=function(l){return Math.ceil(l)},t.round.round=function(l){return Math.round(l)},t.override=function(l,n,t){l["_"+n]=l[n],l[n]=t},t.renderlet=function(l){return arguments.length?(t._renderlet=l,t):t._renderlet},t.instanceOfChart=function(l){return l instanceof Object&&l.__dcFlag__&&!0},Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(l){var n=(this.document||this.ownerDocument).querySelectorAll(l),t=n.length;do{--t}while(t>=0&&n.item(t)!==this);return t>-1}),t.errors={},t.errors.Exception=function(l){var n=l||"Unexpected internal error";this.message=n,this.toString=function(){return n},this.stack=(new Error).stack},t.errors.Exception.prototype=Object.create(Error.prototype),t.errors.Exception.prototype.constructor=t.errors.Exception,t.errors.InvalidStateException=function(){t.errors.Exception.apply(this,arguments)},t.errors.InvalidStateException.prototype=Object.create(t.errors.Exception.prototype),t.errors.InvalidStateException.prototype.constructor=t.errors.InvalidStateException,t.errors.BadArgumentException=function(){t.errors.Exception.apply(this,arguments)},t.errors.BadArgumentException.prototype=Object.create(t.errors.Exception.prototype),t.errors.BadArgumentException.prototype.constructor=t.errors.BadArgumentException,t.dateFormat=l.timeFormat("%m/%d/%Y"),t.printers={},t.printers.filters=function(l){for(var n="",e=0;e<l.length;++e)e>0&&(n+=", "),n+=t.printers.filter(l[e]);return n},t.printers.filter=function(l){var n="";return null!=l&&(l instanceof Array?l.length>=2?n="["+l.map(function(l){return t.utils.printSingleValue(l)}).join(" -> ")+"]":l.length>=1&&(n=t.utils.printSingleValue(l[0])):n=t.utils.printSingleValue(l)),n},t.pluck=function(l,n){return n?function(t,e){return n.call(t,t[l],e)}:function(n){return n[l]}},t.utils={},t.utils.printSingleValue=function(l){var n=""+l;return l instanceof Date?n=t.dateFormat(l):"string"==typeof l?n=l:t.utils.isFloat(l)?n=t.utils.printSingleValue.fformat(l):t.utils.isInteger(l)&&(n=Math.round(l)),n},t.utils.printSingleValue.fformat=l.format(".2f"),t.utils.toTimeFunc=function(l){return"time"+l.charAt(0).toUpperCase()+l.slice(1)},t.utils.add=function(n,e,r){if("string"==typeof e&&(e=e.replace("%","")),n instanceof Date)return"string"==typeof e&&(e=+e),"millis"===r?new Date(n.getTime()+e):("function"!=typeof(r=r||l.timeDay)&&(r=l[t.utils.toTimeFunc(r)]),r.offset(n,e));if("string"==typeof e){var u=+e/100;return n>0?n*(1+u):n*(1-u)}return n+e},t.utils.subtract=function(n,e,r){if("string"==typeof e&&(e=e.replace("%","")),n instanceof Date)return"string"==typeof e&&(e=+e),"millis"===r?new Date(n.getTime()-e):("function"!=typeof(r=r||l.timeDay)&&(r=l[t.utils.toTimeFunc(r)]),r.offset(n,-e));if("string"==typeof e){var u=+e/100;return n<0?n*(1+u):n*(1-u)}return n-e},t.utils.isNumber=function(l){return l===+l},t.utils.isFloat=function(l){return l===+l&&l!==(0|l)},t.utils.isInteger=function(l){return l===+l&&l===(0|l)},t.utils.isNegligible=function(l){return!t.utils.isNumber(l)||l<t.constants.NEGLIGIBLE_NUMBER&&l>-t.constants.NEGLIGIBLE_NUMBER},t.utils.clamp=function(l,n,t){return l<n?n:l>t?t:l},t.utils.constant=function(l){return function(){return l}};var e,r,u,a,i,o=0;function s(l,n){for(var t=0;t<l.length;t++)if(l[t].key===n)return l[t]}return t.utils.uniqueId=function(){return++o},t.utils.nameToId=function(l){return l.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},t.utils.appendOrSelect=function(l,n,t){t=t||n;var e=l.select(n);return e.empty()&&(e=l.append(t)),e},t.utils.safeNumber=function(l){return t.utils.isNumber(+l)?+l:0},t.utils.arraysEqual=function(l,n){return!l&&!n||!(!l||!n)&&l.length===n.length&&l.every(function(l,t){return l.valueOf()===n[t].valueOf()})},t.utils.allChildren=function(l){var n=[];if(n.push(l.path),console.log("currentNode",l),l.children)for(var e=0;e<l.children.length;e++)n=n.concat(t.utils.allChildren(l.children[e]));return n},t.utils.toHierarchy=function(l,n){for(var t={key:"root",children:[]},e=0;e<l.length;e++)for(var r=l[e],u=r.key,a=n(r),i=t,o=0;o<u.length;o++){var c,d=u.slice(0,o+1),f=i.children,p=u[o];o+1<u.length?(void 0===(c=s(f,p))&&f.push(c={key:p,children:[],path:d}),i=c):f.push(c={key:p,value:a,data:r,path:d})}return t},t.utils.getAncestors=function(l){for(var n=[],t=l;t.parent;)n.unshift(t.name),t=t.parent;return n},t.utils.arraysIdentical=function(l,n){var t=l.length;if(t!==n.length)return!1;for(;t--;)if(l[t]!==n[t])return!1;return!0},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(l,n){if(null===l)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(l),e=1;e<arguments.length;e++){var r=arguments[e];if(null!==r)for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},writable:!0,configurable:!0}),t.logger=(r={},(e={enableDebugLog:!1,warn:function(l){return console&&(console.warn?console.warn(l):console.log&&console.log(l)),e}}).warnOnce=function(l){return r[l]||(r[l]=!0,t.logger.warn(l)),e},e.debug=function(l){return e.enableDebugLog&&console&&(console.debug?console.debug(l):console.log&&console.log(l)),e},e.deprecate=function(l,n){var t=!1;return function(){return t||(e.warn(n),t=!0),l.apply(this,arguments)}},e.annotate=function(l,n){var t=!1;return function(){return t||(console.groupCollapsed(n),console.trace(),console.groupEnd(),t=!0),l.apply(this,arguments)}},e),t.config=(i=a=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],(u={}).defaultColors=function(l){return arguments.length?(i=l,u):(i===a&&t.logger.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),i)},u),t.events={current:null},t.events.trigger=function(l,n){n?(t.events.current=l,setTimeout(function(){l===t.events.current&&l()},n)):l()},t.filters={},t.filters.RangedFilter=function(l,n){var t=new Array(l,n);return t.isFiltered=function(l){return l>=this[0]&&l<this[1]},t.filterType="RangedFilter",t},t.filters.TwoDimensionalFilter=function(l){if(null===l)return null;var n=l;return n.isFiltered=function(l){return l.length&&l.length===n.length&&l[0]===n[0]&&l[1]===n[1]},n.filterType="TwoDimensionalFilter",n},t.filters.RangedTwoDimensionalFilter=function(l){if(null===l)return null;var n,t=l;return n=t[0]instanceof Array?[[Math.min(l[0][0],l[1][0]),Math.min(l[0][1],l[1][1])],[Math.max(l[0][0],l[1][0]),Math.max(l[0][1],l[1][1])]]:[[l[0],-1/0],[l[1],1/0]],t.isFiltered=function(l){var t,e;return l instanceof Array?(t=l[0],e=l[1]):(t=l,e=n[0][1]),t>=n[0][0]&&t<n[1][0]&&e>=n[0][1]&&e<n[1][1]},t.filterType="RangedTwoDimensionalFilter",t},t.filters.HierarchyFilter=function(l){if(null===l)return null;var n=l.slice(0);return n.isFiltered=function(l){if(!(n.length&&l&&l.length&&l.length>=n.length))return!1;for(var t=0;t<n.length;t++)if(l[t]!==n[t])return!1;return!0},n},t.baseMixin=function(e){var r,u,a,i,o,s;e.__dcFlag__=t.utils.uniqueId();var c,d,f,p,b,m=200,h=function(l){var n=l&&l.getBoundingClientRect&&l.getBoundingClientRect().width;return n&&n>m?n:m},g=h,v=200,_=function(l){var n=l&&l.getBoundingClientRect&&l.getBoundingClientRect().height;return n&&n>v?n:v},y=_,x=!1,A=t.pluck("key"),w=t.pluck("value"),k=t.pluck("key"),C=t.pluck("key"),L=!1,D=function(l){return e.keyAccessor()(l)+": "+e.valueAccessor()(l)},S=!0,M=!1,B=750,F=0,R=t.printers.filters,E=["dimension","group"],N=t.constants.DEFAULT_CHART_GROUP,T=l.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),G=[],O=function(l,n){return 0===n.length?l.filter(null):1!==n.length||n[0].isFiltered?1===n.length&&"RangedFilter"===n[0].filterType?l.filterRange(n[0]):l.filterFunction(function(l){for(var t=0;t<n.length;t++){var e=n[t];if(e.isFiltered&&e.isFiltered(l))return!0;if(e<=l&&e>=l)return!0}return!1}):l.filterExact(n[0]),n},P=function(l){return l.all()};function q(){o&&(x?o.attr("viewBox")||o.attr("viewBox","0 0 "+e.width()+" "+e.height()):o.attr("width",e.width()).attr("height",e.height()))}function z(l){if(!e[l]||!e[l]())throw new t.errors.InvalidStateException("Mandatory attribute chart."+l+" is missing on chart[#"+e.anchorName()+"]")}e.height=function(l){return arguments.length?(y=l?"function"==typeof l?l:t.utils.constant(l):_,d=void 0,e):(t.utils.isNumber(d)||(d=y(i.node())),d)},e.width=function(l){return arguments.length?(g=l?"function"==typeof l?l:t.utils.constant(l):h,c=void 0,e):(t.utils.isNumber(c)||(c=g(i.node())),c)},e.minWidth=function(l){return arguments.length?(m=l,e):m},e.minHeight=function(l){return arguments.length?(v=l,e):v},e.useViewBoxResizing=function(l){return arguments.length?(x=l,e):x},e.dimension=function(l){return arguments.length?(r=l,e.expireCache(),e):r},e.data=function(l){return arguments.length?(P="function"==typeof l?l:t.utils.constant(l),e.expireCache(),e):P.call(e,u)},e.group=function(l,n){return arguments.length?(u=l,e._groupName=n,e.expireCache(),e):u},e.ordering=function(l){return arguments.length?(f=n.quicksort.by(C=l),e.expireCache(),e):C},e._computeOrderedGroups=function(l){var t=l.slice(0);return t.length<=1?t:(f||(f=n.quicksort.by(C)),f(t,0,t.length))},e.filterAll=function(){return e.filter(null)},e.select=function(l){return i.select(l)},e.selectAll=function(l){return i?i.selectAll(l):null},e.anchor=function(n,r){if(!arguments.length)return a;if(t.instanceOfChart(n))(a=n.anchor()).children&&(a="#"+n.anchorName()),i=n.root(),s=!0;else{if(!n)throw new t.errors.BadArgumentException("parent must be defined");a=n.select&&n.classed?n.node():n,(i=l.select(a)).classed(t.constants.CHART_CLASS,!0),t.registerChart(e,r),s=!1}return N=r,e},e.anchorName=function(){var l=e.anchor();return l&&l.id?l.id:l&&l.replace?l.replace("#",""):"dc-chart"+e.chartID()},e.root=function(l){return arguments.length?(i=l,e):i},e.svg=function(l){return arguments.length?(o=l,e):o},e.resetSvg=function(){return e.select("svg").remove(),o=e.root().append("svg"),q(),o},e.filterPrinter=function(l){return arguments.length?(R=l,e):R},e.controlsUseVisibility=function(l){return arguments.length?(M=l,e):M},e.turnOnControls=function(){if(i){var l=e.controlsUseVisibility()?"visibility":"display";e.selectAll(".reset").style(l,null),e.selectAll(".filter").text(R(e.filters())).style(l,null)}return e},e.turnOffControls=function(){if(i){var l=e.controlsUseVisibility()?"visibility":"display",n=e.controlsUseVisibility()?"hidden":"none";e.selectAll(".reset").style(l,n),e.selectAll(".filter").style(l,n).text(e.filter())}return e},e.transitionDuration=function(l){return arguments.length?(B=l,e):B},e.transitionDelay=function(l){return arguments.length?(F=l,e):F},e._mandatoryAttributes=function(l){return arguments.length?(E=l,e):E},e.render=function(){d=c=void 0,T.call("preRender",e,e),E&&E.forEach(z);var l=e._doRender();return p&&p.render(),e._activateRenderlets("postRender"),l},e._activateRenderlets=function(l){T.call("pretransition",e,e),e.transitionDuration()>0&&o?o.transition().duration(e.transitionDuration()).delay(e.transitionDelay()).on("end",function(){T.call("renderlet",e,e),l&&T.call(l,e,e)}):(T.call("renderlet",e,e),l&&T.call(l,e,e))},e.redraw=function(){q(),T.call("preRedraw",e,e);var l=e._doRedraw();return p&&p.render(),e._activateRenderlets("postRedraw"),l},e.commitHandler=function(l){return arguments.length?(b=l,e):b},e.redrawGroup=function(){return b?b(!1,function(l,n){l?console.log(l):t.redrawAll(e.chartGroup())}):t.redrawAll(e.chartGroup()),e},e.renderGroup=function(){return b?b(!1,function(l,n){l?console.log(l):t.renderAll(e.chartGroup())}):t.renderAll(e.chartGroup()),e},e._invokeFilteredListener=function(l){void 0!==l&&T.call("filtered",e,e,l)},e._invokeZoomedListener=function(){T.call("zoomed",e,e)};var H=function(l,n){return null==n?l.length>0:l.some(function(l){return n<=l&&n>=l})};e.hasFilterHandler=function(l){return arguments.length?(H=l,e):H},e.hasFilter=function(l){return H(G,l)};var J=function(l,n){for(var t=0;t<l.length;t++)if(l[t]<=n&&l[t]>=n){l.splice(t,1);break}return l};e.removeFilterHandler=function(l){return arguments.length?(J=l,e):J};var I=function(l,n){return l.push(n),l};e.addFilterHandler=function(l){return arguments.length?(I=l,e):I};var Y=function(l){return[]};return e.resetFilterHandler=function(l){return arguments.length?(Y=l,e):Y},e.replaceFilter=function(l){return G=Y(G),e.filter(l),e},e.filter=function(l){if(!arguments.length)return G.length>0?G[0]:null;var n=G;return l instanceof Array&&l[0]instanceof Array&&!l.isFiltered?l[0].forEach(function(l){n=H(n,l)?J(n,l):I(n,l)}):n=null===l?Y(n):H(n,l)?J(n,l):I(n,l),G=function(l){if(e.dimension()&&e.dimension().filter){var n=O(e.dimension(),l);n&&(l=n)}return l}(n),e._invokeFilteredListener(l),null!==i&&e.hasFilter()?e.turnOnControls():e.turnOffControls(),e},e.filters=function(){return G},e.highlightSelected=function(n){l.select(n).classed(t.constants.SELECTED_CLASS,!0),l.select(n).classed(t.constants.DESELECTED_CLASS,!1)},e.fadeDeselected=function(n){l.select(n).classed(t.constants.SELECTED_CLASS,!1),l.select(n).classed(t.constants.DESELECTED_CLASS,!0)},e.resetHighlight=function(n){l.select(n).classed(t.constants.SELECTED_CLASS,!1),l.select(n).classed(t.constants.DESELECTED_CLASS,!1)},e.onClick=function(l){var n=e.keyAccessor()(l);t.events.trigger(function(){e.filter(n),e.redrawGroup()})},e.filterHandler=function(l){return arguments.length?(O=l,e):O},e._doRender=function(){return e},e._doRedraw=function(){return e},e.legendables=function(){return[]},e.legendHighlight=function(){},e.legendReset=function(){},e.legendToggle=function(){},e.isLegendableHidden=function(){return!1},e.keyAccessor=function(l){return arguments.length?(A=l,e):A},e.valueAccessor=function(l){return arguments.length?(w=l,e):w},e.label=function(l,n){return arguments.length?(k=l,(void 0===n||n)&&(L=!0),e):k},e.renderLabel=function(l){return arguments.length?(L=l,e):L},e.title=function(l){return arguments.length?(D=l,e):D},e.renderTitle=function(l){return arguments.length?(S=l,e):S},e.renderlet=t.logger.deprecate(function(l){return e.on("renderlet."+t.utils.uniqueId(),l),e},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),e.chartGroup=function(l){return arguments.length?(s||t.deregisterChart(e,N),N=l,s||t.registerChart(e,N),e):N},e.expireCache=function(){return e},e.legend=function(l){return arguments.length?((p=l).parent(e),e):p},e.chartID=function(){return e.__dcFlag__},e.options=function(l){var n=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var r in l)"function"==typeof e[r]?l[r]instanceof Array&&-1!==n.indexOf(r)?e[r].apply(e,l[r]):e[r].call(e,l[r]):t.logger.debug("Not a valid option setter name: "+r);return e},e.on=function(l,n){return T.on(l,n),e},e},t.marginMixin=function(l){var n={top:10,right:50,bottom:30,left:30};return l.margins=function(t){return arguments.length?(n=t,l):n},l.effectiveWidth=function(){return l.width()-l.margins().left-l.margins().right},l.effectiveHeight=function(){return l.height()-l.margins().top-l.margins().bottom},l},t.colorMixin=function(n){var e,r=l.scaleOrdinal(t.config.defaultColors()),u=!0,a=function(l){return n.keyAccessor()(l)};return n.colors=function(e){return arguments.length?(r=e instanceof Array?l.scaleQuantize().range(e):"function"==typeof e?e:t.utils.constant(e),n):r},n.ordinalColors=function(t){return n.colors(l.scaleOrdinal().range(t))},n.linearColors=function(t){return n.colors(l.scaleLinear().range(t).interpolate(l.interpolateHcl))},n.colorAccessor=function(l){return arguments.length?(a=l,u=!1,n):a},n.defaultColorAccessor=function(){return u},n.colorDomain=function(l){return arguments.length?(r.domain(l),n):r.domain()},n.calculateColorDomain=function(){var t=[l.min(n.data(),n.colorAccessor()),l.max(n.data(),n.colorAccessor())];return r.domain(t),n},n.getColor=function(l,n){return e?e.call(this,l,n):r(a.call(this,l,n))},n.colorCalculator=function(l){return arguments.length?(e=l,n):e||n.getColor},n},t.coordinateGridMixin=function(n){var e,r,u,a,i,o,s="grid-line",c="vertical";(n=t.colorMixin(t.marginMixin(t.baseMixin(n)))).colors(l.scaleOrdinal(l.schemeCategory10)),n._mandatoryAttributes().push("x");var d,f,p,b,m,h,g,v,_,y=l.axisBottom(),x=t.units.integers,A=0,w=l.timeDay,k=!1,C=0,L=null,D=0,S=!1,M=0,B=l.brushX(),F=!0,R=!1,E=!1,N=!1,T=!1,G=[1,1/0],O=!0,P=l.zoom().on("zoom",function(){if(l.event.sourceEvent&&(!l.event.sourceEvent.type||-1===["start","zoom","end"].indexOf(l.event.sourceEvent.type))){var t=l.event.transform.rescaleX(i).domain();n.focus(t,!1)}}),q=l.zoom().on("zoom",null),z=!1,H=!1,J=0,I=.5,Y=0,V=!1;function j(){return V?l.axisRight():l.axisLeft()}function U(){return n.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}function K(){var l=t.utils.appendOrSelect(e,"defs"),r=U(),u=t.utils.appendOrSelect(l,"#"+r,"clipPath").attr("id",r),a=2*J;t.utils.appendOrSelect(u,"rect").attr("width",n.xAxisLength()+a).attr("height",n.yAxisHeight()+a).attr("transform","translate(-"+J+", -"+J+")")}function Q(e){n.isOrdinal()&&(F=!1),function(e,r){n.isOrdinal()?(a.bandwidth||(t.logger.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),a=l.scaleBand().domain(a.domain())),(n.elasticX()||0===a.domain().length)&&a.domain(n._ordinalXDomain())):n.elasticX()&&a.domain([n.xAxisMin(),n.xAxisMax()]);var u=a.domain();!r&&t.utils.arraysEqual(f,u)||n.rescale(),f=u,n.isOrdinal()?a.range([0,n.xAxisLength()]).paddingInner(Y).paddingOuter(n._useOuterPadding()?I:0):a.range([0,n.xAxisLength()]),y=y.scale(n.x()),function(l){var e=l.select("g."+c);if(N){e.empty()&&(e=l.insert("g",":first-child").attr("class",s+" "+c).attr("transform","translate("+n.margins().left+","+n.margins().top+")"));var r=y.tickValues()?y.tickValues():"function"==typeof a.ticks?a.ticks.apply(a,y.tickArguments()):a.domain(),u=e.selectAll("line").data(r),i=u.enter().append("line").attr("x1",function(l){return a(l)}).attr("y1",n._xAxisY()-n.margins().top).attr("x2",function(l){return a(l)}).attr("y2",0).attr("opacity",0);t.transition(i,n.transitionDuration(),n.transitionDelay()).attr("opacity",.5),t.transition(u,n.transitionDuration(),n.transitionDelay()).attr("x1",function(l){return a(l)}).attr("y1",n._xAxisY()-n.margins().top).attr("x2",function(l){return a(l)}).attr("y2",0),u.exit().remove()}else e.selectAll("line").remove()}(e)}(n.g(),e),n._prepareYAxis(n.g()),n.plotData(),(n.elasticX()||T||e)&&n.renderXAxis(n.g()),(n.elasticY()||T||e)&&n.renderYAxis(n.g()),e?n.renderBrush(n.g(),!1):n.redrawBrush(n.filter(),T),n.fadeDeselectedArea(n.filter()),T=!1}function X(){var t,e,r,u;P&&P.transform(n.root(),(t=n.x().domain(),r=((e=o)[1]-e[0])/(t[1]-t[0]),u=-1*i(t[0]),l.zoomIdentity.scale(r).translate(u,0)))}function $(l,n){return l&&2===l.length&&n&&2===n.length?((l[0]>n[1]||l[1]<n[0])&&console.warn("Could not intersect extents, will reset"),[l[0]>n[0]?l[0]:n[0],l[1]<n[1]?l[1]:n[1]]):l}return n.rescale=function(){return g=void 0,T=!0,n},n.resizing=function(){return T},n.rangeChart=function(l){return arguments.length?((v=l).focusChart(n),n):v},n.zoomScale=function(l){return arguments.length?(G=l,n):G},n.zoomOutRestrict=function(l){return arguments.length?(O=l,n):O},n._generateG=function(l){e=void 0===l?n.svg():l;var t=window.location.href.split("#")[0];return r=e.append("g"),u=r.append("g").attr("class","chart-body").attr("transform","translate("+n.margins().left+", "+n.margins().top+")").attr("clip-path","url("+t+"#"+U()+")"),r},n.g=function(l){return arguments.length?(r=l,n):r},n.mouseZoomable=function(l){return arguments.length?(H=l,n):H},n.chartBodyG=function(l){return arguments.length?(u=l,n):u},n.x=function(l){return arguments.length?(o=(a=l).domain(),n.rescale(),n):a},n.xOriginalDomain=function(){return o},n.xUnits=function(l){return arguments.length?(x=l,n):x},n.xAxis=function(l){return arguments.length?(y=l,n):y},n.elasticX=function(l){return arguments.length?(k=l,n):k},n.xAxisPadding=function(l){return arguments.length?(A=l,n):A},n.xAxisPaddingUnit=function(l){return arguments.length?(w=l,n):w},n.xUnitCount=function(){return void 0===g&&(n.isOrdinal()?g=n.x().domain().length:(g=n.xUnits()(n.x().domain()[0],n.x().domain()[1]))instanceof Array&&(g=g.length)),g},n.useRightYAxis=function(l){return arguments.length?(V!==l&&L&&t.logger.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),V=l,n):V},n.isOrdinal=function(){return n.xUnits()===t.units.ordinal},n._useOuterPadding=function(){return!0},n._ordinalXDomain=function(){return n._computeOrderedGroups(n.data()).map(n.keyAccessor())},n.renderXAxis=function(l){var e=l.select("g.x");e.empty()&&(e=l.append("g").attr("class","axis x").attr("transform","translate("+n.margins().left+","+n._xAxisY()+")"));var r=l.select("text.x-axis-label");r.empty()&&n.xAxisLabel()&&(r=l.append("text").attr("class","x-axis-label").attr("transform","translate("+(n.margins().left+n.xAxisLength()/2)+","+(n.height()-C)+")").attr("text-anchor","middle")),n.xAxisLabel()&&r.text()!==n.xAxisLabel()&&r.text(n.xAxisLabel()),t.transition(e,n.transitionDuration(),n.transitionDelay()).attr("transform","translate("+n.margins().left+","+n._xAxisY()+")").call(y),t.transition(r,n.transitionDuration(),n.transitionDelay()).attr("transform","translate("+(n.margins().left+n.xAxisLength()/2)+","+(n.height()-C)+")")},n._xAxisY=function(){return n.height()-n.margins().bottom},n.xAxisLength=function(){return n.effectiveWidth()},n.xAxisLabel=function(l,t){return arguments.length?(d=l,n.margins().bottom-=C,C=void 0===t?12:t,n.margins().bottom+=C,n):d},n._prepareYAxis=function(t){if(void 0===p||n.elasticY()){void 0===p&&(p=l.scaleLinear());var e=n.yAxisMin()||0,r=n.yAxisMax()||0;p.domain([e,r]).rangeRound([n.yAxisHeight(),0])}p.range([n.yAxisHeight(),0]),L||(L=j()),L.scale(p),n._renderHorizontalGridLinesForAxis(t,p,L)},n.renderYAxisLabel=function(l,e,r,u){u=u||M;var a=n.g().select("text.y-axis-label."+l+"-label"),i=n.margins().top+n.yAxisHeight()/2;a.empty()&&e&&(a=n.g().append("text").attr("transform","translate("+u+","+i+"),rotate("+r+")").attr("class","y-axis-label "+l+"-label").attr("text-anchor","middle").text(e)),e&&a.text()!==e&&a.text(e),t.transition(a,n.transitionDuration(),n.transitionDelay()).attr("transform","translate("+u+","+i+"),rotate("+r+")")},n.renderYAxisAt=function(l,e,r){var u=n.g().select("g."+l);u.empty()&&(u=n.g().append("g").attr("class","axis "+l).attr("transform","translate("+r+","+n.margins().top+")")),t.transition(u,n.transitionDuration(),n.transitionDelay()).attr("transform","translate("+r+","+n.margins().top+")").call(e)},n.renderYAxis=function(){var l=V?n.width()-n.margins().right:n._yAxisX();n.renderYAxisAt("y",L,l);var t=V?n.width()-M:M,e=V?90:-90;n.renderYAxisLabel("y",n.yAxisLabel(),e,t)},n._renderHorizontalGridLinesForAxis=function(l,e,r){var u=l.select("g.horizontal");if(E){var a=r.tickValues()?r.tickValues():e.ticks?e.ticks.apply(e,r.tickArguments()):e.domain();u.empty()&&(u=l.insert("g",":first-child").attr("class",s+" horizontal").attr("transform","translate("+n.margins().left+","+n.margins().top+")"));var i=u.selectAll("line").data(a),o=i.enter().append("line").attr("x1",1).attr("y1",function(l){return e(l)}).attr("x2",n.xAxisLength()).attr("y2",function(l){return e(l)}).attr("opacity",0);t.transition(o,n.transitionDuration(),n.transitionDelay()).attr("opacity",.5),t.transition(i,n.transitionDuration(),n.transitionDelay()).attr("x1",1).attr("y1",function(l){return e(l)}).attr("x2",n.xAxisLength()).attr("y2",function(l){return e(l)}),i.exit().remove()}else u.selectAll("line").remove()},n._yAxisX=function(){return n.useRightYAxis()?n.width()-n.margins().right:n.margins().left},n.yAxisLabel=function(l,t){return arguments.length?(b=l,n.margins().left-=M,M=void 0===t?12:t,n.margins().left+=M,n):b},n.y=function(l){return arguments.length?(p=l,n.rescale(),n):p},n.yAxis=function(l){return arguments.length?(L=l,n):(L||(L=j()),L)},n.elasticY=function(l){return arguments.length?(S=l,n):S},n.renderHorizontalGridLines=function(l){return arguments.length?(E=l,n):E},n.renderVerticalGridLines=function(l){return arguments.length?(N=l,n):N},n.xAxisMin=function(){var e=l.min(n.data(),function(l){return n.keyAccessor()(l)});return t.utils.subtract(e,A,w)},n.xAxisMax=function(){var e=l.max(n.data(),function(l){return n.keyAccessor()(l)});return t.utils.add(e,A,w)},n.yAxisMin=function(){var e=l.min(n.data(),function(l){return n.valueAccessor()(l)});return t.utils.subtract(e,D)},n.yAxisMax=function(){var e=l.max(n.data(),function(l){return n.valueAccessor()(l)});return t.utils.add(e,D)},n.yAxisPadding=function(l){return arguments.length?(D=l,n):D},n.yAxisHeight=function(){return n.effectiveHeight()},n.round=function(l){return arguments.length?(h=l,n):h},n._rangeBandPadding=function(l){return arguments.length?(Y=l,n):Y},n._outerRangeBandPadding=function(l){return arguments.length?(I=l,n):I},t.override(n,"filter",function(l){return arguments.length?(n._filter(l),n.redrawBrush(l,!1),n):n._filter()}),n.brush=function(l){return arguments.length?(B=l,n):B},n.renderBrush=function(l,t){F&&(B.on("start brush end",n._brushing),m=l.append("g").attr("class","brush").attr("transform","translate("+n.margins().left+","+n.margins().top+")"),n.setBrushExtents(),n.createBrushHandlePaths(m,t),n.redrawBrush(n.filter(),t))},n.createBrushHandlePaths=function(l){var t=l.selectAll("path.custom-brush-handle").data([{type:"w"},{type:"e"}]);(t=t.enter().append("path").attr("class","custom-brush-handle").merge(t)).attr("d",n.resizeHandlePath)},n.extendBrush=function(l){return l&&n.round()&&(l[0]=n.round()(l[0]),l[1]=n.round()(l[1])),l},n.brushIsEmpty=function(l){return!l||l[1]<=l[0]},n._brushing=function(){if(l.event.sourceEvent&&(!l.event.sourceEvent.type||-1===["start","brush","end"].indexOf(l.event.sourceEvent.type))){var e=l.event.selection;e&&(e=e.map(n.x().invert)),e=n.extendBrush(e),n.redrawBrush(e,!1);var r=n.brushIsEmpty(e)?null:t.filters.RangedFilter(e[0],e[1]);t.events.trigger(function(){n.applyBrushSelection(r)},t.constants.EVENT_DELAY)}},n.applyBrushSelection=function(l){n.replaceFilter(l),n.redrawGroup()},n.setBrushExtents=function(l){B.extent([[0,0],[n.effectiveWidth(),n.effectiveHeight()]]),m.call(B)},n.redrawBrush=function(l,e){if(F&&m)if(T&&n.setBrushExtents(e),l){var r=[a(l[0]),a(l[1])],u=t.optionalTransition(e,n.transitionDuration(),n.transitionDelay())(m);u.call(B.move,r),u.selectAll("path.custom-brush-handle").attr("display",null).attr("transform",function(n,t){return"translate("+a(l[t])+", 0)"}).attr("d",n.resizeHandlePath)}else m.call(B.move,null),m.selectAll("path.custom-brush-handle").attr("display","none");n.fadeDeselectedArea(l)},n.fadeDeselectedArea=function(l){},n.resizeHandlePath=function(l){var t=+("e"===(l=l.type)),e=t?1:-1,r=n.effectiveHeight()/3;return"M"+.5*e+","+r+"A6,6 0 0 "+t+" "+6.5*e+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+t+" "+.5*e+","+2*r+"ZM"+2.5*e+","+(r+8)+"V"+(2*r-8)+"M"+4.5*e+","+(r+8)+"V"+(2*r-8)},n.clipPadding=function(l){return arguments.length?(J=l,n):J},n._preprocessData=function(){},n._doRender=function(){return n.resetSvg(),n._preprocessData(),n._generateG(),K(),Q(!0),i=a.copy(),H?n._enableMouseZoom():z&&n._disableMouseZoom(),n},n._doRedraw=function(){return n._preprocessData(),Q(!1),K(),n},n._enableMouseZoom=function(){z=!0;var l=[[0,0],[n.effectiveWidth(),n.effectiveHeight()]];if(P.scaleExtent(G).extent(l).duration(n.transitionDuration()),O){var t=Math.max(G[0],1);P.translateExtent(l).scaleExtent([t,G[1]])}n.root().call(P),X()},n._disableMouseZoom=function(){n.root().call(q)},n.focus=function(l,e){O&&(l=$(l,o),v&&(l=$(l,v.x().domain()))),function(l,e){var r,u;(u=l)instanceof Array&&u.length>1?(n.x().domain(l),r=t.filters.RangedFilter(l[0],l[1])):(n.x().domain(o),r=null),n.replaceFilter(r),n.rescale(),n.redraw(),e||(v&&!t.utils.arraysEqual(n.filter(),v.filter())&&t.events.trigger(function(){v.replaceFilter(r),v.redraw()}),n._invokeZoomedListener(),t.events.trigger(function(){n.redrawGroup()},t.constants.EVENT_DELAY))}(l,e),X()},n.refocused=function(){return!t.utils.arraysEqual(n.x().domain(),o)},n.focusChart=function(l){return arguments.length?(_=l,n.on("filtered.dcjs-range-chart",function(l){l.filter()?t.utils.arraysEqual(l.filter(),_.filter())||t.events.trigger(function(){_.focus(l.filter(),!0)}):t.events.trigger(function(){_.x().domain(_.xOriginalDomain(),!0)})}),n):_},n.brushOn=function(l){return arguments.length?(F=l,n):F},n.parentBrushOn=function(l){return arguments.length?(R=l,n):R},n.gBrush=function(){return m},n},t.stackMixin=function(n){function e(l,e){var r=l.accessor||n.valueAccessor();l.name=String(l.name||e);var u=l.group.all().map(function(t,e){return{x:n.keyAccessor()(t,e),y:l.hidden?null:r(t,e),data:t,layer:l.name,hidden:l.hidden}});l.domainValues=u.filter(function(){if(!n.x())return t.utils.constant(!0);var l=n.x().domain();return n.isOrdinal()?function(){return!0}:n.elasticX()?function(){return!0}:function(n){return n.x>=l[0]&&n.x<=l[l.length-1]}}()),l.values=n.evadeDomainFilter()?u:l.domainValues}var r=l.stack(),u=[],a={},i=!1,o=!1;function s(l){var n=u.map(t.pluck("name")).indexOf(l);return u[n]}function c(){var l=n.data().map(function(l){return l.domainValues});return Array.prototype.concat.apply([],l)}function d(l){return!l.hidden}return n.stack=function(l,t,e){if(!arguments.length)return u;arguments.length<=2&&(e=t);var r={group:l};return"string"==typeof t&&(r.name=t),"function"==typeof e&&(r.accessor=e),u.push(r),n},t.override(n,"group",function(l,t,e){return arguments.length?(u=[],a={},n.stack(l,t),e&&n.valueAccessor(e),n._group(l,t)):n._group()}),n.hidableStacks=function(l){return arguments.length?(i=l,n):i},n.hideStack=function(l){var t=s(l);return t&&(t.hidden=!0),n},n.showStack=function(l){var t=s(l);return t&&(t.hidden=!1),n},n.getValueAccessorByIndex=function(l){return u[l].accessor||n.valueAccessor()},n.yAxisMin=function(){var e=l.min(c(),function(l){return l.y<0?l.y+l.y0:l.y0});return t.utils.subtract(e,n.yAxisPadding())},n.yAxisMax=function(){var e=l.max(c(),function(l){return l.y>0?l.y+l.y0:l.y0});return t.utils.add(e,n.yAxisPadding())},n.xAxisMin=function(){var e=l.min(c(),t.pluck("x"));return t.utils.subtract(e,n.xAxisPadding(),n.xAxisPaddingUnit())},n.xAxisMax=function(){var e=l.max(c(),t.pluck("x"));return t.utils.add(e,n.xAxisPadding(),n.xAxisPaddingUnit())},t.override(n,"title",function(l,t){return l?"function"==typeof l?n._title(l):l===n._groupName&&"function"==typeof t?n._title(t):"function"!=typeof t?a[l]||n._title():(a[l]=t,n):n._title()}),n.stackLayout=function(l){return arguments.length?(r=l,n):r},n.evadeDomainFilter=function(l){return arguments.length?(o=l,n):o},n.data(function(){var l=u.filter(d);if(!l.length)return[];l.forEach(e);var t=l[0].values.map(function(n,t){var e={x:n.x};return l.forEach(function(l){e[l.name]=l.values[t].y}),e}),r=l.map(function(l){return l.name});return n.stackLayout().keys(r)(t).forEach(function(n,t){n.forEach(function(n,e){l[t].values[e].y0=n[0],l[t].values[e].y1=n[1]})}),l}),n._ordinalXDomain=function(){var l=c().map(t.pluck("data"));return n._computeOrderedGroups(l).map(n.keyAccessor())},n.colorAccessor(function(l){return this.layer||this.name||l.name||l.layer}),n.legendables=function(){return u.map(function(l,t){return{chart:n,name:l.name,hidden:l.hidden||!1,color:n.getColor.call(l,l.values,t)}})},n.isLegendableHidden=function(l){var n=s(l.name);return!!n&&n.hidden},n.legendToggle=function(l){i&&(n.isLegendableHidden(l)?n.showStack(l.name):n.hideStack(l.name),n.renderGroup())},n},t.capMixin=function(n){var e=1/0,r=!0,u="Others";n.ordering(function(l){return-l.value});var a=function(t,e){var r=l.sum(e,n.valueAccessor()),u=e.map(n.keyAccessor());return r>0?t.concat([{others:u,key:n.othersLabel(),value:r}]):t};return n.cappedKeyAccessor=function(l,t){return l.others?l.key:n.keyAccessor()(l,t)},n.cappedValueAccessor=function(l,t){return l.others?l.value:n.valueAccessor()(l,t)},n.data(function(l){if(e===1/0)return n._computeOrderedGroups(l.all());var t,u=l.all();if(u=n._computeOrderedGroups(u),e)if(r)t=u.slice(e),u=u.slice(0,e);else{var i=Math.max(0,u.length-e);t=u.slice(0,i),u=u.slice(i)}return a?a(u,t):u}),n.cap=function(l){return arguments.length?(e=l,n):e},n.takeFront=function(l){return arguments.length?(r=l,n):r},n.othersLabel=function(l){return arguments.length?(u=l,n):u},n.othersGrouper=function(l){return arguments.length?(a=l,n):a},t.override(n,"onClick",function(l){l.others&&n.filter([l.others]),n._onClick(l)}),n},t.bubbleMixin=function(n){var e=.3,r=10,u=!1,a=!1;n.BUBBLE_NODE_CLASS="node",n.BUBBLE_CLASS="bubble",n.MIN_RADIUS=10,(n=t.colorMixin(n)).renderLabel(!0),n.data(function(t){var e=t.all();if(u){var r=n.radiusValueAccessor();e.sort(function(n,t){return l.descending(r(n),r(t))})}return e});var i=l.scaleLinear().domain([0,100]),o=function(l){return l.r};n.r=function(l){return arguments.length?(i=l,n):i},n.elasticRadius=function(l){return arguments.length?(a=l,n):a},n.calculateRadiusDomain=function(){a&&n.r().domain([n.rMin(),n.rMax()])},n.radiusValueAccessor=function(l){return arguments.length?(o=l,n):o},n.rMin=function(){return l.min(n.data(),function(l){return n.radiusValueAccessor()(l)})},n.rMax=function(){return l.max(n.data(),function(l){return n.radiusValueAccessor()(l)})},n.bubbleR=function(l){var t=n.radiusValueAccessor()(l),e=n.r()(t);return(isNaN(e)||t<=0)&&(e=0),e};var s=function(l){return n.label()(l)},c=function(l){return n.bubbleR(l)>r},d=function(l){return c(l)?1:0},f=function(l){return c(l)?"all":"none"};n._doRenderLabel=function(l){if(n.renderLabel()){var e=l.select("text");e.empty()&&(e=l.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",n.onClick)),e.attr("opacity",0).attr("pointer-events",f).text(s),t.transition(e,n.transitionDuration(),n.transitionDelay()).attr("opacity",d)}},n.doUpdateLabels=function(l){if(n.renderLabel()){var e=l.select("text").attr("pointer-events",f).text(s);t.transition(e,n.transitionDuration(),n.transitionDelay()).attr("opacity",d)}};var p=function(l){return n.title()(l)};return n._doRenderTitles=function(l){n.renderTitle()&&l.select("title").empty()&&l.append("title").text(p)},n.doUpdateTitles=function(l){n.renderTitle()&&l.select("title").text(p)},n.sortBubbleSize=function(l){return arguments.length?(u=l,n):u},n.minRadius=function(l){return arguments.length?(n.MIN_RADIUS=l,n):n.MIN_RADIUS},n.minRadiusWithLabel=function(l){return arguments.length?(r=l,n):r},n.maxBubbleRelativeSize=function(l){return arguments.length?(e=l,n):e},n.fadeDeselectedArea=function(l){n.hasFilter()?n.selectAll("g."+n.BUBBLE_NODE_CLASS).each(function(l){n.isSelectedNode(l)?n.highlightSelected(this):n.fadeDeselected(this)}):n.selectAll("g."+n.BUBBLE_NODE_CLASS).each(function(){n.resetHighlight(this)})},n.isSelectedNode=function(l){return n.hasFilter(l.key)},n.onClick=function(l){var e=l.key;t.events.trigger(function(){n.filter(e),n.redrawGroup()})},n},t.pieChart=function(n,e){var r,u,a,i,o,s,c="pie-slice",d="pie-label",f="pie-slice-group",p="pie-label-group",b="empty-chart",m="empty",h=0,g=0,v=.5,_=!1,y=t.capMixin(t.colorMixin(t.baseMixin({})));function x(){var n=l.min([y.width(),y.height()])/2;r=u&&u<n?u:n;var e,i=C(),o=l.pie().sort(null).value(y.cappedValueAccessor);if(l.sum(y.data(),y.cappedValueAccessor)?(e=o(y.data()),a.classed(b,!1)):(e=o([{key:m,value:1,others:[m]}]),a.classed(b,!0)),a){var h=a.select("g."+f).selectAll("g."+c).data(e),g=a.select("g."+p).selectAll("text."+d).data(e);!function(l,n){l.exit().remove(),n.exit().remove()}(h,g),function(l,n,e,r){var u=function(l){return l.enter().append("g").attr("class",function(l,n){return c+" _"+n})}(l);(function(l,n){var e=l.append("path").attr("fill",S).on("click",M).attr("d",function(l,t){return B(l,t,n)}),r=t.transition(e,y.transitionDuration(),y.transitionDelay());r.attrTween&&r.attrTween("d",D)})(u,e),function(l){y.renderTitle()&&l.append("title").text(function(l){return y.title()(l.data)})}(u),function(l,n,t){y.renderLabel()&&(A(l.enter().append("text").attr("class",function(l,n){var t=c+" "+d+" _"+n;return s&&(t+=" external"),t}).on("click",M).on("mouseover",function(l,n){w(n,!0)}).on("mouseout",function(l,n){w(n,!1)}),t),s&&_&&k(n,t))}(n,r,e)}(h,g,i,e),function(l,n){(function(l,n){var e=a.selectAll("g."+c).data(l).select("path").attr("d",function(l,t){return B(l,t,n)}),r=t.transition(e,y.transitionDuration(),y.transitionDelay());r.attrTween&&r.attrTween("d",D),r.attr("fill",S)})(l,n),function(l,n){y.renderLabel()&&(A(a.selectAll("text."+d).data(l),n),s&&_&&k(l,n))}(l,n),function(l){y.renderTitle()&&a.selectAll("g."+c).data(l).select("title").text(function(l){return y.title()(l.data)})}(l)}(e,i),y.hasFilter()?y.selectAll("g."+c).each(function(l){L(l)?y.highlightSelected(this):y.fadeDeselected(this)}):y.selectAll("g."+c).each(function(){y.resetHighlight(this)}),t.transition(a,y.transitionDuration(),y.transitionDelay()).attr("transform","translate("+y.cx()+","+y.cy()+")")}}function A(n,e){y._applyLabelText(n),t.transition(n,y.transitionDuration(),y.transitionDelay()).attr("transform",function(n){return function(n,t){var e;return e=s?l.arc().outerRadius(r-g+s).innerRadius(r-g+s).centroid(n):t.centroid(n),isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(n,e)}).attr("text-anchor","middle")}function w(l,n){y.select("g.pie-slice._"+l).classed("highlight",n)}function k(n,e){var u=a.selectAll("polyline."+c).data(n);u.exit().remove(),u=u.enter().append("polyline").attr("class",function(l,n){return"pie-path _"+n+" "+c}).on("click",M).on("mouseover",function(l,n){w(n,!0)}).on("mouseout",function(l,n){w(n,!1)}).merge(u);var i=l.arc().outerRadius(r-g+s).innerRadius(r-g),o=t.transition(u,y.transitionDuration(),y.transitionDelay());o.attrTween?o.attrTween("points",function(n){var t=this._current||n,r=l.interpolate(t={startAngle:t.startAngle,endAngle:t.endAngle},n);return this._current=r(0),function(l){var n=r(l);return[e.centroid(n),i.centroid(n)]}}):o.attr("points",function(l){return[e.centroid(l),i.centroid(l)]}),o.style("visibility",function(l){return l.endAngle-l.startAngle<1e-4?"hidden":"visible"})}function C(){return l.arc().outerRadius(r-g).innerRadius(h)}function L(l){return y.hasFilter(y.cappedKeyAccessor(l.data))}function D(n){n.innerRadius=h;var t=this._current;t=function(l){return!l||isNaN(l.startAngle)||isNaN(l.endAngle)}(t)?{startAngle:0,endAngle:0}:{startAngle:t.startAngle,endAngle:t.endAngle};var e=l.interpolate(t,n);return this._current=e(0),function(l){return B(e(l),0,C())}}function S(l,n){return y.getColor(l.data,n)}function M(l,n){a.attr("class")!==b&&y.onClick(l.data,n)}function B(l,n,t){var e=t(l,n);return e.indexOf("NaN")>=0&&(e="M0,0"),e}function F(n,t){y.selectAll("g.pie-slice").each(function(e){n.name===e.data.key&&l.select(this).classed("highlight",t)})}return y.colorAccessor(y.cappedKeyAccessor),y.title(function(l){return y.cappedKeyAccessor(l)+": "+y.cappedValueAccessor(l)}),y.slicesCap=y.cap,y.label(y.cappedKeyAccessor),y.renderLabel(!0),y.transitionDuration(350),y.transitionDelay(0),y._doRender=function(){return y.resetSvg(),(a=y.svg().append("g").attr("transform","translate("+y.cx()+","+y.cy()+")")).append("g").attr("class",f),a.append("g").attr("class",p),x(),y},y._applyLabelText=function(l){l.text(function(l){return!function(l){return 0===y.cappedValueAccessor(l)}(l.data)&&!function(l){var n=l.endAngle-l.startAngle;return isNaN(n)||n<v}(l)||L(l)?y.label()(l.data):""})},y.externalRadiusPadding=function(l){return arguments.length?(g=l,y):g},y.innerRadius=function(l){return arguments.length?(h=l,y):h},y.radius=function(l){return arguments.length?(u=l,y):u},y.cx=function(l){return arguments.length?(i=l,y):i||y.width()/2},y.cy=function(l){return arguments.length?(o=l,y):o||y.height()/2},y._doRedraw=function(){return x(),y},y.minAngleForLabel=function(l){return arguments.length?(v=l,y):v},y.emptyTitle=function(l){return 0===arguments.length?m:(m=l,y)},y.externalLabels=function(l){return 0===arguments.length?s:(s=l||void 0,y)},y.drawPaths=function(l){return 0===arguments.length?_:(_=l,y)},y.legendables=function(){return y.data().map(function(l,n){var t={name:l.key,data:l.value,others:l.others,chart:y};return t.color=y.getColor(l,n),t})},y.legendHighlight=function(l){F(l,!0)},y.legendReset=function(l){F(l,!1)},y.legendToggle=function(l){y.onClick({key:l.name,others:l.others})},y.anchor(n,e)},t.sunburstChart=function(n,e){var r,u,a,i,o,s,c="pie-slice",d="empty-chart",f="empty",p=0,b=.5,m=t.capMixin(t.colorMixin(t.baseMixin({})));function h(l){return l.path?l.value:m.cappedValueAccessor(l)}function g(){var n=l.min([m.width(),m.height()])/2;r=u&&u<n?u:n;var e,i=_();if(l.sum(m.data(),m.valueAccessor())?((e=y(t.utils.toHierarchy(m.data(),m.valueAccessor()))).shift(),a.classed(d,!1)):(e=y(t.utils.toHierarchy([],function(l){return l.value})),a.classed(d,!0)),a){var o=a.selectAll("g."+c).data(e);!function(l,n,e){var r=function(l){return l.enter().append("g").attr("class",function(l,n){return c+" _"+n+" "+c+"-level-"+l.depth})}(l);(function(l,n){var e=l.append("path").attr("fill",A).on("click",w).attr("d",function(l){return k(n,l)}),r=t.transition(e,m.transitionDuration());r.attrTween&&r.attrTween("d",x)})(r,n),function(l){m.renderTitle()&&l.append("title").text(function(l){return m.title()(l)})}(r),function(l,n){if(m.renderLabel()){var t=a.selectAll("text."+c).data(l);t.exit().remove(),v(t.enter().append("text").attr("class",function(l,n){var t=c+" _"+n;return s&&(t+=" external"),t}).on("click",w),n)}}(e,n)}(o,i,e),function(l,n){(function(l,n){var e=a.selectAll("g."+c).data(l).select("path").attr("d",function(l,t){return k(n,l)}),r=t.transition(e,m.transitionDuration());r.attrTween&&r.attrTween("d",x),r.attr("fill",A)})(l,n),function(l,n){m.renderLabel()&&v(a.selectAll("text."+c).data(l),n)}(l,n),function(l){m.renderTitle()&&a.selectAll("g."+c).data(l).select("title").text(function(l){return m.title()(l)})}(l)}(e,i),function(l){l.exit().remove()}(o),m.hasFilter()?m.selectAll("g."+c).each(function(l){!function(l){return function(l){for(var n=0;n<m.filters().length;n++)if(m.filters()[n].isFiltered(l))return!0;return!1}(l.path)}(l)?m.fadeDeselected(this):m.highlightSelected(this)}):m.selectAll("g."+c).each(function(l){m.resetHighlight(this)}),t.transition(a,m.transitionDuration(),m.transitionDelay()).attr("transform","translate("+m.cx()+","+m.cy()+")")}}function v(n,e){t.transition(n,m.transitionDuration()).attr("transform",function(n){return function(n,t){var e;return e=s?l.svg.arc().outerRadius(r+s).innerRadius(r+s).centroid(n):t.centroid(n),isNaN(e[0])||isNaN(e[1])?"translate(0,0)":"translate("+e+")"}(n,e)}).attr("text-anchor","middle").text(function(l){return function(l){return 0===h(l)}(l)||function(l){var n=l.x1-l.x0;return isNaN(n)||n<b}(l)?"":m.label()(l)})}function _(){return l.arc().startAngle(function(l){return l.x0}).endAngle(function(l){return l.x1}).innerRadius(function(l){return l.data.path&&1===l.data.path.length?p:Math.sqrt(l.y0)}).outerRadius(function(l){return Math.sqrt(l.y1)})}function y(n){var t=l.hierarchy(n).sum(function(l){return l.children?0:h(l)}).sort(function(n,t){return l.ascending(n.data.path,t.data.path)});return l.partition().size([2*Math.PI,r*r])(t),t.descendants().map(function(l){return l.key=l.data.key,l.path=l.data.path,l})}function x(n){var t=this._current;(function(l){return!l||isNaN(l.x0)||isNaN(l.y0)})(t)&&(t={x0:0,x1:0,y0:0,y1:0});var e=l.interpolate(t,{x0:n.x0,x1:n.x1,y0:n.y0,y1:n.y1});return this._current=e(0),function(l){return k(_(),Object.assign({},n,e(l)))}}function A(l,n){return m.getColor(l.data,n)}function w(l,n){a.attr("class")!==d&&function(l){for(var n=l.path||l.key,e=t.filters.HierarchyFilter(n),r=function(l){for(var n=t.filters.HierarchyFilter(l),e=[],r=0;r<m.filters().length;r++){var u=m.filters()[r];(u.isFiltered(l)||n.isFiltered(u))&&e.push(u)}return e}(n),u=!1,a=r.length-1;a>=0;a--)t.utils.arraysIdentical(r[a],n)&&(u=!0),m.filter(r[a]);t.events.trigger(function(){u||m.filter(e),m.redrawGroup()})}(l)}function k(l,n){var t=l(n);return t.indexOf("NaN")>=0&&(t="M0,0"),t}function C(n,t){m.selectAll("g.pie-slice").each(function(e){n.name===e.key&&l.select(this).classed("highlight",t)})}return m.colorAccessor(m.cappedKeyAccessor),m.title(function(l){return m.cappedKeyAccessor(l)+": "+h(l)}),m.label(m.cappedKeyAccessor),m.renderLabel(!0),m.transitionDuration(350),m.filterHandler(function(l,n){return 0===n.length?l.filter(null):l.filterFunction(function(l){for(var t=0;t<n.length;t++){var e=n[t];if(e.isFiltered&&e.isFiltered(l))return!0}return!1}),n}),m._doRender=function(){return m.resetSvg(),a=m.svg().append("g").attr("transform","translate("+m.cx()+","+m.cy()+")"),g(),m},m.innerRadius=function(l){return arguments.length?(p=l,m):p},m.radius=function(l){return arguments.length?(u=l,m):u},m.cx=function(l){return arguments.length?(i=l,m):i||m.width()/2},m.cy=function(l){return arguments.length?(o=l,m):o||m.height()/2},m.minAngleForLabel=function(l){return arguments.length?(b=l,m):b},m.emptyTitle=function(l){return 0===arguments.length?f:(f=l,m)},m.externalLabels=function(l){return 0===arguments.length?s:(s=l||void 0,m)},m._doRedraw=function(){return g(),m},m.onClick=w,m.legendables=function(){return m.data().map(function(l,n){var t={name:l.key,data:l.value,others:l.others,chart:m};return t.color=m.getColor(l,n),t})},m.legendHighlight=function(l){C(l,!0)},m.legendReset=function(l){C(l,!1)},m.legendToggle=function(l){m.onClick({key:l.name,others:l.others})},m.anchor(n,e)},t.barChart=function(n,e){var r,u=3,a=t.stackMixin(t.coordinateGridMixin({})),i=2,o=!1,s=!1;function c(l){return t.utils.safeNumber(Math.abs(a.y()(l.y+l.y0)-a.y()(l.y0)))}function d(l){var n=a.x()(l.x);return o||(n+=r/2),a.isOrdinal()&&void 0!==i&&(n+=i/2),t.utils.safeNumber(n)}function f(l){var n=a.y()(l.y+l.y0);return l.y<0&&(n-=c(l)),t.utils.safeNumber(n-u)}function p(l){var n=a.x()(l.x);return o&&(n-=r/2),a.isOrdinal()&&void 0!==i&&(n+=i/2),t.utils.safeNumber(n)}function b(n,t){return function(){var e=l.select(this).attr("fill")===n;return t?!e:e}}return t.override(a,"rescale",function(){return a._rescale(),r=void 0,a}),t.override(a,"render",function(){return a.round()&&o&&!s&&t.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),a._render()}),a.label(function(l){return t.utils.printSingleValue(l.y0+l.y)},!1),a.plotData=function(){var n=a.chartBodyG().selectAll("g.stack").data(a.data());!function(){if(void 0===r){var l=a.xUnitCount();((r=a.isOrdinal()&&void 0===i?Math.floor(a.x().bandwidth()):i?Math.floor((a.xAxisLength()-(l-1)*i)/l):Math.floor(a.xAxisLength()/(1+a.barPadding())/l))===1/0||isNaN(r)||r<1)&&(r=1)}}();var e=(n=n.enter().append("g").attr("class",function(l,n){return"stack _"+n}).merge(n)).size()-1;n.each(function(n,u){var i=l.select(this);!function(l,n,e){var u=l.selectAll("rect.bar").data(e.values,t.pluck("x")),i=u.enter().append("rect").attr("class","bar").attr("fill",t.pluck("data",a.getColor)).attr("x",p).attr("y",a.yAxisHeight()).attr("height",0),o=i.merge(u);a.renderTitle()&&i.append("title").text(t.pluck("data",a.title(e.name))),a.isOrdinal()&&o.on("click",a.onClick),t.transition(o,a.transitionDuration(),a.transitionDelay()).attr("x",p).attr("y",function(l){var n=a.y()(l.y+l.y0);return l.y<0&&(n-=c(l)),t.utils.safeNumber(n)}).attr("width",r).attr("height",function(l){return c(l)}).attr("fill",t.pluck("data",a.getColor)).select("title").text(t.pluck("data",a.title(e.name))),t.transition(u.exit(),a.transitionDuration(),a.transitionDelay()).attr("x",function(l){return a.x()(l.x)}).attr("width",.9*r).remove()}(i,0,n),a.renderLabel()&&e===u&&function(l,n,e){var r=l.selectAll("text.barLabel").data(e.values,t.pluck("x")),u=r.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",d).attr("y",f).merge(r);a.isOrdinal()&&(u.on("click",a.onClick),u.attr("cursor","pointer")),t.transition(u,a.transitionDuration(),a.transitionDelay()).attr("x",d).attr("y",f).text(function(l){return a.label()(l)}),t.transition(r.exit(),a.transitionDuration(),a.transitionDelay()).attr("height",0).remove()}(i,0,n)})},a.fadeDeselectedArea=function(l){var n=a.chartBodyG().selectAll("rect.bar");if(a.isOrdinal())a.hasFilter()?(n.classed(t.constants.SELECTED_CLASS,function(l){return a.hasFilter(l.x)}),n.classed(t.constants.DESELECTED_CLASS,function(l){return!a.hasFilter(l.x)})):(n.classed(t.constants.SELECTED_CLASS,!1),n.classed(t.constants.DESELECTED_CLASS,!1));else if(a.brushOn()||a.parentBrushOn())if(a.brushIsEmpty(l))n.classed(t.constants.DESELECTED_CLASS,!1);else{var e=l[0],r=l[1];n.classed(t.constants.DESELECTED_CLASS,function(l){return l.x<e||l.x>=r})}},a.centerBar=function(l){return arguments.length?(o=l,a):o},t.override(a,"onClick",function(l){a._onClick(l.data)}),a.barPadding=function(l){return arguments.length?(a._rangeBandPadding(l),i=void 0,a):a._rangeBandPadding()},a._useOuterPadding=function(){return void 0===i},a.outerPadding=a._outerRangeBandPadding,a.gap=function(l){return arguments.length?(i=l,a):i},a.extendBrush=function(l){return l&&a.round()&&(!o||s)&&(l[0]=a.round()(l[0]),l[1]=a.round()(l[1])),l},a.alwaysUseRounding=function(l){return arguments.length?(s=l,a):s},a.legendHighlight=function(l){a.isLegendableHidden(l)||a.g().selectAll("rect.bar").classed("highlight",b(l.color)).classed("fadeout",b(l.color,!0))},a.legendReset=function(){a.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},t.override(a,"xAxisMax",function(){var l=this._xAxisMax();return"resolution"in a.xUnits()&&(l+=a.xUnits().resolution),l}),a.anchor(n,e)},t.lineChart=function(n,e){var r,u,a=t.stackMixin(t.coordinateGridMixin({})),i=!1,o=5,s=null,c=1e-6,d=1e-6,f=null,p=null,b=null,m=!0;function h(l,n){return a.getColor.call(l,l.values,n)}function g(){var n=null;return f||((n="function"==typeof p?p:{linear:l.curveLinear,"linear-closed":l.curveLinearClosed,step:l.curveStep,"step-before":l.curveStepBefore,"step-after":l.curveStepAfter,basis:l.curveBasis,"basis-open":l.curveBasisOpen,"basis-closed":l.curveBasisClosed,bundle:l.curveBundle,cardinal:l.curveCardinal,"cardinal-open":l.curveCardinalOpen,"cardinal-closed":l.curveCardinalClosed,monotone:l.curveMonotoneX}[p])||(n=l.curveLinear),null!==b&&("function"!=typeof n.tension?t.logger.warn("tension was specified but the curve/interpolate does not support it."):n=n.tension(b)),n)}function v(l){return!l||l.indexOf("NaN")>=0?"M0,0":l}function _(){return s||o}function y(l,n){a.renderTitle()&&(l.select("title").remove(),l.append("title").text(t.pluck("data",a.title(n.name))))}function x(n,t,e){return function(){var r=l.select(this),u=r.attr("stroke")===n&&r.attr("stroke-dasharray")===(t instanceof Array?t.join(","):null)||r.attr("fill")===n;return e?!u:u}}return a.transitionDuration(500),a.transitionDelay(0),a._rangeBandPadding(1),a.plotData=function(){var n=a.chartBodyG(),e=n.select("g.stack-list");e.empty()&&(e=n.append("g").attr("class","stack-list"));var s=e.selectAll("g.stack").data(a.data()),f=s.enter().append("g").attr("class",function(l,n){return"stack _"+n});s=f.merge(s),function(n,e){var i=l.line().x(function(l){return a.x()(l.x)}).y(function(l){return a.y()(l.y+l.y0)}).curve(g());r&&i.defined(r);var o=n.append("path").attr("class","line").attr("stroke",h);u&&o.attr("stroke-dasharray",u),t.transition(e.select("path.line"),a.transitionDuration(),a.transitionDelay()).attr("stroke",h).attr("d",function(l){return v(i(l.values))})}(f,s),function(n,e){if(i){var u=l.area().x(function(l){return a.x()(l.x)}).y1(function(l){return a.y()(l.y+l.y0)}).y0(function(l){return a.y()(l.y0)}).curve(g());r&&u.defined(r),n.append("path").attr("class","area").attr("fill",h).attr("d",function(l){return v(u(l.values))}),t.transition(e.select("path.area"),a.transitionDuration(),a.transitionDelay()).attr("fill",h).attr("d",function(l){return v(u(l.values))})}}(f,s),function(n,e){if("always"===a.xyTipsOn()||!a.brushOn()&&!a.parentBrushOn()&&a.xyTipsOn()){var u=n.select("g.dc-tooltip-list");u.empty()&&(u=n.append("g").attr("class","dc-tooltip-list")),e.each(function(n,e){var i=n.values;r&&(i=i.filter(r));var s=u.select("g.dc-tooltip._"+e);s.empty()&&(s=u.append("g").attr("class","dc-tooltip _"+e)),function(l){(l.select("path.yRef").empty()?l.append("path").attr("class","yRef"):l.select("path.yRef")).style("display","none").attr("stroke-dasharray","5,5"),(l.select("path.xRef").empty()?l.append("path").attr("class","xRef"):l.select("path.xRef")).style("display","none").attr("stroke-dasharray","5,5")}(s);var f=s.selectAll("circle.dot").data(i,t.pluck("x")),p=f.enter().append("circle").attr("class","dot").attr("cx",function(l){return t.utils.safeNumber(a.x()(l.x))}).attr("cy",function(l){return t.utils.safeNumber(a.y()(l.y+l.y0))}).attr("r",_()).style("fill-opacity",c).style("stroke-opacity",d).attr("fill",a.getColor).attr("stroke",a.getColor).on("mousemove",function(){var n=l.select(this);console.log("mm",a.keyAccessor()(n.datum().data)),function(l){l.style("fill-opacity",.8),l.style("stroke-opacity",.8),l.attr("r",o)}(n),function(l,n){var t=l.attr("cx"),e=l.attr("cy"),r="M"+(a._yAxisX()-a.margins().left)+" "+e+"L"+t+" "+e,u="M"+t+" "+a.yAxisHeight()+"L"+t+" "+e;n.select("path.yRef").style("display","").attr("d",r),n.select("path.xRef").style("display","").attr("d",u)}(n,s)}).on("mouseout",function(){var n=l.select(this);console.log("mo",a.keyAccessor()(n.datum().data)),function(l){l.style("fill-opacity",c).style("stroke-opacity",d).attr("r",_())}(n),function(l){l.select("path.yRef").style("display","none"),l.select("path.xRef").style("display","none")}(s)}).merge(f);p.call(y,n),t.transition(p,a.transitionDuration()).attr("cx",function(l){return t.utils.safeNumber(a.x()(l.x))}).attr("cy",function(l){return t.utils.safeNumber(a.y()(l.y+l.y0))}).attr("fill",a.getColor),f.exit().remove()})}}(n,s),a.renderLabel()&&function(n){n.each(function(n,e){var r=l.select(this).selectAll("text.lineLabel").data(n.values,t.pluck("x")),u=r.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(r);t.transition(u,a.transitionDuration()).attr("x",function(l){return t.utils.safeNumber(a.x()(l.x))}).attr("y",function(l){var n=a.y()(l.y+l.y0)-3;return t.utils.safeNumber(n)}).text(function(l){return a.label()(l)}),t.transition(r.exit(),a.transitionDuration()).attr("height",0).remove()})}(s)},a.curve=function(l){return arguments.length?(f=l,a):f},a.interpolate=t.logger.deprecate(function(l){return arguments.length?(p=l,a):p},"dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),a.tension=t.logger.deprecate(function(l){return arguments.length?(b=l,a):b},"dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),a.defined=function(l){return arguments.length?(r=l,a):r},a.dashStyle=function(l){return arguments.length?(u=l,a):u},a.renderArea=function(l){return arguments.length?(i=l,a):i},a.label(function(l){return t.utils.printSingleValue(l.y0+l.y)},!1),a.xyTipsOn=function(l){return arguments.length?(m=l,a):m},a.dotRadius=function(l){return arguments.length?(o=l,a):o},a.renderDataPoints=function(l){return arguments.length?(l?(c=l.fillOpacity||.8,d=l.strokeOpacity||0,s=l.radius||2):(c=1e-6,d=1e-6,s=null),a):{fillOpacity:c,strokeOpacity:d,radius:s}},a.legendHighlight=function(l){a.isLegendableHidden(l)||a.g().selectAll("path.line, path.area").classed("highlight",x(l.color,l.dashstyle)).classed("fadeout",x(l.color,l.dashstyle,!0))},a.legendReset=function(){a.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},t.override(a,"legendables",function(){var l=a._legendables();return u?l.map(function(l){return l.dashstyle=u,l}):l}),a.anchor(n,e)},t.dataCount=function(n,e){var r=l.format(",d"),u=t.baseMixin({}),a=null,i=null,o={some:"",all:""};return u._mandatoryAttributes(["crossfilter","groupAll"]),u.html=function(l){return arguments.length?(l.all&&(o.all=l.all),l.some&&(o.some=l.some),u):o},u.formatNumber=function(l){return arguments.length?(r=l,u):r},u._doRender=function(){var l=u.crossfilter().size(),n=u.groupAll().value(),t=r(l),e=r(n);return l===n&&""!==o.all?u.root().html(o.all.replace("%total-count",t).replace("%filter-count",e)):""!==o.some?u.root().html(o.some.replace("%total-count",t).replace("%filter-count",e)):(u.selectAll(".total-count").text(t),u.selectAll(".filter-count").text(e)),u},u._doRedraw=function(){return u._doRender()},u.crossfilter=function(l){return arguments.length?(a=l,this):a},u.dimension=t.logger.annotate(u.crossfilter,"consider using dataCount.crossfilter instead of dataCount.dimension for clarity"),u.groupAll=function(l){return arguments.length?(i=l,this):i},u.group=t.logger.annotate(u.groupAll,"consider using dataCount.groupAll instead of dataCount.group for clarity"),u.anchor(n,e)},t.dataTable=function(n,e){var r,u=t.baseMixin({}),a=25,i=[],o=function(l){return l},s=l.ascending,c=0,d=!0,f=function(){return""};return u._mandatoryAttributes(["dimension"]),u._doRender=function(){var n,t;return u.selectAll("tbody").remove(),n=function(){var n=!0;if(i.forEach(function(l){n&="function"==typeof l}),!n){var t=u.selectAll("thead").data([0]);t.exit().remove();var e=(t=t.enter().append("thead").merge(t)).selectAll("tr").data([0]);e.exit().remove();var f=(e=e.enter().append("tr").merge(e)).selectAll("th").data(i);f.exit().remove(),f.enter().append("th").merge(f).attr("class","dc-table-head").html(function(l){return u._doColumnHeaderFormat(l)})}var p,b=u.root().selectAll("tbody").data((p=s===l.ascending?u.dimension().bottom(a):u.dimension().top(a),l.nest().key(u.section()).sortKeys(s).entries(p.sort(function(l,n){return s(o(l),o(n))}).slice(c,r))),function(l){return u.keyAccessor()(l)}),m=b.enter().append("tbody");return!0===d&&m.append("tr").attr("class","dc-table-section dc-table-group").append("td").attr("class","dc-table-label").attr("colspan",i.length).html(function(l){return u.keyAccessor()(l)}),b.exit().remove(),m}().order().selectAll("tr.dc-table-row").data(function(l){return l.values}),t=n.enter().append("tr").attr("class","dc-table-row"),i.forEach(function(l,n){t.append("td").attr("class","dc-table-column _"+n).html(function(n){return u._doColumnValueFormat(l,n)})}),n.exit().remove(),u},u._doColumnValueFormat=function(l,n){return"function"==typeof l?l(n):"string"==typeof l?n[l]:l.format(n)},u._doColumnHeaderFormat=function(l){return"function"==typeof l?u._doColumnHeaderFnToString(l):"string"==typeof l?u._doColumnHeaderCapitalize(l):String(l.label)},u._doColumnHeaderCapitalize=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},u._doColumnHeaderFnToString=function(l){var n=String(l),t=n.indexOf("return ");if(t>=0){var e=n.lastIndexOf(";");e>=0&&(n=n.substring(t+7,e)).indexOf("numberFormat")>=0&&(n=n.replace("numberFormat",""))}return n},u._doRedraw=function(){return u._doRender()},u.section=function(l){return arguments.length?(f=l,u):f},u.group=t.logger.annotate(u.section,"consider using dataTable.section instead of dataTable.group for clarity"),u.size=function(l){return arguments.length?(a=l,u):a},u.beginSlice=function(l){return arguments.length?(c=l,u):c},u.endSlice=function(l){return arguments.length?(r=l,u):r},u.columns=function(l){return arguments.length?(i=l,u):i},u.sortBy=function(l){return arguments.length?(o=l,u):o},u.order=function(l){return arguments.length?(s=l,u):s},u.showSections=function(l){return arguments.length?(d=l,u):d},u.showGroups=t.logger.annotate(u.showSections,"consider using dataTable.showSections instead of dataTable.showGroups for clarity"),u.anchor(n,e)},t.dataGrid=function(n,e){var r,u=t.baseMixin({}),a=null,i=999,o=function(l){return"you need to provide an html() handling param:  "+JSON.stringify(l)},s=function(l){return l},c=l.ascending,d=0,f=function(l){return"<div class='dc-grid-section dc-grid-group'><h1 class='dc-grid-label'>"+u.keyAccessor()(l)+"</h1></div>"};return u._mandatoryAttributes(["dimension","section"]),u._doRender=function(){var n;return u.selectAll("div.dc-grid-top").remove(),(n=function(){var n,t=u.root().selectAll("div.dc-grid-top").data((n=u.dimension().top(i),l.nest().key(u.section()).sortKeys(c).entries(n.sort(function(l,n){return c(s(l),s(n))}).slice(d,r))),function(l){return u.keyAccessor()(l)}),e=t.enter().append("div").attr("class","dc-grid-top");return f&&e.html(function(l){return f(l)}),t.exit().remove(),e}().order().selectAll("div.dc-grid-item").data(function(l){return l.values})).exit().remove(),n=n.enter().append("div").attr("class","dc-grid-item").html(function(l){return o(l)}).merge(n),u},u._doRedraw=function(){return u._doRender()},u.section=function(l){return arguments.length?(a=l,u):a},u.group=t.logger.annotate(u.section,"consider using dataGrid.section instead of dataGrid.group for clarity"),u.beginSlice=function(l){return arguments.length?(d=l,u):d},u.endSlice=function(l){return arguments.length?(r=l,u):r},u.size=function(l){return arguments.length?(i=l,u):i},u.html=function(l){return arguments.length?(o=l,u):o},u.htmlSection=function(l){return arguments.length?(f=l,u):f},u.htmlGroup=t.logger.annotate(u.htmlSection,"consider using dataGrid.htmlSection instead of dataGrid.htmlGroup for clarity"),u.sortBy=function(l){return arguments.length?(s=l,u):s},u.order=function(l){return arguments.length?(c=l,u):c},u.anchor(n,e)},t.bubbleChart=function(l,n){var e=t.bubbleMixin(t.coordinateGridMixin({}));e.transitionDuration(750),e.transitionDelay(0);var r=function(l){return"translate("+function(l){var n=e.x()(e.keyAccessor()(l));return!isNaN(n)&&isFinite(n)||(n=0),n}(l)+","+function(l){var n=e.y()(e.valueAccessor()(l));return!isNaN(n)&&isFinite(n)||(n=0),n}(l)+")"};return e.plotData=function(){e.calculateRadiusDomain(),e.r().range([e.MIN_RADIUS,e.xAxisLength()*e.maxBubbleRelativeSize()]);var l=e.data(),n=e.chartBodyG().selectAll("g."+e.BUBBLE_NODE_CLASS).data(l,function(l){return l.key});e.sortBubbleSize()&&n.order(),function(l){l.exit().remove()}(n),function(l){t.transition(l,e.transitionDuration(),e.transitionDelay()).attr("transform",r).select("circle."+e.BUBBLE_CLASS).attr("fill",e.getColor).attr("r",function(l){return e.bubbleR(l)}).attr("opacity",function(l){return e.bubbleR(l)>0?1:0}),e.doUpdateLabels(l),e.doUpdateTitles(l)}(n=function(l){var n=l.enter().append("g");return n.attr("class",e.BUBBLE_NODE_CLASS).attr("transform",r).append("circle").attr("class",function(l,n){return e.BUBBLE_CLASS+" _"+n}).on("click",e.onClick).attr("fill",e.getColor).attr("r",0),l=n.merge(l),t.transition(l,e.transitionDuration(),e.transitionDelay()).select("circle."+e.BUBBLE_CLASS).attr("r",function(l){return e.bubbleR(l)}).attr("opacity",function(l){return e.bubbleR(l)>0?1:0}),e._doRenderLabel(n),e._doRenderTitles(n),l}(n)),e.fadeDeselectedArea(e.filter())},e.renderBrush=function(){},e.redrawBrush=function(l,n){e.fadeDeselectedArea(l)},e.anchor(l,n)},t.compositeChart=function(n,e){var r,u="sub",a=t.coordinateGridMixin({}),i=[],o={},s=!1,c=!0,d=!1,f=l.axisRight(),p=0,b=12,m=!1;function h(l,n){l._generateG(a.g()),l.g().attr("class",u+" _"+n)}function g(){return i.filter(function(l){return!l.useRightYAxis()})}function v(){return i.filter(function(l){return l.useRightYAxis()})}function _(l){return l.map(function(l){return l.yAxisMin()})}function y(l){return l.map(function(l){return l.yAxisMax()})}return a._mandatoryAttributes([]),a.transitionDuration(500),a.transitionDelay(0),t.override(a,"_generateG",function(){for(var l=this.__generateG(),n=0;n<i.length;++n){var t=i[n];h(t,n),t.dimension()||t.dimension(a.dimension()),t.group()||t.group(a.group()),t.chartGroup(a.chartGroup()),t.svg(a.svg()),t.xUnits(a.xUnits()),t.transitionDuration(a.transitionDuration(),a.transitionDelay()),t.parentBrushOn(a.brushOn()),t.brushOn(!1),t.renderTitle(a.renderTitle()),t.elasticX(a.elasticX())}return l}),a.on("filtered.dcjs-composite-chart",function(l){for(var n=0;n<i.length;++n)i[n].replaceFilter(a.filter())}),a._prepareYAxis=function(){var n=0!==g().length,e=0!==v().length,u=function(n,e){var r,u,i,o,s;return n&&(r=l.min(_(g())),u=t.utils.add(l.max(y(g())),a.yAxisPadding())),e&&(i=l.min(_(v())),o=t.utils.add(l.max(y(v())),a.yAxisPadding())),a.alignYAxes()&&n&&e&&(s=function(l,n,t,e){var r=(e-t)/(n-l);return{lyAxisMin:Math.min(l,t/r),lyAxisMax:Math.max(n,e/r),ryAxisMin:Math.min(t,l*r),ryAxisMax:Math.max(e,n*r)}}(r,u,i,o)),s||{lyAxisMin:r,lyAxisMax:u,ryAxisMin:i,ryAxisMax:o}}(n,e);n&&function(n){var t=void 0===a.y()||a.elasticY(),e=t||a.resizing();void 0===a.y()&&a.y(l.scaleLinear()),t&&a.y().domain([n.lyAxisMin,n.lyAxisMax]),e&&a.y().rangeRound([a.yAxisHeight(),0]),a.y().range([a.yAxisHeight(),0]),a.yAxis(a.yAxis().scale(a.y()))}(u),e&&function(n){var t=void 0===a.rightY()||a.elasticY(),e=t||a.resizing();void 0===a.rightY()&&a.rightY(l.scaleLinear()),t&&a.rightY().domain([n.ryAxisMin,n.ryAxisMax]),e&&a.rightY().rangeRound([a.yAxisHeight(),0]),a.rightY().range([a.yAxisHeight(),0]),a.rightYAxis(a.rightYAxis().scale(a.rightY()))}(u),g().length>0&&!m?a._renderHorizontalGridLinesForAxis(a.g(),a.y(),a.yAxis()):v().length>0&&a._renderHorizontalGridLinesForAxis(a.g(),r,f)},a.renderYAxis=function(){0!==g().length&&(a.renderYAxisAt("y",a.yAxis(),a.margins().left),a.renderYAxisLabel("y",a.yAxisLabel(),-90)),0!==v().length&&(a.renderYAxisAt("yr",a.rightYAxis(),a.width()-a.margins().right),a.renderYAxisLabel("yr",a.rightYAxisLabel(),90,a.width()-b))},a.plotData=function(){for(var l=0;l<i.length;++l){var n=i[l];n.g()||h(n,l),s&&n.colors(a.colors()),n.x(a.x()),n.xAxis(a.xAxis()),n.useRightYAxis()?(n.y(a.rightY()),n.yAxis(a.rightYAxis())):(n.y(a.y()),n.yAxis(a.yAxis())),n.plotData(),n._activateRenderlets()}},a.useRightAxisGridLines=function(l){return arguments?(m=l,a):m},a.childOptions=function(l){return arguments.length?(o=l,i.forEach(function(l){l.options(o)}),a):o},a.fadeDeselectedArea=function(l){if(a.brushOn())for(var n=0;n<i.length;++n)i[n].fadeDeselectedArea(l)},a.rightYAxisLabel=function(l,n){return arguments.length?(p=l,a.margins().right-=b,b=void 0===n?12:n,a.margins().right+=b,a):p},a.compose=function(l){return(i=l).forEach(function(l){l.height(a.height()),l.width(a.width()),l.margins(a.margins()),c&&l.title(a.title()),l.options(o)}),a},a.children=function(){return i},a.shareColors=function(l){return arguments.length?(s=l,a):s},a.shareTitle=function(l){return arguments.length?(c=l,a):c},a.rightY=function(l){return arguments.length?(r=l,a.rescale(),a):r},a.alignYAxes=function(l){return arguments.length?(d=l,a.rescale(),a):d},delete a.yAxisMin,delete a.yAxisMax,t.override(a,"xAxisMin",function(){return t.utils.subtract(l.min(i.map(function(l){return l.xAxisMin()})),a.xAxisPadding(),a.xAxisPaddingUnit())}),t.override(a,"xAxisMax",function(){return t.utils.add(l.max(i.map(function(l){return l.xAxisMax()})),a.xAxisPadding(),a.xAxisPaddingUnit())}),a.legendables=function(){return i.reduce(function(l,n){return s&&n.colors(a.colors()),l.push.apply(l,n.legendables()),l},[])},a.legendHighlight=function(l){for(var n=0;n<i.length;++n)i[n].legendHighlight(l)},a.legendReset=function(l){for(var n=0;n<i.length;++n)i[n].legendReset(l)},a.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},a.rightYAxis=function(l){return arguments.length?(f=l,a):f},a.anchor(n,e)},t.seriesChart=function(n,e){var r,u=t.compositeChart(n,e),a={},i=t.lineChart,o=l.ascending,s=function(n,t){return l.ascending(u.keyAccessor()(n),u.keyAccessor()(t))};function c(l){a[l].g()&&a[l].g().remove(),delete a[l]}function d(){Object.keys(a).map(c),a={}}return u._mandatoryAttributes().push("seriesAccessor","chart"),u.shareColors(!0),u._preprocessData=function(){var n,d=[],f=l.nest().key(r);o&&f.sortKeys(o),s&&f.sortValues(s);var p=f.entries(u.data()).map(function(l,r){var o=a[l.key]||i.call(u,u,e,l.key,r);return a[l.key]||(n=!0),a[l.key]=o,d.push(l.key),o.dimension(u.dimension()).group({all:"function"==typeof l.values?l.values:t.utils.constant(l.values)},l.key).keyAccessor(u.keyAccessor()).valueAccessor(u.valueAccessor()).brushOn(!1)});Object.keys(a).filter(function(l){return-1===d.indexOf(l)}).forEach(function(l){c(l),n=!0}),u._compose(p),n&&u.legend()&&u.legend().render()},u.chart=function(l){return arguments.length?(i=l,d(),u):i},u.seriesAccessor=function(l){return arguments.length?(r=l,d(),u):r},u.seriesSort=function(l){return arguments.length?(o=l,d(),u):o},u.valueSort=function(l){return arguments.length?(s=l,d(),u):s},u._compose=u.compose,delete u.compose,u},t.geoChoroplethChart=function(n,e){var r=t.colorMixin(t.baseMixin({}));r.colorAccessor(function(l){return l||0});var u,a,i=l.geoPath(),o=[];function s(n){var e=function(){for(var l={},n=r.data(),t=0;t<n.length;++t)l[r.keyAccessor()(n[t])]=r.valueAccessor()(n[t]);return l}();if(function(l){return p(l).keyAccessor}(n)){var u=function(l){return r.svg().selectAll(function(l){return"g.layer"+l+" g."+p(l).name}(l)).classed("selected",function(n){return c(l,n)}).classed("deselected",function(n){return d(l,n)}).attr("class",function(n){var e=p(l).name+" "+t.utils.nameToId(p(l).keyAccessor(n));return c(l,n)&&(e+=" selected"),d(l,n)&&(e+=" deselected"),e})}(n);!function(n,e,u){var a=n.select("path").attr("fill",function(){return l.select(this).attr("fill")||"none"}).on("click",function(l){return r.onClick(l,e)});t.transition(a,r.transitionDuration(),r.transitionDelay()).attr("fill",function(l,n){return r.getColor(u[p(e).keyAccessor(l)],n)})}(u,n,e),function(l,n,t){r.renderTitle()&&l.selectAll("title").text(function(l){var e=f(n,l),u=t[e];return r.title()({key:e,value:u})})}(u,n,e)}}function c(l,n){return r.hasFilter()&&r.hasFilter(f(l,n))}function d(l,n){return r.hasFilter()&&!r.hasFilter(f(l,n))}function f(l,n){return p(l).keyAccessor(n)}function p(l){return o[l]}r._doRender=function(){r.resetSvg();for(var l=0;l<o.length;++l){var n=r.svg().append("g").attr("class","layer"+l).selectAll("g."+p(l).name).data(p(l).data);(n=n.enter().append("g").attr("class",p(l).name).merge(n)).append("path").attr("fill","white").attr("d",b()),n.append("title"),s(l)}u=!1},r.onClick=function(l,n){var e=p(n).keyAccessor(l);t.events.trigger(function(){r.filter(e),r.redrawGroup()})},r._doRedraw=function(){for(var l=0;l<o.length;++l)s(l),u&&r.svg().selectAll("g."+p(l).name+" path").attr("d",b());u=!1},r.overlayGeoJson=function(l,n,t){for(var e=0;e<o.length;++e)if(o[e].name===n)return o[e].data=l,o[e].keyAccessor=t,r;return o.push({name:n,data:l,keyAccessor:t}),r},r.projection=function(l){return arguments.length?(a=l,u=!0,r):a};var b=function(){return void 0===a?(t.logger.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),i.projection(l.geoAlbersUsa())):i.projection(a)};return r.geoJsons=function(){return o},r.geoPath=function(){return i},r.removeGeoJson=function(l){for(var n=[],t=0;t<o.length;++t){var e=o[t];e.name!==l&&n.push(e)}return o=n,r},r.anchor(n,e)},t.bubbleOverlay=function(n,e){var r,u="node",a=t.bubbleMixin(t.baseMixin({})),i=[];function o(){var l={};return a.data().forEach(function(n){l[a.keyAccessor()(n)]=n}),l}function s(l,n){var e=u+" "+t.utils.nameToId(l.name),a=r.select("g."+t.utils.nameToId(l.name));return a.empty()&&(a=r.append("g").attr("class",e).attr("transform","translate("+l.x+","+l.y+")")),a.datum(n[l.name]),a}return a.transitionDuration(750),a.transitionDelay(0),a.radiusValueAccessor(function(l){return l.value}),a.point=function(l,n,t){return i.push({name:l,x:n,y:t}),a},a._doRender=function(){var l;return(r=a.select("g.bubble-overlay")).empty()&&(r=a.svg().append("g").attr("class","bubble-overlay")),r=r,a.r().range([a.MIN_RADIUS,a.width()*a.maxBubbleRelativeSize()]),l=o(),a.calculateRadiusDomain(),i.forEach(function(n){var e=s(n,l),r=e.select("circle.bubble");r.empty()&&(r=e.append("circle").attr("class","bubble").attr("r",0).attr("fill",a.getColor).on("click",a.onClick)),t.transition(r,a.transitionDuration(),a.transitionDelay()).attr("r",function(l){return a.bubbleR(l)}),a._doRenderLabel(e),a._doRenderTitles(e)}),a.fadeDeselectedArea(a.filter()),a},a._doRedraw=function(){var l;return l=o(),a.calculateRadiusDomain(),i.forEach(function(n){var e=s(n,l),r=e.select("circle.bubble");t.transition(r,a.transitionDuration(),a.transitionDelay()).attr("r",function(l){return a.bubbleR(l)}).attr("fill",a.getColor),a.doUpdateLabels(e),a.doUpdateTitles(e)}),a.fadeDeselectedArea(a.filter()),a},a.debug=function(n){if(n){var e=a.select("g."+t.constants.DEBUG_GROUP_CLASS);e.empty()&&(e=a.svg().append("g").attr("class",t.constants.DEBUG_GROUP_CLASS));var r=e.append("text").attr("x",10).attr("y",20);e.append("rect").attr("width",a.width()).attr("height",a.height()).on("mousemove",function(){var n=l.mouse(e.node());r.text(n[0]+", "+n[1])})}else a.selectAll(".debug").remove();return a},a.anchor(n,e),a},t.rowChart=function(n,e){var r,u,a,i,o=10,s=15,c=!1,d="0.35em",f=2,p=5,b=!1,m="row",h="titlerow",g=!1,v=t.capMixin(t.marginMixin(t.colorMixin(t.baseMixin({})))),_=l.axisBottom();function y(){var n;i=v.data(),n=r.select("g.axis"),function(){if(!u||a){var n=l.extent(i,v.cappedValueAccessor);n[0]>0&&(n[0]=0),n[1]<0&&(n[1]=0),u=l.scaleLinear().domain(n).range([0,v.effectiveWidth()])}_.scale(u)}(),n.empty()&&(n=r.append("g").attr("class","axis")),n.attr("transform","translate(0, "+v.effectiveHeight()+")"),t.transition(n,v.transitionDuration(),v.transitionDelay()).call(_),r.selectAll("g.tick").select("line.grid-line").remove(),r.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-v.effectiveHeight()});var e=r.selectAll("g."+m).data(i);!function(l){l.exit().remove()}(e),function(l){var n,e=i.length;n=b||(v.effectiveHeight()-(e+1)*p)/e,c||(s=n/2);var r=l.attr("transform",function(l,t){return"translate(0,"+((t+1)*p+t*n)+")"}).select("rect").attr("height",n).attr("fill",v.getColor).on("click",A).classed("deselected",function(l){return!!v.hasFilter()&&!k(l)}).classed("selected",function(l){return!!v.hasFilter()&&k(l)});t.transition(r,v.transitionDuration(),v.transitionDelay()).attr("width",function(l){return Math.abs(x()-u(v.cappedValueAccessor(l)))}).attr("transform",w),function(l){v.renderTitle()&&(l.select("title").remove(),l.append("title").text(v.title()))}(l),function(l){if(v.renderLabel()){var n=l.select("text").attr("x",o).attr("y",s).attr("dy",d).on("click",A).attr("class",function(l,n){return m+" _"+n}).text(function(l){return v.label()(l)});t.transition(n,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}if(v.renderTitleLabel()){var e=l.select("."+h).attr("x",v.effectiveWidth()-f).attr("y",s).attr("dy",d).attr("text-anchor","end").on("click",A).attr("class",function(l,n){return h+" _"+n}).text(function(l){return v.title()(l)});t.transition(e,v.transitionDuration(),v.transitionDelay()).attr("transform",w)}}(l)}(e=function(l){var n=l.enter().append("g").attr("class",function(l,n){return m+" _"+n});return n.append("rect").attr("width",0),function(l){v.renderLabel()&&l.append("text").on("click",A),v.renderTitleLabel()&&l.append("text").attr("class",h).on("click",A)}(n),n}(e).merge(e))}function x(){var l=u(0);return l===-1/0||l!=l?u(1):l}function A(l){v.onClick(l)}function w(l){var n=u(v.cappedValueAccessor(l)),t=x();return"translate("+(n>t?t:n)+",0)"}function k(l){return v.hasFilter(v.cappedKeyAccessor(l))}return v.rowsCap=v.cap,v._doRender=function(){return v.resetSvg(),r=v.svg().append("g").attr("transform","translate("+v.margins().left+","+v.margins().top+")"),y(),v},v.title(function(l){return v.cappedKeyAccessor(l)+": "+v.cappedValueAccessor(l)}),v.label(v.cappedKeyAccessor),v.x=function(l){return arguments.length?(u=l,v):u},v.renderTitleLabel=function(l){return arguments.length?(g=l,v):g},v._doRedraw=function(){return y(),v},v.xAxis=function(l){return arguments.length?(_=l,this):_},v.fixedBarHeight=function(l){return arguments.length?(b=l,v):b},v.gap=function(l){return arguments.length?(p=l,v):p},v.elasticX=function(l){return arguments.length?(a=l,v):a},v.labelOffsetX=function(l){return arguments.length?(o=l,v):o},v.labelOffsetY=function(l){return arguments.length?(s=l,c=!0,v):s},v.titleLabelOffsetX=function(l){return arguments.length?(f=l,v):f},v.anchor(n,e)},t.legend=function(){var l,n,e,r={},u=0,a=0,i=12,o=5,s=!1,c=560,d=70,f=!1,p=t.pluck("name");function b(){return o+i}return r.parent=function(n){return arguments.length?(l=n,r):l},r.render=function(){l.svg().select("g.dc-legend").remove(),e=l.svg().append("g").attr("class","dc-legend").attr("transform","translate("+u+","+a+")");var r=l.legendables();void 0!==n&&(r=r.slice(0,n));var m=e.selectAll("g.dc-legend-item").data(r).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(n){l.legendHighlight(n)}).on("mouseout",function(n){l.legendReset(n)}).on("click",function(l){l.chart.legendToggle(l)});e.selectAll("g.dc-legend-item").classed("fadeout",function(l){return l.chart.isLegendableHidden(l)}),r.some(t.pluck("dashstyle"))?m.append("line").attr("x1",0).attr("y1",i/2).attr("x2",i).attr("y2",i/2).attr("stroke-width",2).attr("stroke-dasharray",t.pluck("dashstyle")).attr("stroke",t.pluck("color")):m.append("rect").attr("width",i).attr("height",i).attr("fill",function(l){return l?l.color:"blue"}),m.append("text").text(p).attr("x",i+2).attr("y",function(){return i/2+(this.clientHeight?this.clientHeight:13)/2-2});var h=0,g=0;m.attr("transform",function(l,n){if(s){var t=!0===f?this.getBBox().width+o:d;h+t>c&&h>0&&(++g,h=0);var e="translate("+h+","+g*b()+")";return h+=t,e}return"translate(0,"+n*b()+")"})},r.x=function(l){return arguments.length?(u=l,r):u},r.y=function(l){return arguments.length?(a=l,r):a},r.gap=function(l){return arguments.length?(o=l,r):o},r.itemHeight=function(l){return arguments.length?(i=l,r):i},r.horizontal=function(l){return arguments.length?(s=l,r):s},r.legendWidth=function(l){return arguments.length?(c=l,r):c},r.itemWidth=function(l){return arguments.length?(d=l,r):d},r.autoItemWidth=function(l){return arguments.length?(f=l,r):f},r.legendText=function(l){return arguments.length?(p=l,r):p},r.maxItems=function(l){return arguments.length?(n=t.utils.isNumber(l)?l:void 0,r):n},r},t.htmlLegend=function(){var n,e,r,u,a={},i=t.pluck("name"),o=!1,s=!1;return a.parent=function(l){return arguments.length?(n=l,a):n},a.render=function(){var l=o?"dc-legend-item-horizontal":"dc-legend-item-vertical";e.select("div.dc-html-legend").remove();var a=e.append("div").attr("class","dc-html-legend");a.attr("style","max-width:"+e.nodes()[0].style.width);var c=n.legendables(),d=n.filters();void 0!==r&&(c=c.slice(0,r));var f=u||l,p=a.selectAll("div."+f).data(c).enter().append("div").classed(f,!0).on("mouseover",n.legendHighlight).on("mouseout",n.legendReset).on("click",n.legendToggle);s&&p.classed(t.constants.SELECTED_CLASS,function(l){return-1!==d.indexOf(l.name)}),p.append("span").attr("class","dc-legend-item-color").style("background-color",t.pluck("color")),p.append("span").attr("class","dc-legend-item-label").attr("title",i).text(i)},a.container=function(n){return arguments.length?(e=l.select(n),a):e},a.legendItemClass=function(l){return arguments.length?(u=l,a):u},a.highlightSelected=function(l){return arguments.length?(s=l,a):s},a.horizontal=function(l){return arguments.length?(o=l,a):o},a.legendText=function(l){return arguments.length?(i=l,a):i},a.maxItems=function(l){return arguments.length?(r=t.utils.isNumber(l)?l:void 0,a):r},a},t.scatterPlot=function(n,e){var r=t.coordinateGridMixin({}),u=l.symbol(),a=function(l){return l.value},i=r.keyAccessor();r.keyAccessor(function(l){return i(l)[0]}),r.valueAccessor(function(l){return i(l)[1]}),r.colorAccessor(function(){return r._groupName}),r.title(function(l){return r.keyAccessor()(l)+","+r.valueAccessor()(l)+": "+r.existenceAccessor()(l)});var o=function(l){return"translate("+r.x()(r.keyAccessor()(l))+","+r.y()(r.valueAccessor()(l))+")"},s=7,c=5,d=3,f=null,p=1,b=0,m=0,h=1,g=null,v=[];function _(l,n){return a(l)?v[n]?Math.pow(c,2):Math.pow(d,2):Math.pow(b,2)}function y(l,n){r.renderTitle()&&(l.selectAll("title").remove(),l.append("title").text(function(l){return r.title()(l)}))}function x(n,e){var a=r.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return n(l.select(this))}),i=u.size();u.size(Math.pow(e,2)),t.transition(a,r.transitionDuration(),r.transitionDelay()).attr("d",u),u.size(i)}return r.brush(l.brush()),u.size(_),t.override(r,"_filter",function(l){return arguments.length?r.__filter(t.filters.RangedTwoDimensionalFilter(l)):r.__filter()}),r.plotData=function(){var l=r.chartBodyG().selectAll("path.symbol").data(r.data());t.transition(l.exit(),r.transitionDuration(),r.transitionDelay()).attr("opacity",0).remove(),(l=l.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",r.getColor).attr("transform",o).merge(l)).call(y,r.data()),l.each(function(l,n){v[n]=!r.filter()||r.filter().isFiltered([r.keyAccessor()(l),r.valueAccessor()(l)])}),t.transition(l,r.transitionDuration(),r.transitionDelay()).attr("opacity",function(l,n){return a(l)?v[n]?h:r.excludedOpacity():m}).attr("fill",function(l,n){return g&&!a(l)?g:r.excludedColor()&&!v[n]?r.excludedColor():r.getColor(l)}).attr("transform",o).attr("d",u)},r.existenceAccessor=function(l){return arguments.length?(a=l,this):a},r.symbol=function(l){return arguments.length?(u.type(l),r):u.type()},r.customSymbol=function(l){return arguments.length?((u=l).size(_),r):u},r.symbolSize=function(l){return arguments.length?(c=l,r):c},r.highlightedSize=function(l){return arguments.length?(s=l,r):s},r.excludedSize=function(l){return arguments.length?(d=l,r):d},r.excludedColor=function(l){return arguments.length?(f=l,r):f},r.excludedOpacity=function(l){return arguments.length?(p=l,r):p},r.hiddenSize=r.emptySize=function(l){return arguments.length?(b=l,r):b},r.emptyColor=function(l){return arguments.length?(g=l,r):g},r.emptyOpacity=function(l){return arguments.length?(m=l,r):m},r.nonemptyOpacity=function(l){return arguments.length?(h=l,r):m},r.legendables=function(){return[{chart:r,name:r._groupName,color:r.getColor()}]},r.legendHighlight=function(n){x(function(l){return l.attr("fill")===n.color},s),r.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return l.select(this).attr("fill")!==n.color}).classed("fadeout",!0)},r.legendReset=function(n){x(function(l){return l.attr("fill")===n.color},c),r.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return l.select(this).attr("fill")!==n.color}).classed("fadeout",!1)},r.createBrushHandlePaths=function(){},r.extendBrush=function(l){return r.round()&&(l[0]=l[0].map(r.round()),l[1]=l[1].map(r.round())),l},r.brushIsEmpty=function(l){return!l||l[0][0]>=l[1][0]||l[0][1]>=l[1][1]},r._brushing=function(){if(l.event.sourceEvent&&(!l.event.sourceEvent.type||-1===["start","brush","end"].indexOf(l.event.sourceEvent.type))){var n=l.event.selection,e=r.brushIsEmpty(n);n&&(n=n.map(function(l){return l.map(function(l,n){return(0===n?r.x():r.y()).invert(l)})}),n=r.extendBrush(n),e=e&&r.brushIsEmpty(n)),r.redrawBrush(n,!1);var u=e?null:t.filters.RangedTwoDimensionalFilter(n);t.events.trigger(function(){r.replaceFilter(u),r.redrawGroup()},t.constants.EVENT_DELAY)}},r.redrawBrush=function(l,n){var e=r.brush(),u=r.gBrush();r.brushOn()&&u&&(r.resizing()&&r.setBrushExtents(n),l?(l=l.map(function(l){return l.map(function(l,n){return(0===n?r.x():r.y())(l)})}),t.optionalTransition(n,r.transitionDuration(),r.transitionDelay())(u).call(e.move,l)):u.call(e.move,l)),r.fadeDeselectedArea(l)},r.setBrushY=function(l){l.call(r.brush().y(r.y()))},r.anchor(n,e)},t.numberDisplay=function(n,e){var r,u=l.format(".2s"),a=t.baseMixin({}),i={one:"",some:"",none:""};return a._mandatoryAttributes(["group"]),a.ordering(function(l){return l.value}),a.html=function(l){return arguments.length?(l.none?i.none=l.none:l.one?i.none=l.one:l.some&&(i.none=l.some),l.one?i.one=l.one:l.some&&(i.one=l.some),l.some?i.some=l.some:l.one&&(i.some=l.one),a):i},a.value=function(){return a.data()},a.data(function(l){var n=l.value?l.value():function(l){if(!l.length)return null;var n=a._computeOrderedGroups(l);return n[n.length-1]}(l.all());return a.valueAccessor()(n)}),a.transitionDuration(250),a.transitionDelay(0),a._doRender=function(){var n=a.value(),t=a.selectAll(".number-display");t.empty()&&(t=t.data([0]).enter().append("span").attr("class","number-display").merge(t)),t.transition().duration(a.transitionDuration()).delay(a.transitionDelay()).ease(l.easeQuad).tween("text",function(){var t=isFinite(r)?r:0,e=l.interpolateNumber(t||0,n);r=n;var u=this;return function(l){var t=null,r=a.formatNumber()(e(l));0===n&&""!==i.none?t=i.none:1===n&&""!==i.one?t=i.one:""!==i.some&&(t=i.some),u.innerHTML=t?t.replace("%number",r):r}})},a._doRedraw=function(){return a._doRender()},a.formatNumber=function(l){return arguments.length?(u=l,a):u},a.anchor(n,e)},t.heatMap=function(n,e){var r,u,a,i=l.ascending,o=l.ascending,s=l.scaleBand(),c=l.scaleBand(),d=6.75,f=6.75,p=t.colorMixin(t.marginMixin(t.baseMixin({})));p._mandatoryAttributes(["group"]),p.title(p.colorAccessor());var b=function(l){return l},m=function(l){return l};p.colsLabel=function(l){return arguments.length?(b=l,p):b},p.rowsLabel=function(l){return arguments.length?(m=l,p):m};var h=function(l){_(0,l)},g=function(l){_(1,l)},v=function(l){var n=l.key;t.events.trigger(function(){p.filter(t.filters.TwoDimensionalFilter(n)),p.redrawGroup()})};function _(l,n){var e=p.selectAll(".box-group").filter(function(t){return t.key[l]===n}),r=e.filter(function(l){return!p.hasFilter(l.key)});t.events.trigger(function(){var l=(r.empty()?e:r).data().map(function(l){return t.filters.TwoDimensionalFilter(l.key)});p.filter([l]),p.redrawGroup()})}var y=t.logger.deprecate(function(l){return p._filter(t.filters.TwoDimensionalFilter(l))},"heatmap.filter taking a coordinate is deprecated - please pass dc.filters.TwoDimensionalFilter instead");return t.override(p,"filter",function(l){return arguments.length?null===l||"TwoDimensionalFilter"===l.filterType||Array.isArray(l)&&Array.isArray(l[0])&&"TwoDimensionalFilter"===l[0][0].filterType?p._filter(l):y(l):p._filter()}),p.rows=function(l){return arguments.length?(a=l,p):a},p.rowOrdering=function(l){return arguments.length?(o=l,p):o},p.cols=function(l){return arguments.length?(u=l,p):u},p.colOrdering=function(l){return arguments.length?(i=l,p):i},p._doRender=function(){return p.resetSvg(),r=p.svg().append("g").attr("class","heatmap").attr("transform","translate("+p.margins().left+","+p.margins().top+")"),p._doRedraw()},p._doRedraw=function(){var l=p.data(),n=p.rows()||l.map(p.valueAccessor()),e=p.cols()||l.map(p.keyAccessor());o&&(n=n.sort(o)),i&&(e=e.sort(i)),n=c.domain(n),e=s.domain(e);var u=n.domain().length,a=e.domain().length,b=Math.floor(p.effectiveWidth()/a),m=Math.floor(p.effectiveHeight()/u);e.rangeRound([0,p.effectiveWidth()]),n.rangeRound([p.effectiveHeight(),0]);var h=r.selectAll("g.box-group").data(p.data(),function(l,n){return p.keyAccessor()(l,n)+"\0"+p.valueAccessor()(l,n)});h.exit().remove();var g=h.enter().append("g").attr("class","box-group");g.append("rect").attr("class","heat-box").attr("fill","white").attr("x",function(l,n){return e(p.keyAccessor()(l,n))}).attr("y",function(l,t){return n(p.valueAccessor()(l,t))}).on("click",p.boxOnClick()),h=g.merge(h),p.renderTitle()&&(g.append("title"),h.select("title").text(p.title())),t.transition(h.select("rect"),p.transitionDuration(),p.transitionDelay()).attr("x",function(l,n){return e(p.keyAccessor()(l,n))}).attr("y",function(l,t){return n(p.valueAccessor()(l,t))}).attr("rx",d).attr("ry",f).attr("fill",p.getColor).attr("width",b).attr("height",m);var v=r.select("g.cols");v.empty()&&(v=r.append("g").attr("class","cols axis"));var _=v.selectAll("text").data(e.domain());_.exit().remove(),_=_.enter().append("text").attr("x",function(l){return e(l)+b/2}).style("text-anchor","middle").attr("y",p.effectiveHeight()).attr("dy",12).on("click",p.xAxisOnClick()).text(p.colsLabel()).merge(_),t.transition(_,p.transitionDuration(),p.transitionDelay()).text(p.colsLabel()).attr("x",function(l){return e(l)+b/2}).attr("y",p.effectiveHeight());var y=r.select("g.rows");y.empty()&&(y=r.append("g").attr("class","rows axis"));var x=y.selectAll("text").data(n.domain());return x.exit().remove(),x=x.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",function(l){return n(l)+m/2}).attr("dy",6).on("click",p.yAxisOnClick()).text(p.rowsLabel()).merge(x),t.transition(x,p.transitionDuration(),p.transitionDelay()).text(p.rowsLabel()).attr("y",function(l){return n(l)+m/2}),p.hasFilter()?p.selectAll("g.box-group").each(function(l){p.isSelectedNode(l)?p.highlightSelected(this):p.fadeDeselected(this)}):p.selectAll("g.box-group").each(function(){p.resetHighlight(this)}),p},p.boxOnClick=function(l){return arguments.length?(v=l,p):v},p.xAxisOnClick=function(l){return arguments.length?(h=l,p):h},p.yAxisOnClick=function(l){return arguments.length?(g=l,p):g},p.xBorderRadius=function(l){return arguments.length?(d=l,p):d},p.yBorderRadius=function(l){return arguments.length?(f=l,p):f},p.isSelectedNode=function(l){return p.hasFilter(l.key)},p.anchor(n,e)},function(){function n(l){return[0,l.length-1]}function e(n){return[l.quantile(n,.25),l.quantile(n,.5),l.quantile(n,.75)]}l.box=function(){var r=1,u=1,a=0,i=0,o=null,s=Number,c=n,d=e,f=null,p=!1,b=3,m=.3,h=.8,g=!1,v=!0,_=!1;function y(n){n.each(function(n,t){n=n.map(s).sort(l.ascending);var e,y,x=l.select(this),A=n.length;if(0!==A){var w=n.quartiles=d(n),k=c&&c.call(this,n,t),C=k&&k.map(function(l){return n[l]}),L=k?l.range(0,k[0]).concat(l.range(k[1]+1,A)):l.range(A);v?(e=n[0],y=n[A-1]):(e=n[k[0]],y=n[k[1]]);var D=l.range(k[0],k[1]+1),S=l.scaleLinear().domain(o&&o.call(this,n,t)||[e,y]).range([u,0]),M=this.__chart__||l.scaleLinear().domain([0,1/0]).range(S.range());this.__chart__=S;var B=x.selectAll("line.center").data(C?[C]:[]);B.enter().insert("line","rect").attr("class","center").attr("x1",r/2).attr("y1",function(l){return M(l[0])}).attr("x2",r/2).attr("y2",function(l){return M(l[1])}).style("opacity",1e-6).transition().duration(a).delay(i).style("opacity",1).attr("y1",function(l){return S(l[0])}).attr("y2",function(l){return S(l[1])}),B.transition().duration(a).delay(i).style("opacity",1).attr("x1",r/2).attr("x2",r/2).attr("y1",function(l){return S(l[0])}).attr("y2",function(l){return S(l[1])}),B.exit().transition().duration(a).delay(i).style("opacity",1e-6).attr("y1",function(l){return S(l[0])}).attr("y2",function(l){return S(l[1])}).remove();var F=x.selectAll("rect.box").data([w]);F.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(l){return M(l[2])}).attr("width",r).attr("height",function(l){return M(l[0])-M(l[2])}).style("fill-opacity",p?.1:1).transition().duration(a).delay(i).attr("y",function(l){return S(l[2])}).attr("height",function(l){return S(l[0])-S(l[2])}),F.transition().duration(a).delay(i).attr("width",r).attr("y",function(l){return S(l[2])}).attr("height",function(l){return S(l[0])-S(l[2])});var R=x.selectAll("line.median").data([w[1]]);R.enter().append("line").attr("class","median").attr("x1",0).attr("y1",M).attr("x2",r).attr("y2",M).transition().duration(a).delay(i).attr("y1",S).attr("y2",S),R.transition().duration(a).delay(i).attr("x1",0).attr("x2",r).attr("y1",S).attr("y2",S);var E=x.selectAll("line.whisker").data(C||[]);if(E.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",M).attr("x2",r).attr("y2",M).style("opacity",1e-6).transition().duration(a).delay(i).attr("y1",S).attr("y2",S).style("opacity",1),E.transition().duration(a).delay(i).attr("x1",0).attr("x2",r).attr("y1",S).attr("y2",S).style("opacity",1),E.exit().transition().duration(a).delay(i).attr("y1",S).attr("y2",S).style("opacity",1e-6).remove(),v){var N=_?"outlierBold":"outlier",T=_?3:5,G=_?function(){return Math.floor(Math.random()*(r*h)+1+(r-r*h)/2)}:function(){return r/2},O=x.selectAll("circle."+N).data(L,Number);O.enter().insert("circle","text").attr("class",N).attr("r",T).attr("cx",G).attr("cy",function(l){return M(n[l])}).style("opacity",1e-6).transition().duration(a).delay(i).attr("cy",function(l){return S(n[l])}).style("opacity",.6),g&&(O.selectAll("title").remove(),O.append("title").text(function(l){return n[l]})),O.transition().duration(a).delay(i).attr("cx",G).attr("cy",function(l){return S(n[l])}).style("opacity",.6),O.exit().transition().duration(a).delay(i).attr("cy",0).style("opacity",1e-6).remove()}if(p){var P=x.selectAll("circle.data").data(D);P.enter().insert("circle","text").attr("class","data").attr("r",b).attr("cx",function(){return Math.floor(Math.random()*(r*h)+1+(r-r*h)/2)}).attr("cy",function(l){return M(n[l])}).style("opacity",1e-6).transition().duration(a).delay(i).attr("cy",function(l){return S(n[l])}).style("opacity",m),g&&(P.selectAll("title").remove(),P.append("title").text(function(l){return n[l]})),P.transition().duration(a).delay(i).attr("cx",function(){return Math.floor(Math.random()*(r*h)+1+(r-r*h)/2)}).attr("cy",function(l){return S(n[l])}).style("opacity",m),P.exit().transition().duration(a).delay(i).attr("cy",0).style("opacity",1e-6).remove()}var q=f||S.tickFormat(8),z=x.selectAll("text.box").data(w);z.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(l,n){return 1&n?6:-6}).attr("x",function(l,n){return 1&n?r:0}).attr("y",M).attr("text-anchor",function(l,n){return 1&n?"start":"end"}).text(q).transition().duration(a).delay(i).attr("y",S),z.transition().duration(a).delay(i).text(q).attr("x",function(l,n){return 1&n?r:0}).attr("y",S);var H=x.selectAll("text.whisker").data(C||[]);H.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",r).attr("y",M).text(q).style("opacity",1e-6).transition().duration(a).delay(i).attr("y",S).style("opacity",1),H.transition().duration(a).delay(i).text(q).attr("x",r).attr("y",S).style("opacity",1),H.exit().transition().duration(a).delay(i).attr("y",S).style("opacity",1e-6).remove(),delete n.quartiles}}),l.timerFlush()}return y.width=function(l){return arguments.length?(r=l,y):r},y.height=function(l){return arguments.length?(u=l,y):u},y.tickFormat=function(l){return arguments.length?(f=l,y):f},y.showOutliers=function(l){return arguments.length?(v=l,y):v},y.boldOutlier=function(l){return arguments.length?(_=l,y):_},y.renderDataPoints=function(l){return arguments.length?(p=l,y):p},y.renderTitle=function(l){return arguments.length?(g=l,y):g},y.dataOpacity=function(l){return arguments.length?(m=l,y):m},y.dataWidthPortion=function(l){return arguments.length?(h=l,y):h},y.duration=function(l){return arguments.length?(a=l,y):a},y.domain=function(l){return arguments.length?(o=null===l?l:"function"==typeof l?l:t.utils.constant(l),y):o},y.value=function(l){return arguments.length?(s=l,y):s},y.whiskers=function(l){return arguments.length?(c=l,y):c},y.quartiles=function(l){return arguments.length?(d=l,y):d},y}}(),t.boxPlot=function(n,e){var r=t.coordinateGridMixin({}),u=function(l){var n=l.quartiles[0],t=l.quartiles[2],e=1.5*(t-n),r=-1,u=l.length;do{++r}while(l[r]<n-e);do{--u}while(l[u]>t+e);return[r,u]},a=l.box(),i=null,o=!1,s=.3,c=.8,d=!0,f=!1,p=8,b=function(l,n){return r.isOrdinal()?r.x().bandwidth():l/(1+r.boxPadding())/n};r.x(l.scaleBand()),r.xUnits(t.units.ordinal),r.data(function(l){return l.all().map(function(l){return l.map=function(n){return n.call(l,l)},l}).filter(function(l){return 0!==r.valueAccessor()(l).length})}),r.boxPadding=r._rangeBandPadding,r.boxPadding(.8),r.outerPadding=r._outerRangeBandPadding,r.outerPadding(.5),r.boxWidth=function(l){return arguments.length?(b="function"==typeof l?l:t.utils.constant(l),r):b};var m=function(l,n){return"translate("+r.x()(r.keyAccessor()(l,n))+", 0)"};function h(){return l.min(r.data(),function(n){return l.min(r.valueAccessor()(n))})}function g(){return l.max(r.data(),function(n){return l.max(r.valueAccessor()(n))})}function v(){return(g()-h())/r.effectiveHeight()}return r._preprocessData=function(){r.elasticX()&&r.x().domain([])},r.plotData=function(){var n=b(r.effectiveWidth(),r.xUnitCount());a.whiskers(u).width(n).height(r.effectiveHeight()).value(r.valueAccessor()).domain(r.y().domain()).duration(r.transitionDuration()).tickFormat(i).renderDataPoints(o).dataOpacity(s).dataWidthPortion(c).renderTitle(r.renderTitle()).showOutliers(d).boldOutlier(f);var e=r.chartBodyG().selectAll("g.box").data(r.data(),r.keyAccessor());!function(n){t.transition(n,r.transitionDuration(),r.transitionDelay()).attr("transform",m).call(a).each(function(n){var t=r.getColor(n,0);l.select(this).select("rect.box").attr("fill",t),l.select(this).selectAll("circle.data").attr("fill",t)})}(function(l){var n=l.enter().append("g");return n.attr("class","box").attr("transform",m).call(a).on("click",function(l){r.filter(r.keyAccessor()(l)),r.redrawGroup()}),n.merge(l)}(e)),function(l){l.exit().remove().call(a)}(e),r.fadeDeselectedArea(r.filter())},r.fadeDeselectedArea=function(l){if(r.hasFilter())if(r.isOrdinal())r.g().selectAll("g.box").each(function(l){r.isSelectedNode(l)?r.highlightSelected(this):r.fadeDeselected(this)});else{if(!r.brushOn()&&!r.parentBrushOn())return;var n=l[0],t=l[1],e=r.keyAccessor();r.g().selectAll("g.box").each(function(l){var u=e(l);u<n||u>=t?r.fadeDeselected(this):r.highlightSelected(this)})}else r.g().selectAll("g.box").each(function(){r.resetHighlight(this)})},r.isSelectedNode=function(l){return r.hasFilter(r.keyAccessor()(l))},r.yAxisMin=function(){var l=p*v();return t.utils.subtract(h()-l,r.yAxisPadding())},r.yAxisMax=function(){var l=p*v();return t.utils.add(g()+l,r.yAxisPadding())},r.tickFormat=function(l){return arguments.length?(i=l,r):i},r.yRangePadding=function(l){return arguments.length?(p=l,r):p},r.renderDataPoints=function(l){return arguments.length?(o=l,r):o},r.dataOpacity=function(l){return arguments.length?(s=l,r):s},r.dataWidthPortion=function(l){return arguments.length?(c=l,r):c},r.showOutliers=function(l){return arguments.length?(d=l,r):d},r.boldOutlier=function(l){return arguments.length?(f=l,r):f},r.anchor(n,e)},t.selectMenu=function(n,e){var r,u=t.baseMixin({}),a="Select all",i=!1,o=null,s=null,c=function(l,n){return u.keyAccessor()(l)>u.keyAccessor()(n)?1:u.keyAccessor()(n)>u.keyAccessor()(l)?-1:0},d=function(l){return u.valueAccessor()(l)>0};u.data(function(l){return l.all().filter(d)}),u._doRender=function(){return u.select("select").remove(),(r=u.root().append("select").classed("dc-select-menu",!0)).append("option").text(a).attr("value",""),u._doRedraw(),u};var f=window.navigator.userAgent;function p(n,t){var e,r=l.event.target;1===(e=r.selectedOptions?Array.prototype.slice.call(r.selectedOptions).map(function(l){return l.value}):[].slice.call(l.event.target.options).filter(function(l){return l.selected}).map(function(l){return l.value})).length&&""===e[0]?e=o||null:i||1!==e.length||(e=e[0]),u.onChange(e)}return f.indexOf("Trident/")>0&&-1===f.indexOf("MSIE")&&(u.redraw=u.render),u._doRedraw=function(){var l;return r.attr("multiple",!!i||null),r.attr("size",null!==s?s:null),(l=r.selectAll("option.dc-select-option").data(u.data(),function(l){return u.keyAccessor()(l)})).exit().remove(),l.enter().append("option").classed("dc-select-option",!0).attr("value",function(l){return u.keyAccessor()(l)}).merge(l).text(u.title()),r.selectAll("option.dc-select-option").sort(c),r.on("change",p),u.hasFilter()&&i?r.selectAll("option").property("selected",function(l){return void 0!==l&&u.filters().indexOf(String(u.keyAccessor()(l)))>=0}):u.hasFilter()?r.property("value",u.filter()):r.property("value",""),u},u.onChange=function(l){l&&i?u.replaceFilter([l]):l?u.replaceFilter(l):u.filterAll(),t.events.trigger(function(){u.redrawGroup()})},u.order=function(l){return arguments.length?(c=l,u):c},u.promptText=function(l){return arguments.length?(a=l,u):a},u.filterDisplayed=function(l){return arguments.length?(d=l,u):d},u.multiple=function(l){return arguments.length?(i=l,u):i},u.promptValue=function(l){return arguments.length?(o=l,u):o},u.numberVisible=function(l){return arguments.length?(s=l,u):s},u.size=t.logger.deprecate(u.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),u.anchor(n,e)},t.textFilterWidget=function(l,n){var e=t.baseMixin({}),r=function(l){return l.toLowerCase()},u=function(l){return l=r(l),function(n){return-1!==r(n).indexOf(l)}},a="search";return e.group(function(){throw"the group function on textFilterWidget should never be called, please report the issue"}),e._doRender=function(){return e.select("input").remove(),e.root().append("input").classed("dc-text-filter-input",!0).on("input",function(){e.dimension().filterFunction(u(this.value)),t.events.trigger(function(){t.redrawAll()},t.constants.EVENT_DELAY)}),e._doRedraw(),e},e._doRedraw=function(){return e.root().selectAll("input").attr("placeholder",a),e},e.normalize=function(l){return arguments.length?(r=l,e):r},e.placeHolder=function(l){return arguments.length?(a=l,e):a},e.filterFunctionFactory=function(l){return arguments.length?(u=l,e):u},e.anchor(l,n)},t.cboxMenu=function(n,e){var r,u=t.baseMixin({}),a="Select all",i=!1,o="radio",s=null,c=Math.floor(1e5*Math.random())+1,d=function(l,n){return u.keyAccessor()(l)>u.keyAccessor()(n)?1:u.keyAccessor()(n)>u.keyAccessor()(l)?-1:0},f=function(l){return u.valueAccessor()(l)>0};function p(n,t){var e;l.select(l.event.target).datum()?(e=l.select(this).selectAll("input").filter(function(l){if(l)return this.checked}).nodes().map(function(l){return l.value}),i||1!==e.length||(e=e[0])):e=s||null,u.onChange(e)}return u.data(function(l){return l.all().filter(f)}),u._doRender=function(){return u._doRedraw()},u._doRedraw=function(){return u.select("ul").remove(),r=u.root().append("ul").classed("dc-cbox-group",!0),function(){var l=r.selectAll("li.dc-cbox-item").data(u.data(),function(l){return u.keyAccessor()(l)});if(l.exit().remove(),(l=l.enter().append("li").classed("dc-cbox-item",!0).merge(l)).append("input").attr("type",o).attr("value",function(l){return u.keyAccessor()(l)}).attr("name","domain_"+c).attr("id",function(l,n){return"input_"+c+"_"+n}),l.append("label").attr("for",function(l,n){return"input_"+c+"_"+n}).text(u.title()),i)r.append("li").append("input").attr("type","reset").text(a).on("click",p);else{var n=r.append("li");n.append("input").attr("type",o).attr("value",s).attr("name","domain_"+c).attr("id",function(l,n){return"input_"+c+"_all"}).property("checked",!0),n.append("label").attr("for",function(l,n){return"input_"+c+"_all"}).text(a)}r.selectAll("li.dc-cbox-item").sort(d),r.on("change",p)}(),u.hasFilter()&&i?r.selectAll("input").property("checked",function(l){return l&&u.filters().indexOf(String(u.keyAccessor()(l)))>=0||!1}):u.hasFilter()&&r.selectAll("input").property("checked",function(l){return!!l&&u.keyAccessor()(l)===u.filter()}),u},u.onChange=function(l){l&&i?u.replaceFilter([l]):l?u.replaceFilter(l):u.filterAll(),t.events.trigger(function(){u.redrawGroup()})},u.order=function(l){return arguments.length?(d=l,u):d},u.promptText=function(l){return arguments.length?(a=l,u):a},u.filterDisplayed=function(l){return arguments.length?(f=l,u):f},u.multiple=function(l){return arguments.length?(o=(i=l)?"checkbox":"radio",u):i},u.promptValue=function(l){return arguments.length?(s=l,u):s},u.anchor(n,e)},t.abstractBubbleChart=t.bubbleMixin,t.baseChart=t.baseMixin,t.capped=t.capMixin,t.colorChart=t.colorMixin,t.coordinateGridChart=t.coordinateGridMixin,t.marginable=t.marginMixin,t.stackableChart=t.stackMixin,t.d3=l,t.crossfilter=n,t})?e.apply(n,r):e)||(l.exports=u)}}]);